---
title: Express.js with Bun.serve
description: Native Express.js implementation for Bun.serve
---

# Express.js with Bun.serve

Bun provides a native Express.js shim that works directly with `Bun.serve`, avoiding the Node.js compatibility layer for better performance.

## Status

⚠️ **Experimental** - This is a proof-of-concept implementation. Full Express.js compatibility is a work in progress.

**Note:** This shim is experimental and may have compatibility issues. Express.js works well via Bun's native `node:http` compatibility layer. This shim is provided to explore potential performance improvements, but benchmarks are needed to validate the approach. See [benchmarks](#benchmarks) below.

## Basic Usage

```ts
import express from "express"; // Uses native shim when available

const app = express();

app.get("/", (req, res) => {
  res.send("Hello World");
});

// Works with bun.serve directly
Bun.serve({
  fetch: app.fetch.bind(app),
  port: 3000,
});
```

## Features

- ✅ Basic routing (GET, POST, PUT, DELETE, PATCH)
- ✅ Route parameters (`/users/:id`)
- ✅ Middleware support
- ✅ JSON body parsing
- ✅ Core Request/Response helpers (status, send, json, headers, basic cookies)
- ⚠️ Advanced features (views, error-handling middleware, advanced cookies, etc.) - coming soon

## Example

```ts
import express from "express";

const app = express();

// Middleware
app.use((req, res, next) => {
  console.log(`${req.method} ${req.path}`);
  next();
});

// Routes
app.get("/users/:id", (req, res) => {
  res.json({ userId: req.params.id });
});

app.post("/api/data", async (req, res) => {
  const data = req.body;
  res.json({ received: data });
});

// Start server
Bun.serve({
  fetch: app.fetch.bind(app),
  port: 3000,
});
```

## Differences from Node.js Express

- Uses `Bun.serve` instead of Node.js HTTP server
- Better performance due to native implementation
- Some advanced Express features may not be available yet

## Migration

If you're using Express with Node.js compatibility:

**Before:**
```ts
const app = express();
app.listen(3000);
```

**After:**
```ts
const app = express();
Bun.serve({
  fetch: app.fetch.bind(app),
  port: 3000,
});
```

Or use the compatibility method:

```ts
const app = express();
const server = app.listen(3000); // Returns Bun.serve server
```

## Benchmarks

Performance benchmarks comparing Express via `node:http` vs the native shim are available in `bench/express-bun-serve/express-benchmark.ts`. Run with:

```bash
bun bench/express-bun-serve/express-benchmark.ts
```

**Important:** Benchmarks are needed to validate whether this shim provides meaningful performance improvements over Express via `node:http`. The shim may not be faster if Express's API design limits optimization opportunities.

## Limitations & Considerations

- **Compatibility:** This shim implements a subset of Express.js features. Some advanced features may not work.
- **Performance:** Express.js API design may limit optimization opportunities. Benchmarks are required to prove performance benefits.
- **Maintenance:** Shims can cause compatibility issues as Express evolves. Consider using Express via `node:http` for production use.
- **Bun.serve routes:** Cannot use Bun.serve's native route syntax when using this shim - must use Express middleware/routing API.

