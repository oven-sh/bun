import{EventEmitter as Tq} from"bun:events_native";import{StringDecoder as rq} from"node:string_decoder";var qQ=function(t){return typeof t==="object"&&t!==null&&t instanceof ReadableStream},QQ=function(t,M){if(typeof t!=="boolean")throw new XQ(M,"boolean",t)};var XQ=function(t,M,B){return new Error(`The argument '${t}' is invalid. Received '${B}' for type '${M}'`)},JQ=function(t,M,B){return new Error(`The value '${M}' is invalid for argument '${t}'. Reason: ${B}`)},zQ=function(t,M){var[B,F,y,I,j,R,x]=globalThis[Symbol.for("Bun.lazy")](t),g=[!1],f=function(P,A,K,U){if(A>0){const T=K.subarray(0,A),C=K.subarray(A);if(T.byteLength>0)P.push(T);if(U)P.push(null);return C.byteLength>0?C:void 0}if(U)P.push(null);return K},c=function(P,A,K,U){if(A.byteLength>0)P.push(A);if(U)P.push(null);return K},_=process.env.BUN_DISABLE_DYNAMIC_CHUNK_SIZE!=="1";const i=new FinalizationRegistry((P)=>P&&j(P)),D=512;var p=class P extends M{#q;#Q=1;#X=!1;#H=void 0;#J;#K=!1;#Z=!_;#B;constructor(A,K={}){super(K);if(typeof K.highWaterMark==="number")this.#J=K.highWaterMark;else this.#J=262144;this.#q=A,this.#X=!1,this.#H=void 0,this.#K=!1,this.#B={},i.register(this,this.#q,this.#B)}_read(A){if(n&&d("NativeReadable._read",this.__id),this.#K){n&&d("pendingRead is true",this.__id);return}var K=this.#q;if(n&&d("ptr @ NativeReadable._read",K,this.__id),K===0){this.push(null);return}if(!this.#X)n&&d("NativeReadable not constructed yet",this.__id),this.#$(K);return this.#V(this.#z(A),K)}#$(A){this.#X=!0;const K=F(A,this.#J);if(n&&d("NativeReadable internal `start` result",K,this.__id),typeof K==="number"&&K>1)this.#Z=!0,n&&d("NativeReadable resized",this.__id),this.#J=Math.min(this.#J,K);if(x){const U=x(A);if(n&&d("NativeReadable drain result",U,this.__id),(U?.byteLength??0)>0)this.push(U)}}#z(A=this.#J){var K=this.#H;if(n&&d("chunk @ #getRemainingChunk",K,this.__id),K?.byteLength??0<D){var U=A>D?A:D;this.#H=K=new Buffer(U)}return K}push(A,K){return n&&d("NativeReadable push -- result, encoding",A,K,this.__id),super.push(...arguments)}#Y(A,K,U){if(n&&d("result, isClosed @ #handleResult",A,U,this.__id),typeof A==="number"){if(A>=this.#J&&!this.#Z&&!U)this.#J*=2,this.#Z=!0;return f(this,A,K,U)}else if(typeof A==="boolean")return this.push(null),K?.byteLength??0>0?K:void 0;else if(ArrayBuffer.isView(A)){if(A.byteLength>=this.#J&&!this.#Z&&!U)this.#J*=2,this.#Z=!0,n&&d("Resized",this.__id);return c(this,A,K,U)}else throw n&&d("Unknown result type",A,this.__id),new Error("Invalid result from pull")}#V(A,K){n&&d("#internalRead()",this.__id),g[0]=!1;var U=B(K,A,g);if(Oq(U))return this.#K=!0,U.then((T)=>{this.#K=!1,n&&d("pending no longerrrrrrrr (result returned from pull)",this.__id),this.#H=this.#Y(T,A,g[0])},(T)=>{n&&d("error from pull",T,this.__id),errorOrDestroy(this,T)});else this.#H=this.#Y(U,A,g[0])}_destroy(A,K){var U=this.#q;if(U===0){K(A);return}if(i.unregister(this.#B),this.#q=0,R)R(U,!1);n&&d("NativeReadable destroyed",this.__id),y(U,A),K(A)}ref(){var A=this.#q;if(A===0)return;if(this.#Q++===0)R(A,!0)}unref(){var A=this.#q;if(A===0)return;if(this.#Q--===1)R(A,!1)}};if(!R)p.prototype.ref=void 0,p.prototype.unref=void 0;return p},iq=function(t,M){return VQ[t]||=zQ(t,M)},UQ=function(t,M,B){if(!(M&&typeof M==="object"&&M instanceof ReadableStream))return;const F=aq(M);if(!F){d("no native readable stream");return}const{stream:y,data:I}=F;return new(iq(I,t))(y,B)},{isPromise:Oq,isCallable:sq,direct:aq,Object:Uq}=globalThis[Symbol.for("Bun.lazy")]("primordials");globalThis.__IDS_TO_TRACK=process.env.DEBUG_TRACK_EE?.length?process.env.DEBUG_TRACK_EE.split(","):process.env.DEBUG_STREAMS?.length?process.env.DEBUG_STREAMS.split(","):null;var tq=!!process.env.DEBUG_TRACK_EE,n=!!(process.env.DEBUG||process.env.DEBUG_STREAMS||tq),d=n?globalThis.__IDS_TO_TRACK?(...t)=>{const M=t[t.length-1];if(!globalThis.__IDS_TO_TRACK.includes(M))return;console.log(`ID: ${M}`,...t.slice(0,-1))}:(...t)=>console.log(...t.slice(0,-1)):()=>{},FQ=Uq.create,LQ=Uq.defineProperty,jQ=Uq.getOwnPropertyDescriptor,eq=Uq.getOwnPropertyNames,NQ=Uq.getPrototypeOf,AQ=Uq.prototype.hasOwnProperty,EQ=Uq.setPrototypeOf,$q=(t,M)=>function B(){return M||(0,t[eq(t)[0]])((M={exports:{}}).exports,M),M.exports};var Hq=process.nextTick;var IQ=Array.isArray,Wq=$q({"node_modules/readable-stream/lib/ours/primordials.js"(t,M){M.exports={ArrayIsArray(B){return Array.isArray(B)},ArrayPrototypeIncludes(B,F){return B.includes(F)},ArrayPrototypeIndexOf(B,F){return B.indexOf(F)},ArrayPrototypeJoin(B,F){return B.join(F)},ArrayPrototypeMap(B,F){return B.map(F)},ArrayPrototypePop(B,F){return B.pop(F)},ArrayPrototypePush(B,F){return B.push(F)},ArrayPrototypeSlice(B,F,y){return B.slice(F,y)},Error,FunctionPrototypeCall(B,F,...y){return B.call(F,...y)},FunctionPrototypeSymbolHasInstance(B,F){return Function.prototype[Symbol.hasInstance].call(B,F)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(B,F){return Uq.defineProperties(B,F)},ObjectDefineProperty(B,F,y){return Uq.defineProperty(B,F,y)},ObjectGetOwnPropertyDescriptor(B,F){return Uq.getOwnPropertyDescriptor(B,F)},ObjectKeys(B){return Uq.keys(B)},ObjectSetPrototypeOf(B,F){return Uq.setPrototypeOf(B,F)},Promise,PromisePrototypeCatch(B,F){return B.catch(F)},PromisePrototypeThen(B,F,y){return B.then(F,y)},PromiseReject(B){return Promise.reject(B)},ReflectApply:Reflect.apply,RegExpPrototypeTest(B,F){return B.test(F)},SafeSet:Set,String,StringPrototypeSlice(B,F,y){return B.slice(F,y)},StringPrototypeToLowerCase(B){return B.toLowerCase()},StringPrototypeToUpperCase(B){return B.toUpperCase()},StringPrototypeTrim(B){return B.trim()},Symbol,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,TypedArrayPrototypeSet(B,F,y){return B.set(F,y)},Uint8Array}}}),Eq=$q({"node_modules/readable-stream/lib/ours/util.js"(t,M){var B=Uq.getPrototypeOf(async function(){}).constructor,F=typeof Blob!=="undefined"?function I(j){return j instanceof Blob}:function I(j){return!1},y=class extends Error{constructor(I){if(!Array.isArray(I))throw new TypeError(`Expected input to be an Array, got ${typeof I}`);let j="";for(let R=0;R<I.length;R++)j+=`    ${I[R].stack}
`;super(j);this.name="AggregateError",this.errors=I}};M.exports={AggregateError:y,once(I){let j=!1;return function(...R){if(j)return;j=!0,I.apply(this,R)}},createDeferredPromise:function(){let I,j;return{promise:new Promise((x,g)=>{I=x,j=g}),resolve:I,reject:j}},promisify(I){return new Promise((j,R)=>{I((x,...g)=>{if(x)return R(x);return j(...g)})})},debuglog(){return function(){}},format(I,...j){return I.replace(/%([sdifj])/g,function(...[R,x]){const g=j.shift();if(x==="f")return g.toFixed(6);else if(x==="j")return JSON.stringify(g);else if(x==="s"&&typeof g==="object")return`${g.constructor!==Uq?g.constructor.name:""} {}`.trim();else return g.toString()})},inspect(I){switch(typeof I){case"string":if(I.includes("'")){if(!I.includes('"'))return`"${I}"`;else if(!I.includes("`")&&!I.includes("${"))return`\`${I}\``}return`'${I}'`;case"number":if(isNaN(I))return"NaN";else if(Uq.is(I,-0))return String(I);return I;case"bigint":return`${String(I)}n`;case"boolean":case"undefined":return String(I);case"object":return"{}"}},types:{isAsyncFunction(I){return I instanceof B},isArrayBufferView(I){return ArrayBuffer.isView(I)}},isBlob:F},M.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")}}),Mq=$q({"node_modules/readable-stream/lib/ours/errors.js"(t,M){var{format:B,inspect:F,AggregateError:y}=Eq(),I=globalThis.AggregateError||y,j=Symbol("kIsNodeError"),R=["string","function","number","object","Function","Object","boolean","bigint","symbol"],x=/^([A-Z][a-z0-9]*)+$/,g="__node_internal_",f={};function c(K,U){if(!K)throw new f.ERR_INTERNAL_ASSERTION(U)}function _(K){let U="",T=K.length;const C=K[0]==="-"?1:0;for(;T>=C+4;T-=3)U=`_${K.slice(T-3,T)}${U}`;return`${K.slice(0,T)}${U}`}function i(K,U,T){if(typeof U==="function")return c(U.length<=T.length,`Code: ${K}; The provided arguments length (${T.length}) does not match the required ones (${U.length}).`),U(...T);const C=(U.match(/%[dfijoOs]/g)||[]).length;if(c(C===T.length,`Code: ${K}; The provided arguments length (${T.length}) does not match the required ones (${C}).`),T.length===0)return U;return B(U,...T)}function D(K,U,T){if(!T)T=Error;class C extends T{constructor(...qq){super(i(K,U,qq))}toString(){return`${this.name} [${K}]: ${this.message}`}}Uq.defineProperties(C.prototype,{name:{value:T.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${K}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),C.prototype.code=K,C.prototype[j]=!0,f[K]=C}function p(K){const U=g+K.name;return Uq.defineProperty(K,"name",{value:U}),K}function P(K,U){if(K&&U&&K!==U){if(Array.isArray(U.errors))return U.errors.push(K),U;const T=new I([U,K],U.message);return T.code=U.code,T}return K||U}var A=class extends Error{constructor(K="The operation was aborted",U=void 0){if(U!==void 0&&typeof U!=="object")throw new f.ERR_INVALID_ARG_TYPE("options","Object",U);super(K,U);this.code="ABORT_ERR",this.name="AbortError"}};D("ERR_ASSERTION","%s",Error),D("ERR_INVALID_ARG_TYPE",(K,U,T)=>{if(c(typeof K==="string","'name' must be a string"),!Array.isArray(U))U=[U];let C="The ";if(K.endsWith(" argument"))C+=`${K} `;else C+=`"${K}" ${K.includes(".")?"property":"argument"} `;C+="must be ";const qq=[],o=[],$=[];for(let Y of U)if(c(typeof Y==="string","All expected entries have to be of type string"),R.includes(Y))qq.push(Y.toLowerCase());else if(x.test(Y))o.push(Y);else c(Y!=="object",'The value "object" should be written as "Object"'),$.push(Y);if(o.length>0){const Y=qq.indexOf("object");if(Y!==-1)qq.splice(qq,Y,1),o.push("Object")}if(qq.length>0){switch(qq.length){case 1:C+=`of type ${qq[0]}`;break;case 2:C+=`one of type ${qq[0]} or ${qq[1]}`;break;default:{const Y=qq.pop();C+=`one of type ${qq.join(", ")}, or ${Y}`}}if(o.length>0||$.length>0)C+=" or "}if(o.length>0){switch(o.length){case 1:C+=`an instance of ${o[0]}`;break;case 2:C+=`an instance of ${o[0]} or ${o[1]}`;break;default:{const Y=o.pop();C+=`an instance of ${o.join(", ")}, or ${Y}`}}if($.length>0)C+=" or "}switch($.length){case 0:break;case 1:if($[0].toLowerCase()!==$[0])C+="an ";C+=`${$[0]}`;break;case 2:C+=`one of ${$[0]} or ${$[1]}`;break;default:{const Y=$.pop();C+=`one of ${$.join(", ")}, or ${Y}`}}if(T==null)C+=`. Received ${T}`;else if(typeof T==="function"&&T.name)C+=`. Received function ${T.name}`;else if(typeof T==="object"){var s;if((s=T.constructor)!==null&&s!==void 0&&s.name)C+=`. Received an instance of ${T.constructor.name}`;else{const Y=F(T,{depth:-1});C+=`. Received ${Y}`}}else{let Y=F(T,{colors:!1});if(Y.length>25)Y=`${Y.slice(0,25)}...`;C+=`. Received type ${typeof T} (${Y})`}return C},TypeError),D("ERR_INVALID_ARG_VALUE",(K,U,T="is invalid")=>{let C=F(U);if(C.length>128)C=C.slice(0,128)+"...";return`The ${K.includes(".")?"property":"argument"} '${K}' ${T}. Received ${C}`},TypeError),D("ERR_INVALID_RETURN_VALUE",(K,U,T)=>{var C;const qq=T!==null&&T!==void 0&&(C=T.constructor)!==null&&C!==void 0&&C.name?`instance of ${T.constructor.name}`:`type ${typeof T}`;return`Expected ${K} to be returned from the "${U}" function but got ${qq}.`},TypeError),D("ERR_MISSING_ARGS",(...K)=>{c(K.length>0,"At least one arg needs to be specified");let U;const T=K.length;switch(K=(Array.isArray(K)?K:[K]).map((C)=>`"${C}"`).join(" or "),T){case 1:U+=`The ${K[0]} argument`;break;case 2:U+=`The ${K[0]} and ${K[1]} arguments`;break;default:{const C=K.pop();U+=`The ${K.join(", ")}, and ${C} arguments`}break}return`${U} must be specified`},TypeError),D("ERR_OUT_OF_RANGE",(K,U,T)=>{c(U,'Missing "range" argument');let C;if(Number.isInteger(T)&&Math.abs(T)>4294967296)C=_(String(T));else if(typeof T==="bigint"){if(C=String(T),T>2n**32n||T<-(2n**32n))C=_(C);C+="n"}else C=F(T);return`The value of "${K}" is out of range. It must be ${U}. Received ${C}`},RangeError),D("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),D("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),D("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),D("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),D("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),D("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),D("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),D("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),D("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),D("ERR_STREAM_WRITE_AFTER_END","write after end",Error),D("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),M.exports={AbortError:A,aggregateTwoErrors:p(P),hideStackFrames:p,codes:f}}}),Cq=$q({"node_modules/readable-stream/lib/internal/validators.js"(t,M){var{ArrayIsArray:B,ArrayPrototypeIncludes:F,ArrayPrototypeJoin:y,ArrayPrototypeMap:I,NumberIsInteger:j,NumberMAX_SAFE_INTEGER:R,NumberMIN_SAFE_INTEGER:x,NumberParseInt:g,RegExpPrototypeTest:f,String:c,StringPrototypeToUpperCase:_,StringPrototypeTrim:i}=Wq(),{hideStackFrames:D,codes:{ERR_SOCKET_BAD_PORT:p,ERR_INVALID_ARG_TYPE:P,ERR_INVALID_ARG_VALUE:A,ERR_OUT_OF_RANGE:K,ERR_UNKNOWN_SIGNAL:U}}=Mq(),{normalizeEncoding:T}=Eq(),{isAsyncFunction:C,isArrayBufferView:qq}=Eq().types,o={};function $(V){return V===(V|0)}function s(V){return V===V>>>0}var Y=/^[0-7]+$/,Z="must be a 32-bit unsigned integer or an octal string";function N(V,h,X){if(typeof V==="undefined")V=X;if(typeof V==="string"){if(!f(Y,V))throw new A(h,V,Z);V=g(V,8)}return u(V,h,0,4294967295),V}var m=D((V,h,X=x,H=R)=>{if(typeof V!=="number")throw new P(h,"number",V);if(!j(V))throw new K(h,"an integer",V);if(V<X||V>H)throw new K(h,`>= ${X} && <= ${H}`,V)}),u=D((V,h,X=-2147483648,H=2147483647)=>{if(typeof V!=="number")throw new P(h,"number",V);if(!$(V)){if(!j(V))throw new K(h,"an integer",V);throw new K(h,`>= ${X} && <= ${H}`,V)}if(V<X||V>H)throw new K(h,`>= ${X} && <= ${H}`,V)}),J=D((V,h,X)=>{if(typeof V!=="number")throw new P(h,"number",V);if(!s(V)){if(!j(V))throw new K(h,"an integer",V);throw new K(h,`>= ${X?1:0} && < 4294967296`,V)}if(X&&V===0)throw new K(h,">= 1 && < 4294967296",V)});function z(V,h){if(typeof V!=="string")throw new P(h,"string",V)}function w(V,h){if(typeof V!=="number")throw new P(h,"number",V)}var S=D((V,h,X)=>{if(!F(X,V)){const L="must be one of: "+y(I(X,(l)=>typeof l==="string"?`'${l}'`:c(l)),", ");throw new A(h,V,L)}});function E(V,h){if(typeof V!=="boolean")throw new P(h,"boolean",V)}var W=D((V,h,X)=>{const H=X==null,L=H?!1:X.allowArray,l=H?!1:X.allowFunction;if(!(H?!1:X.nullable)&&V===null||!L&&B(V)||typeof V!=="object"&&(!l||typeof V!=="function"))throw new P(h,"Object",V)}),b=D((V,h,X=0)=>{if(!B(V))throw new P(h,"Array",V);if(V.length<X){const H=`must be longer than ${X}`;throw new A(h,V,H)}});function a(V,h="signal"){if(z(V,h),o[V]===void 0){if(o[_(V)]!==void 0)throw new U(V+" (signals must use all capital letters)");throw new U(V)}}var r=D((V,h="buffer")=>{if(!qq(V))throw new P(h,["Buffer","TypedArray","DataView"],V)});function Qq(V,h){const X=T(h),H=V.length;if(X==="hex"&&H%2!==0)throw new A("encoding",h,`is invalid for data of length ${H}`)}function Zq(V,h="Port",X=!0){if(typeof V!=="number"&&typeof V!=="string"||typeof V==="string"&&i(V).length===0||+V!==+V>>>0||V>65535||V===0&&!X)throw new p(h,V,X);return V|0}var Vq=D((V,h)=>{if(V!==void 0&&(V===null||typeof V!=="object"||!("aborted"in V)))throw new P(h,"AbortSignal",V)}),Xq=D((V,h)=>{if(typeof V!=="function")throw new P(h,"Function",V)}),Bq=D((V,h)=>{if(typeof V!=="function"||C(V))throw new P(h,"Function",V)}),Jq=D((V,h)=>{if(V!==void 0)throw new P(h,"undefined",V)});M.exports={isInt32:$,isUint32:s,parseFileMode:N,validateArray:b,validateBoolean:E,validateBuffer:r,validateEncoding:Qq,validateFunction:Xq,validateInt32:u,validateInteger:m,validateNumber:w,validateObject:W,validateOneOf:S,validatePlainFunction:Bq,validatePort:Zq,validateSignalName:a,validateString:z,validateUint32:J,validateUndefined:Jq,validateAbortSignal:Vq}}}),Iq=$q({"node_modules/readable-stream/lib/internal/streams/utils.js"(t,M){var{Symbol:B,SymbolAsyncIterator:F,SymbolIterator:y}=Wq(),I=B("kDestroyed"),j=B("kIsErrored"),R=B("kIsReadable"),x=B("kIsDisturbed");function g(J,z=!1){var w;return!!(J&&typeof J.pipe==="function"&&typeof J.on==="function"&&(!z||typeof J.pause==="function"&&typeof J.resume==="function")&&(!J._writableState||((w=J._readableState)===null||w===void 0?void 0:w.readable)!==!1)&&(!J._writableState||J._readableState))}function f(J){var z;return!!(J&&typeof J.write==="function"&&typeof J.on==="function"&&(!J._readableState||((z=J._writableState)===null||z===void 0?void 0:z.writable)!==!1))}function c(J){return!!(J&&typeof J.pipe==="function"&&J._readableState&&typeof J.on==="function"&&typeof J.write==="function")}function _(J){return J&&(J._readableState||J._writableState||typeof J.write==="function"&&typeof J.on==="function"||typeof J.pipe==="function"&&typeof J.on==="function")}function i(J,z){if(J==null)return!1;if(z===!0)return typeof J[F]==="function";if(z===!1)return typeof J[y]==="function";return typeof J[F]==="function"||typeof J[y]==="function"}function D(J){if(!_(J))return null;const{_writableState:z,_readableState:w}=J,S=z||w;return!!(J.destroyed||J[I]||S!==null&&S!==void 0&&S.destroyed)}function p(J){if(!f(J))return null;if(J.writableEnded===!0)return!0;const z=J._writableState;if(z!==null&&z!==void 0&&z.errored)return!1;if(typeof(z===null||z===void 0?void 0:z.ended)!=="boolean")return null;return z.ended}function P(J,z){if(!f(J))return null;if(J.writableFinished===!0)return!0;const w=J._writableState;if(w!==null&&w!==void 0&&w.errored)return!1;if(typeof(w===null||w===void 0?void 0:w.finished)!=="boolean")return null;return!!(w.finished||z===!1&&w.ended===!0&&w.length===0)}function A(J){if(!g(J))return null;if(J.readableEnded===!0)return!0;const z=J._readableState;if(!z||z.errored)return!1;if(typeof(z===null||z===void 0?void 0:z.ended)!=="boolean")return null;return z.ended}function K(J,z){if(!g(J))return null;const w=J._readableState;if(w!==null&&w!==void 0&&w.errored)return!1;if(typeof(w===null||w===void 0?void 0:w.endEmitted)!=="boolean")return null;return!!(w.endEmitted||z===!1&&w.ended===!0&&w.length===0)}function U(J){if(J&&J[R]!=null)return J[R];if(typeof(J===null||J===void 0?void 0:J.readable)!=="boolean")return null;if(D(J))return!1;return g(J)&&J.readable&&!K(J)}function T(J){if(typeof(J===null||J===void 0?void 0:J.writable)!=="boolean")return null;if(D(J))return!1;return f(J)&&J.writable&&!p(J)}function C(J,z){if(!_(J))return null;if(D(J))return!0;if((z===null||z===void 0?void 0:z.readable)!==!1&&U(J))return!1;if((z===null||z===void 0?void 0:z.writable)!==!1&&T(J))return!1;return!0}function qq(J){var z,w;if(!_(J))return null;if(J.writableErrored)return J.writableErrored;return(z=(w=J._writableState)===null||w===void 0?void 0:w.errored)!==null&&z!==void 0?z:null}function o(J){var z,w;if(!_(J))return null;if(J.readableErrored)return J.readableErrored;return(z=(w=J._readableState)===null||w===void 0?void 0:w.errored)!==null&&z!==void 0?z:null}function $(J){if(!_(J))return null;if(typeof J.closed==="boolean")return J.closed;const{_writableState:z,_readableState:w}=J;if(typeof(z===null||z===void 0?void 0:z.closed)==="boolean"||typeof(w===null||w===void 0?void 0:w.closed)==="boolean")return(z===null||z===void 0?void 0:z.closed)||(w===null||w===void 0?void 0:w.closed);if(typeof J._closed==="boolean"&&s(J))return J._closed;return null}function s(J){return typeof J._closed==="boolean"&&typeof J._defaultKeepAlive==="boolean"&&typeof J._removedConnection==="boolean"&&typeof J._removedContLen==="boolean"}function Y(J){return typeof J._sent100==="boolean"&&s(J)}function Z(J){var z;return typeof J._consuming==="boolean"&&typeof J._dumped==="boolean"&&((z=J.req)===null||z===void 0?void 0:z.upgradeOrConnect)===void 0}function N(J){if(!_(J))return null;const{_writableState:z,_readableState:w}=J,S=z||w;return!S&&Y(J)||!!(S&&S.autoDestroy&&S.emitClose&&S.closed===!1)}function m(J){var z;return!!(J&&((z=J[x])!==null&&z!==void 0?z:J.readableDidRead||J.readableAborted))}function u(J){var z,w,S,E,W,b,a,r,Qq,Zq;return!!(J&&((z=(w=(S=(E=(W=(b=J[j])!==null&&b!==void 0?b:J.readableErrored)!==null&&W!==void 0?W:J.writableErrored)!==null&&E!==void 0?E:(a=J._readableState)===null||a===void 0?void 0:a.errorEmitted)!==null&&S!==void 0?S:(r=J._writableState)===null||r===void 0?void 0:r.errorEmitted)!==null&&w!==void 0?w:(Qq=J._readableState)===null||Qq===void 0?void 0:Qq.errored)!==null&&z!==void 0?z:(Zq=J._writableState)===null||Zq===void 0?void 0:Zq.errored))}M.exports={kDestroyed:I,isDisturbed:m,kIsDisturbed:x,isErrored:u,kIsErrored:j,isReadable:U,kIsReadable:R,isClosed:$,isDestroyed:D,isDuplexNodeStream:c,isFinished:C,isIterable:i,isReadableNodeStream:g,isReadableEnded:A,isReadableFinished:K,isReadableErrored:o,isNodeStream:_,isWritable:T,isWritableNodeStream:f,isWritableEnded:p,isWritableFinished:P,isWritableErrored:qq,isServerRequest:Z,isServerResponse:Y,willEmitClose:N}}}),jq=$q({"node_modules/readable-stream/lib/internal/streams/end-of-stream.js"(t,M){var{AbortError:B,codes:F}=Mq(),{ERR_INVALID_ARG_TYPE:y,ERR_STREAM_PREMATURE_CLOSE:I}=F,{once:j}=Eq(),{validateAbortSignal:R,validateFunction:x,validateObject:g}=Cq(),{Promise:f}=Wq(),{isClosed:c,isReadable:_,isReadableNodeStream:i,isReadableFinished:D,isReadableErrored:p,isWritable:P,isWritableNodeStream:A,isWritableFinished:K,isWritableErrored:U,isNodeStream:T,willEmitClose:C}=Iq();function qq(Y){return Y.setHeader&&typeof Y.abort==="function"}var o=()=>{};function $(Y,Z,N){var m,u;if(arguments.length===2)N=Z,Z={};else if(Z==null)Z={};else g(Z,"options");x(N,"callback"),R(Z.signal,"options.signal"),N=j(N);const J=(m=Z.readable)!==null&&m!==void 0?m:i(Y),z=(u=Z.writable)!==null&&u!==void 0?u:A(Y);if(!T(Y))throw new y("stream","Stream",Y);const{_writableState:w,_readableState:S}=Y,E=()=>{if(!Y.writable)a()};let W=C(Y)&&i(Y)===J&&A(Y)===z,b=K(Y,!1);const a=()=>{if(b=!0,Y.destroyed)W=!1;if(W&&(!Y.readable||J))return;if(!J||r)N.call(Y)};let r=D(Y,!1);const Qq=()=>{if(r=!0,Y.destroyed)W=!1;if(W&&(!Y.writable||z))return;if(!z||b)N.call(Y)},Zq=(V)=>{N.call(Y,V)};let Vq=c(Y);const Xq=()=>{Vq=!0;const V=U(Y)||p(Y);if(V&&typeof V!=="boolean")return N.call(Y,V);if(J&&!r&&i(Y,!0)){if(!D(Y,!1))return N.call(Y,new I)}if(z&&!b){if(!K(Y,!1))return N.call(Y,new I)}N.call(Y)},Bq=()=>{Y.req.on("finish",a)};if(qq(Y)){if(Y.on("complete",a),!W)Y.on("abort",Xq);if(Y.req)Bq();else Y.on("request",Bq)}else if(z&&!w)Y.on("end",E),Y.on("close",E);if(!W&&typeof Y.aborted==="boolean")Y.on("aborted",Xq);if(Y.on("end",Qq),Y.on("finish",a),Z.error!==!1)Y.on("error",Zq);if(Y.on("close",Xq),Vq)Hq(Xq);else if(w!==null&&w!==void 0&&w.errorEmitted||S!==null&&S!==void 0&&S.errorEmitted){if(!W)Hq(Xq)}else if(!J&&(!W||_(Y))&&(b||P(Y)===!1))Hq(Xq);else if(!z&&(!W||P(Y))&&(r||_(Y)===!1))Hq(Xq);else if(S&&Y.req&&Y.aborted)Hq(Xq);const Jq=()=>{if(N=o,Y.removeListener("aborted",Xq),Y.removeListener("complete",a),Y.removeListener("abort",Xq),Y.removeListener("request",Bq),Y.req)Y.req.removeListener("finish",a);Y.removeListener("end",E),Y.removeListener("close",E),Y.removeListener("finish",a),Y.removeListener("end",Qq),Y.removeListener("error",Zq),Y.removeListener("close",Xq)};if(Z.signal&&!Vq){const V=()=>{const h=N;Jq(),h.call(Y,new B(void 0,{cause:Z.signal.reason}))};if(Z.signal.aborted)Hq(V);else{const h=N;N=j((...X)=>{Z.signal.removeEventListener("abort",V),h.apply(Y,X)}),Z.signal.addEventListener("abort",V)}}return Jq}function s(Y,Z){return new f((N,m)=>{$(Y,Z,(u)=>{if(u)m(u);else N()})})}M.exports=$,M.exports.finished=s}}),HQ=$q({"node_modules/readable-stream/lib/internal/streams/operators.js"(t,M){var{codes:{ERR_INVALID_ARG_TYPE:B,ERR_MISSING_ARGS:F,ERR_OUT_OF_RANGE:y},AbortError:I}=Mq(),{validateAbortSignal:j,validateInteger:R,validateObject:x}=Cq(),g=Wq().Symbol("kWeak"),{finished:f}=jq(),{ArrayPrototypePush:c,MathFloor:_,Number:i,NumberIsNaN:D,Promise:p,PromiseReject:P,PromisePrototypeCatch:A,Symbol:K}=Wq(),U=K("kEmpty"),T=K("kEof");function C(E,W){if(typeof E!=="function")throw new B("fn",["Function","AsyncFunction"],E);if(W!=null)x(W,"options");if((W===null||W===void 0?void 0:W.signal)!=null)j(W.signal,"options.signal");let b=1;if((W===null||W===void 0?void 0:W.concurrency)!=null)b=_(W.concurrency);return R(b,"concurrency",1),async function*a(){var r,Qq;const Zq=new AbortController,Vq=this,Xq=[],Bq=Zq.signal,Jq={signal:Bq},V=()=>Zq.abort();if(W!==null&&W!==void 0&&(r=W.signal)!==null&&r!==void 0&&r.aborted)V();W===null||W===void 0||(Qq=W.signal)===null||Qq===void 0||Qq.addEventListener("abort",V);let h,X,H=!1;function L(){H=!0}async function l(){try{for await(let q of Vq){var k;if(H)return;if(Bq.aborted)throw new I;try{q=E(q,Jq)}catch(Q){q=P(Q)}if(q===U)continue;if(typeof((k=q)===null||k===void 0?void 0:k.catch)==="function")q.catch(L);if(Xq.push(q),h)h(),h=null;if(!H&&Xq.length&&Xq.length>=b)await new p((Q)=>{X=Q})}Xq.push(T)}catch(q){const Q=P(q);A(Q,L),Xq.push(Q)}finally{var e;if(H=!0,h)h(),h=null;W===null||W===void 0||(e=W.signal)===null||e===void 0||e.removeEventListener("abort",V)}}l();try{while(!0){while(Xq.length>0){const k=await Xq[0];if(k===T)return;if(Bq.aborted)throw new I;if(k!==U)yield k;if(Xq.shift(),X)X(),X=null}await new p((k)=>{h=k})}}finally{if(Zq.abort(),H=!0,X)X(),X=null}}.call(this)}function qq(E=void 0){if(E!=null)x(E,"options");if((E===null||E===void 0?void 0:E.signal)!=null)j(E.signal,"options.signal");return async function*W(){let b=0;for await(let r of this){var a;if(E!==null&&E!==void 0&&(a=E.signal)!==null&&a!==void 0&&a.aborted)throw new I({cause:E.signal.reason});yield[b++,r]}}.call(this)}async function o(E,W=void 0){for await(let b of Z.call(this,E,W))return!0;return!1}async function $(E,W=void 0){if(typeof E!=="function")throw new B("fn",["Function","AsyncFunction"],E);return!await o.call(this,async(...b)=>{return!await E(...b)},W)}async function s(E,W){for await(let b of Z.call(this,E,W))return b;return}async function Y(E,W){if(typeof E!=="function")throw new B("fn",["Function","AsyncFunction"],E);async function b(a,r){return await E(a,r),U}for await(let a of C.call(this,b,W));}function Z(E,W){if(typeof E!=="function")throw new B("fn",["Function","AsyncFunction"],E);async function b(a,r){if(await E(a,r))return a;return U}return C.call(this,b,W)}var N=class extends F{constructor(){super("reduce");this.message="Reduce of an empty stream requires an initial value"}};async function m(E,W,b){var a;if(typeof E!=="function")throw new B("reducer",["Function","AsyncFunction"],E);if(b!=null)x(b,"options");if((b===null||b===void 0?void 0:b.signal)!=null)j(b.signal,"options.signal");let r=arguments.length>1;if(b!==null&&b!==void 0&&(a=b.signal)!==null&&a!==void 0&&a.aborted){const Bq=new I(void 0,{cause:b.signal.reason});throw this.once("error",()=>{}),await f(this.destroy(Bq)),Bq}const Qq=new AbortController,Zq=Qq.signal;if(b!==null&&b!==void 0&&b.signal){const Bq={once:!0,[g]:this};b.signal.addEventListener("abort",()=>Qq.abort(),Bq)}let Vq=!1;try{for await(let Bq of this){var Xq;if(Vq=!0,b!==null&&b!==void 0&&(Xq=b.signal)!==null&&Xq!==void 0&&Xq.aborted)throw new I;if(!r)W=Bq,r=!0;else W=await E(W,Bq,{signal:Zq})}if(!Vq&&!r)throw new N}finally{Qq.abort()}return W}async function u(E){if(E!=null)x(E,"options");if((E===null||E===void 0?void 0:E.signal)!=null)j(E.signal,"options.signal");const W=[];for await(let a of this){var b;if(E!==null&&E!==void 0&&(b=E.signal)!==null&&b!==void 0&&b.aborted)throw new I(void 0,{cause:E.signal.reason});c(W,a)}return W}function J(E,W){const b=C.call(this,E,W);return async function*a(){for await(let r of b)yield*r}.call(this)}function z(E){if(E=i(E),D(E))return 0;if(E<0)throw new y("number",">= 0",E);return E}function w(E,W=void 0){if(W!=null)x(W,"options");if((W===null||W===void 0?void 0:W.signal)!=null)j(W.signal,"options.signal");return E=z(E),async function*b(){var a;if(W!==null&&W!==void 0&&(a=W.signal)!==null&&a!==void 0&&a.aborted)throw new I;for await(let Qq of this){var r;if(W!==null&&W!==void 0&&(r=W.signal)!==null&&r!==void 0&&r.aborted)throw new I;if(E--<=0)yield Qq}}.call(this)}function S(E,W=void 0){if(W!=null)x(W,"options");if((W===null||W===void 0?void 0:W.signal)!=null)j(W.signal,"options.signal");return E=z(E),async function*b(){var a;if(W!==null&&W!==void 0&&(a=W.signal)!==null&&a!==void 0&&a.aborted)throw new I;for await(let Qq of this){var r;if(W!==null&&W!==void 0&&(r=W.signal)!==null&&r!==void 0&&r.aborted)throw new I;if(E-- >0)yield Qq;else return}}.call(this)}M.exports.streamReturningOperators={asIndexedPairs:qq,drop:w,filter:Z,flatMap:J,map:C,take:S},M.exports.promiseReturningOperators={every:$,forEach:Y,reduce:m,toArray:u,some:o,find:s}}}),Pq=$q({"node_modules/readable-stream/lib/internal/streams/destroy.js"(t,M){var{aggregateTwoErrors:B,codes:{ERR_MULTIPLE_CALLBACK:F},AbortError:y}=Mq(),{Symbol:I}=Wq(),{kDestroyed:j,isDestroyed:R,isFinished:x,isServerRequest:g}=Iq(),f="#kDestroy",c="#kConstruct";function _(Z,N,m){if(Z){if(Z.stack,N&&!N.errored)N.errored=Z;if(m&&!m.errored)m.errored=Z}}function i(Z,N){const m=this._readableState,u=this._writableState,J=u||m;if(u&&u.destroyed||m&&m.destroyed){if(typeof N==="function")N();return this}if(_(Z,u,m),u)u.destroyed=!0;if(m)m.destroyed=!0;if(!J.constructed)this.once(f,(z)=>{D(this,B(z,Z),N)});else D(this,Z,N);return this}function D(Z,N,m){let u=!1;function J(z){if(u)return;u=!0;const{_readableState:w,_writableState:S}=Z;if(_(z,S,w),S)S.closed=!0;if(w)w.closed=!0;if(typeof m==="function")m(z);if(z)Hq(p,Z,z);else Hq(P,Z)}try{Z._destroy(N||null,J)}catch(z){J(z)}}function p(Z,N){A(Z,N),P(Z)}function P(Z){const{_readableState:N,_writableState:m}=Z;if(m)m.closeEmitted=!0;if(N)N.closeEmitted=!0;if(m&&m.emitClose||N&&N.emitClose)Z.emit("close")}function A(Z,N){const m=Z?._readableState,u=Z?._writableState;if(u?.errorEmitted||m?.errorEmitted)return;if(u)u.errorEmitted=!0;if(m)m.errorEmitted=!0;Z?.emit?.("error",N)}function K(){const Z=this._readableState,N=this._writableState;if(Z)Z.constructed=!0,Z.closed=!1,Z.closeEmitted=!1,Z.destroyed=!1,Z.errored=null,Z.errorEmitted=!1,Z.reading=!1,Z.ended=Z.readable===!1,Z.endEmitted=Z.readable===!1;if(N)N.constructed=!0,N.destroyed=!1,N.closed=!1,N.closeEmitted=!1,N.errored=null,N.errorEmitted=!1,N.finalCalled=!1,N.prefinished=!1,N.ended=N.writable===!1,N.ending=N.writable===!1,N.finished=N.writable===!1}function U(Z,N,m){const u=Z?._readableState,J=Z?._writableState;if(J&&J.destroyed||u&&u.destroyed)return this;if(u&&u.autoDestroy||J&&J.autoDestroy)Z.destroy(N);else if(N){if(Error.captureStackTrace(N),J&&!J.errored)J.errored=N;if(u&&!u.errored)u.errored=N;if(m)Hq(A,Z,N);else A(Z,N)}}function T(Z,N){if(typeof Z._construct!=="function")return;const{_readableState:m,_writableState:u}=Z;if(m)m.constructed=!1;if(u)u.constructed=!1;if(Z.once(c,N),Z.listenerCount(c)>1)return;Hq(C,Z)}function C(Z){let N=!1;function m(u){if(N){U(Z,u!==null&&u!==void 0?u:new F);return}N=!0;const{_readableState:J,_writableState:z}=Z,w=z||J;if(J)J.constructed=!0;if(z)z.constructed=!0;if(w.destroyed)Z.emit(f,u);else if(u)U(Z,u,!0);else Hq(qq,Z)}try{Z._construct(m)}catch(u){m(u)}}function qq(Z){Z.emit(c)}function o(Z){return Z&&Z.setHeader&&typeof Z.abort==="function"}function $(Z){Z.emit("close")}function s(Z,N){Z.emit("error",N),Hq($,Z)}function Y(Z,N){if(!Z||R(Z))return;if(!N&&!x(Z))N=new y;if(g(Z))Z.socket=null,Z.destroy(N);else if(o(Z))Z.abort();else if(o(Z.req))Z.req.abort();else if(typeof Z.destroy==="function")Z.destroy(N);else if(typeof Z.close==="function")Z.close();else if(N)Hq(s,Z);else Hq($,Z);if(!Z.destroyed)Z[j]=!0}M.exports={construct:T,destroyer:Y,destroy:i,undestroy:K,errorOrDestroy:U}}}),Sq=$q({"node_modules/readable-stream/lib/internal/streams/legacy.js"(t,M){var{ArrayIsArray:B,ObjectSetPrototypeOf:F}=Wq();function y(j){if(!(this instanceof y))return new y(j);Tq.call(this,j)}F(y.prototype,Tq.prototype),F(y,Tq),y.prototype.pipe=function(j,R){const x=this;function g(P){if(j.writable&&j.write(P)===!1&&x.pause)x.pause()}x.on("data",g);function f(){if(x.readable&&x.resume)x.resume()}if(j.on("drain",f),!j._isStdio&&(!R||R.end!==!1))x.on("end",_),x.on("close",i);let c=!1;function _(){if(c)return;c=!0,j.end()}function i(){if(c)return;if(c=!0,typeof j.destroy==="function")j.destroy()}function D(P){if(p(),Tq.listenerCount(this,"error")===0)this.emit("error",P)}I(x,"error",D),I(j,"error",D);function p(){x.removeListener("data",g),j.removeListener("drain",f),x.removeListener("end",_),x.removeListener("close",i),x.removeListener("error",D),j.removeListener("error",D),x.removeListener("end",p),x.removeListener("close",p),j.removeListener("close",p)}return x.on("end",p),x.on("close",p),j.on("close",p),j.emit("pipe",x),j};function I(j,R,x){if(typeof j.prependListener==="function")return j.prependListener(R,x);if(!j._events||!j._events[R])j.on(R,x);else if(B(j._events[R]))j._events[R].unshift(x);else j._events[R]=[x,j._events[R]]}M.exports={Stream:y,prependListener:I}}}),gq=$q({"node_modules/readable-stream/lib/internal/streams/add-abort-signal.js"(t,M){var{AbortError:B,codes:F}=Mq(),y=jq(),{ERR_INVALID_ARG_TYPE:I}=F,j=(x,g)=>{if(typeof x!=="object"||!("aborted"in x))throw new I(g,"AbortSignal",x)};function R(x){return!!(x&&typeof x.pipe==="function")}M.exports.addAbortSignal=function x(g,f){if(j(g,"signal"),!R(f))throw new I("stream","stream.Stream",f);return M.exports.addAbortSignalNoValidate(g,f)},M.exports.addAbortSignalNoValidate=function(x,g){if(typeof x!=="object"||!("aborted"in x))return g;const f=()=>{g.destroy(new B(void 0,{cause:x.reason}))};if(x.aborted)f();else x.addEventListener("abort",f),y(g,()=>x.removeEventListener("abort",f));return g}}}),KQ=$q({"node_modules/readable-stream/lib/internal/streams/state.js"(t,M){var{MathFloor:B,NumberIsInteger:F}=Wq(),{ERR_INVALID_ARG_VALUE:y}=Mq().codes;function I(x,g,f){return x.highWaterMark!=null?x.highWaterMark:g?x[f]:null}function j(x){return x?16:16384}function R(x,g,f,c){const _=I(g,c,f);if(_!=null){if(!F(_)||_<0){const i=c?`options.${f}`:"options.highWaterMark";throw new y(i,_)}return B(_)}return j(x.objectMode)}M.exports={getHighWaterMark:R,getDefaultHighWaterMark:j}}}),pq=$q({"node_modules/readable-stream/lib/internal/streams/from.js"(t,M){var{PromisePrototypeThen:B,SymbolAsyncIterator:F,SymbolIterator:y}=Wq(),{ERR_INVALID_ARG_TYPE:I,ERR_STREAM_NULL_VALUES:j}=Mq().codes;function R(x,g,f){let c;if(typeof g==="string"||g instanceof Buffer)return new x({objectMode:!0,...f,read(){this.push(g),this.push(null)}});let _;if(g&&g[F])_=!0,c=g[F]();else if(g&&g[y])_=!1,c=g[y]();else throw new I("iterable",["Iterable"],g);const i=new x({objectMode:!0,highWaterMark:1,...f});let D=!1;i._read=function(){if(!D)D=!0,P()},i._destroy=function(A,K){B(p(A),()=>Hq(K,A),(U)=>Hq(K,U||A))};async function p(A){const K=A!==void 0&&A!==null,U=typeof c.throw==="function";if(K&&U){const{value:T,done:C}=await c.throw(A);if(await T,C)return}if(typeof c.return==="function"){const{value:T}=await c.return();await T}}async function P(){for(;;){try{const{value:A,done:K}=_?await c.next():c.next();if(K)i.push(null);else{const U=A&&typeof A.then==="function"?await A:A;if(U===null)throw D=!1,new j;else if(i.push(U))continue;else D=!1}}catch(A){i.destroy(A)}break}}return i}M.exports=R}}),uq,bq,Dq=$q({"node_modules/readable-stream/lib/internal/streams/readable.js"(t,M){var{ArrayPrototypeIndexOf:B,NumberIsInteger:F,NumberIsNaN:y,NumberParseInt:I,ObjectDefineProperties:j,ObjectKeys:R,ObjectSetPrototypeOf:x,Promise:g,SafeSet:f,SymbolAsyncIterator:c,Symbol:_}=Wq(),i=globalThis[Symbol.for("Bun.lazy")]("bun:stream").ReadableState,{Stream:D,prependListener:p}=Sq();function P(q){if(!(this instanceof P))return new P(q);const Q=this instanceof Lq();if(this._readableState=new i(q,this,Q),q){const{read:O,destroy:G,construct:v,signal:Kq}=q;if(typeof O==="function")this._read=O;if(typeof G==="function")this._destroy=G;if(typeof v==="function")this._construct=v;if(Kq&&!Q)U(Kq,this)}D.call(this,q),Z.construct(this,()=>{if(this._readableState.needReadable)s(this,this._readableState)})}x(P.prototype,D.prototype),x(P,D),P.prototype.on=function(q,Q){const O=D.prototype.on.call(this,q,Q),G=this._readableState;if(q==="data")if(G.readableListening=this.listenerCount("readable")>0,G.flowing!==!1)n&&d("in flowing mode!",this.__id),this.resume();else n&&d("in readable mode!",this.__id);else if(q==="readable"){if(n&&d("readable listener added!",this.__id),!G.endEmitted&&!G.readableListening){if(G.readableListening=G.needReadable=!0,G.flowing=!1,G.emittedReadable=!1,n&&d("on readable - state.length, reading, emittedReadable",G.length,G.reading,G.emittedReadable,this.__id),G.length)Y(this,G);else if(!G.reading)Hq(Jq,this)}else if(G.endEmitted)n&&d("end already emitted...",this.__id)}return O};class A extends P{#q;#Q;#X;#H;constructor(q,Q){const{objectMode:O,highWaterMark:G,encoding:v,signal:Kq}=q;super({objectMode:O,highWaterMark:G,encoding:v,signal:Kq});this.#X=[],this.#q=void 0,this.#H=Q,this.#Q=!1}#J(){var q=this.#X,Q=0,O=q.length;for(;Q<O;Q++){const G=q[Q];if(q[Q]=void 0,!this.push(G,void 0))return this.#X=q.slice(Q+1),!0}if(O>0)this.#X=[];return!1}#K(q){q.releaseLock(),this.#q=void 0,this.#Q=!0,this.push(null);return}async _read(){n&&d("ReadableFromWeb _read()",this.__id);var q=this.#H,Q=this.#q;if(q)Q=this.#q=q.getReader(),this.#H=void 0;else if(this.#J())return;var O;try{do{var G=!1,v;const Kq=Q.readMany();if(Oq(Kq)){if({done:G,value:v}=await Kq,this.#Q){this.#X.push(...v);return}}else({done:G,value:v}=Kq);if(G){this.#K(Q);return}if(!this.push(v[0])){this.#X=v.slice(1);return}for(let Yq=1,_q=v.length;Yq<_q;Yq++)if(!this.push(v[Yq])){this.#X=v.slice(Yq+1);return}}while(!this.#Q)}catch(Kq){O=Kq}finally{if(O)throw O}}_destroy(q,Q){if(!this.#Q){var O=this.#q;if(O)this.#q=void 0,O.cancel(q).finally(()=>{this.#Q=!0,Q(q)});return}try{Q(q)}catch(G){globalThis.reportError(G)}}}bq=A;function K(q,Q={}){if(!qQ(q))throw new m("readableStream","ReadableStream",q);S(Q,"options");const{highWaterMark:O,encoding:G,objectMode:v=!1,signal:Kq}=Q;if(G!==void 0&&!Buffer.isEncoding(G))throw new JQ(G,"options.encoding");return QQ(v,"options.objectMode"),UQ(P,q,Q)||new A({highWaterMark:O,encoding:G,objectMode:v,signal:Kq},q)}M.exports=P,uq=K;var{addAbortSignal:U}=gq(),T=jq();const{maybeReadMore:C,resume:qq,emitReadable:o,onEofChunk:$}=globalThis[Symbol.for("Bun.lazy")]("bun:stream");function s(q,Q){process.nextTick(C,q,Q)}function Y(q,Q){n&&d("NativeReadable - emitReadable",q.__id),o(q,Q)}var Z=Pq(),{aggregateTwoErrors:N,codes:{ERR_INVALID_ARG_TYPE:m,ERR_METHOD_NOT_IMPLEMENTED:u,ERR_OUT_OF_RANGE:J,ERR_STREAM_PUSH_AFTER_EOF:z,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:w}}=Mq(),{validateObject:S}=Cq(),E=pq(),W=()=>{},{errorOrDestroy:b}=Z;P.prototype.destroy=Z.destroy,P.prototype._undestroy=Z.undestroy,P.prototype._destroy=function(q,Q){Q(q)},P.prototype[Tq.captureRejectionSymbol]=function(q){this.destroy(q)},P.prototype.push=function(q,Q){return a(this,q,Q,!1)},P.prototype.unshift=function(q,Q){return a(this,q,Q,!0)};function a(q,Q,O,G){n&&d("readableAddChunk",Q,q.__id);const v=q._readableState;let Kq;if(!v.objectMode){if(typeof Q==="string"){if(O=O||v.defaultEncoding,v.encoding!==O)if(G&&v.encoding)Q=Buffer.from(Q,O).toString(v.encoding);else Q=Buffer.from(Q,O),O=""}else if(Q instanceof Buffer)O="";else if(D._isUint8Array(Q)){if(G||!v.decoder)Q=D._uint8ArrayToBuffer(Q);O=""}else if(Q!=null)Kq=new m("chunk",["string","Buffer","Uint8Array"],Q)}if(Kq)b(q,Kq);else if(Q===null)v.reading=!1,$(q,v);else if(v.objectMode||Q&&Q.length>0)if(G)if(v.endEmitted)b(q,new w);else if(v.destroyed||v.errored)return!1;else r(q,v,Q,!0);else if(v.ended)b(q,new z);else if(v.destroyed||v.errored)return!1;else if(v.reading=!1,v.decoder&&!O)if(Q=v.decoder.write(Q),v.objectMode||Q.length!==0)r(q,v,Q,!1);else s(q,v);else r(q,v,Q,!1);else if(!G)v.reading=!1,s(q,v);return!v.ended&&(v.length<v.highWaterMark||v.length===0)}function r(q,Q,O,G){if(n&&d("adding chunk",q.__id),n&&d("chunk",O.toString(),q.__id),Q.flowing&&Q.length===0&&!Q.sync&&q.listenerCount("data")>0){if(Q.multiAwaitDrain)Q.awaitDrainWriters.clear();else Q.awaitDrainWriters=null;Q.dataEmitted=!0,q.emit("data",O)}else{if(Q.length+=Q.objectMode?1:O.length,G)Q.buffer.unshift(O);else Q.buffer.push(O);if(n&&d("needReadable @ addChunk",Q.needReadable,q.__id),Q.needReadable)Y(q,Q)}s(q,Q)}P.prototype.isPaused=function(){const q=this._readableState;return q.paused===!0||q.flowing===!1},P.prototype.setEncoding=function(q){const Q=new rq(q);this._readableState.decoder=Q,this._readableState.encoding=this._readableState.decoder.encoding;const O=this._readableState.buffer;let G="";for(let v=O.length;v>0;v--)G+=Q.write(O.shift());if(G!=="")O.push(G);return this._readableState.length=G.length,this};var Qq=1073741824;function Zq(q){if(q>Qq)throw new J("size","<= 1GiB",q);else q--,q|=q>>>1,q|=q>>>2,q|=q>>>4,q|=q>>>8,q|=q>>>16,q++;return q}function Vq(q,Q){if(q<=0||Q.length===0&&Q.ended)return 0;if(Q.objectMode)return 1;if(y(q)){if(Q.flowing&&Q.length)return Q.buffer.first().length;return Q.length}if(q<=Q.length)return q;return Q.ended?Q.length:0}P.prototype.read=function(q){if(n&&d("read - n =",q,this.__id),!F(q))q=I(q,10);const Q=this._readableState,O=q;if(q>Q.highWaterMark)Q.highWaterMark=Zq(q);if(q!==0)Q.emittedReadable=!1;if(q===0&&Q.needReadable&&((Q.highWaterMark!==0?Q.length>=Q.highWaterMark:Q.length>0)||Q.ended)){if(n&&d("read: emitReadable or endReadable",Q.length,Q.ended,this.__id),Q.length===0&&Q.ended)H(this);else Y(this,Q);return null}if(q=Vq(q,Q),q===0&&Q.ended){if(n&&d("read: calling endReadable if length 0 -- length, state.ended",Q.length,Q.ended,this.__id),Q.length===0)H(this);return null}let G=Q.needReadable;if(n&&d("need readable",G,this.__id),Q.length===0||Q.length-q<Q.highWaterMark)G=!0,n&&d("length less than watermark",G,this.__id);if(Q.ended||Q.reading||Q.destroyed||Q.errored||!Q.constructed)n&&d("state.constructed?",Q.constructed,this.__id),G=!1,n&&d("reading, ended or constructing",G,this.__id);else if(G){if(n&&d("do read",this.__id),Q.reading=!0,Q.sync=!0,Q.length===0)Q.needReadable=!0;try{var v=this._read(Q.highWaterMark);if(Oq(v)){n&&d("async _read",this.__id);const Yq=Bun.peek(v);if(n&&d("peeked promise",Yq,this.__id),Yq!==v)v=Yq}if(Oq(v)&&v?.then&&sq(v.then))n&&d("async _read result.then setup",this.__id),v.then(W,function(Yq){b(this,Yq)})}catch(Yq){b(this,Yq)}if(Q.sync=!1,!Q.reading)q=Vq(O,Q)}n&&d("n @ fromList",q,this.__id);let Kq;if(q>0)Kq=X(q,Q);else Kq=null;if(n&&d("ret @ read",Kq,this.__id),Kq===null)Q.needReadable=Q.length<=Q.highWaterMark,n&&d("state.length while ret = null",Q.length,this.__id),q=0;else if(Q.length-=q,Q.multiAwaitDrain)Q.awaitDrainWriters.clear();else Q.awaitDrainWriters=null;if(Q.length===0){if(!Q.ended)Q.needReadable=!0;if(O!==q&&Q.ended)H(this)}if(Kq!==null&&!Q.errorEmitted&&!Q.closeEmitted)Q.dataEmitted=!0,this.emit("data",Kq);return Kq},P.prototype._read=function(q){throw new u("_read()")},P.prototype.pipe=function(q,Q){const O=this,G=this._readableState;if(G.pipes.length===1){if(!G.multiAwaitDrain)G.multiAwaitDrain=!0,G.awaitDrainWriters=new f(G.awaitDrainWriters?[G.awaitDrainWriters]:[])}G.pipes.push(q),n&&d("pipe count=%d opts=%j",G.pipes.length,Q,O.__id);const Kq=(!Q||Q.end!==!1)&&q!==process.stdout&&q!==process.stderr?_q:xq;if(G.endEmitted)Hq(Kq);else O.once("end",Kq);q.on("unpipe",Yq);function Yq(Aq,Fq){if(n&&d("onunpipe",O.__id),Aq===O){if(Fq&&Fq.hasUnpiped===!1)Fq.hasUnpiped=!0,oq()}}function _q(){n&&d("onend",O.__id),q.end()}let Nq,kq=!1;function oq(){if(n&&d("cleanup",O.__id),q.removeListener("close",vq),q.removeListener("finish",Rq),Nq)q.removeListener("drain",Nq);if(q.removeListener("error",wq),q.removeListener("unpipe",Yq),O.removeListener("end",_q),O.removeListener("end",xq),O.removeListener("data",hq),kq=!0,Nq&&G.awaitDrainWriters&&(!q._writableState||q._writableState.needDrain))Nq()}function yq(){if(!kq){if(G.pipes.length===1&&G.pipes[0]===q)n&&d("false write response, pause",0,O.__id),G.awaitDrainWriters=q,G.multiAwaitDrain=!1;else if(G.pipes.length>1&&G.pipes.includes(q))n&&d("false write response, pause",G.awaitDrainWriters.size,O.__id),G.awaitDrainWriters.add(q);O.pause()}if(!Nq)Nq=Xq(O,q),q.on("drain",Nq)}O.on("data",hq);function hq(Aq){n&&d("ondata",O.__id);const Fq=q.write(Aq);if(n&&d("dest.write",Fq,O.__id),Fq===!1)yq()}function wq(Aq){if(d("onerror",Aq),xq(),q.removeListener("error",wq),q.listenerCount("error")===0){const Fq=q._writableState||q._readableState;if(Fq&&!Fq.errorEmitted)b(q,Aq);else q.emit("error",Aq)}}p(q,"error",wq);function vq(){q.removeListener("finish",Rq),xq()}q.once("close",vq);function Rq(){d("onfinish"),q.removeListener("close",vq),xq()}q.once("finish",Rq);function xq(){d("unpipe"),O.unpipe(q)}if(q.emit("pipe",O),q.writableNeedDrain===!0){if(G.flowing)yq()}else if(!G.flowing)d("pipe resume"),O.resume();return q};function Xq(q,Q){return function O(){const G=q._readableState;if(G.awaitDrainWriters===Q)d("pipeOnDrain",1),G.awaitDrainWriters=null;else if(G.multiAwaitDrain)d("pipeOnDrain",G.awaitDrainWriters.size),G.awaitDrainWriters.delete(Q);if((!G.awaitDrainWriters||G.awaitDrainWriters.size===0)&&q.listenerCount("data"))q.resume()}}P.prototype.unpipe=function(q){const Q=this._readableState,O={hasUnpiped:!1};if(Q.pipes.length===0)return this;if(!q){const v=Q.pipes;Q.pipes=[],this.pause();for(let Kq=0;Kq<v.length;Kq++)v[Kq].emit("unpipe",this,{hasUnpiped:!1});return this}const G=B(Q.pipes,q);if(G===-1)return this;if(Q.pipes.splice(G,1),Q.pipes.length===0)this.pause();return q.emit("unpipe",this,O),this},P.prototype.addListener=P.prototype.on,P.prototype.removeListener=function(q,Q){const O=D.prototype.removeListener.call(this,q,Q);if(q==="readable")Hq(Bq,this);return O},P.prototype.off=P.prototype.removeListener,P.prototype.removeAllListeners=function(q){const Q=D.prototype.removeAllListeners.apply(this,arguments);if(q==="readable"||q===void 0)Hq(Bq,this);return Q};function Bq(q){const Q=q._readableState;if(Q.readableListening=q.listenerCount("readable")>0,Q.resumeScheduled&&Q.paused===!1)Q.flowing=!0;else if(q.listenerCount("data")>0)q.resume();else if(!Q.readableListening)Q.flowing=null}function Jq(q){n&&d("on readable nextTick, calling read(0)",q.__id),q.read(0)}P.prototype.resume=function(){const q=this._readableState;if(!q.flowing)n&&d("resume",this.__id),q.flowing=!q.readableListening,qq(this,q);return q.paused=!1,this},P.prototype.pause=function(){if(n&&d("call pause flowing=%j",this._readableState.flowing,this.__id),this._readableState.flowing!==!1)n&&d("pause",this.__id),this._readableState.flowing=!1,this.emit("pause");return this._readableState.paused=!0,this},P.prototype.wrap=function(q){let Q=!1;q.on("data",(G)=>{if(!this.push(G)&&q.pause)Q=!0,q.pause()}),q.on("end",()=>{this.push(null)}),q.on("error",(G)=>{b(this,G)}),q.on("close",()=>{this.destroy()}),q.on("destroy",()=>{this.destroy()}),this._read=()=>{if(Q&&q.resume)Q=!1,q.resume()};const O=R(q);for(let G=1;G<O.length;G++){const v=O[G];if(this[v]===void 0&&typeof q[v]==="function")this[v]=q[v].bind(q)}return this},P.prototype[c]=function(){return V(this)},P.prototype.iterator=function(q){if(q!==void 0)S(q,"options");return V(this,q)};function V(q,Q){if(typeof q.read!=="function")q=P.wrap(q,{objectMode:!0});const O=h(q,Q);return O.stream=q,O}async function*h(q,Q){let O=W;function G(Yq){if(this===q)O(),O=W;else O=Yq}q.on("readable",G);let v;const Kq=T(q,{writable:!1},(Yq)=>{v=Yq?N(v,Yq):null,O(),O=W});try{while(!0){const Yq=q.destroyed?null:q.read();if(Yq!==null)yield Yq;else if(v)throw v;else if(v===null)return;else await new g(G)}}catch(Yq){throw v=N(v,Yq),v}finally{if((v||(Q===null||Q===void 0?void 0:Q.destroyOnReturn)!==!1)&&(v===void 0||q._readableState.autoDestroy))Z.destroyer(q,null);else q.off("readable",G),Kq()}}j(P.prototype,{readable:{get(){const q=this._readableState;return!!q&&q.readable!==!1&&!q.destroyed&&!q.errorEmitted&&!q.endEmitted},set(q){if(this._readableState)this._readableState.readable=!!q}},readableDidRead:{enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{enumerable:!1,get:function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{enumerable:!1,get:function(){return this._readableState.flowing},set:function(q){if(this._readableState)this._readableState.flowing=q}},readableLength:{enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{get(){return this._readableState?this._readableState.closed:!1}},destroyed:{enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(q){if(!this._readableState)return;this._readableState.destroyed=q}},readableEnded:{enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}}),P._fromList=X;function X(q,Q){if(Q.length===0)return null;let O;if(Q.objectMode)O=Q.buffer.shift();else if(!q||q>=Q.length){if(Q.decoder)O=Q.buffer.join("");else if(Q.buffer.length===1)O=Q.buffer.first();else O=Q.buffer.concat(Q.length);Q.buffer.clear()}else O=Q.buffer.consume(q,Q.decoder);return O}function H(q){const Q=q._readableState;if(n&&d("endEmitted @ endReadable",Q.endEmitted,q.__id),!Q.endEmitted)Q.ended=!0,Hq(L,Q,q)}function L(q,Q){if(n&&d("endReadableNT -- endEmitted, state.length",q.endEmitted,q.length,Q.__id),!q.errored&&!q.closeEmitted&&!q.endEmitted&&q.length===0){if(q.endEmitted=!0,Q.emit("end"),n&&d("end emitted @ endReadableNT",Q.__id),Q.writable&&Q.allowHalfOpen===!1)Hq(l,Q);else if(q.autoDestroy){const O=Q._writableState;if(!O||O.autoDestroy&&(O.finished||O.writable===!1))Q.destroy()}}}function l(q){if(q.writable&&!q.writableEnded&&!q.destroyed)q.end()}P.from=function(q,Q){return E(P,q,Q)};var k={newStreamReadableFromReadableStream:K};function e(){if(k===void 0)k={};return k}P.fromWeb=function(q,Q){return e().newStreamReadableFromReadableStream(q,Q)},P.toWeb=function(q){return e().newReadableStreamFromStreamReadable(q)},P.wrap=function(q,Q){var O,G;return new P({objectMode:(O=(G=q.readableObjectMode)!==null&&G!==void 0?G:q.objectMode)!==null&&O!==void 0?O:!0,...Q,destroy(v,Kq){Z.destroyer(q,v),Kq(v)}}).wrap(q)}}}),mq=$q({"node_modules/readable-stream/lib/internal/streams/writable.js"(t,M){var{ArrayPrototypeSlice:B,Error:F,FunctionPrototypeSymbolHasInstance:y,ObjectDefineProperty:I,ObjectDefineProperties:j,ObjectSetPrototypeOf:R,StringPrototypeToLowerCase:x,Symbol:g,SymbolHasInstance:f}=Wq(),c=Sq().Stream,_=Pq(),{addAbortSignal:i}=gq(),{getHighWaterMark:D,getDefaultHighWaterMark:p}=KQ(),{ERR_INVALID_ARG_TYPE:P,ERR_METHOD_NOT_IMPLEMENTED:A,ERR_MULTIPLE_CALLBACK:K,ERR_STREAM_CANNOT_PIPE:U,ERR_STREAM_DESTROYED:T,ERR_STREAM_ALREADY_FINISHED:C,ERR_STREAM_NULL_VALUES:qq,ERR_STREAM_WRITE_AFTER_END:o,ERR_UNKNOWN_ENCODING:$}=Mq().codes,{errorOrDestroy:s}=_;function Y(X={}){const H=this instanceof Lq();if(!H&&!y(Y,this))return new Y(X);if(this._writableState=new m(X,this,H),X){if(typeof X.write==="function")this._write=X.write;if(typeof X.writev==="function")this._writev=X.writev;if(typeof X.destroy==="function")this._destroy=X.destroy;if(typeof X.final==="function")this._final=X.final;if(typeof X.construct==="function")this._construct=X.construct;if(X.signal)i(X.signal,this)}c.call(this,X),_.construct(this,()=>{const L=this._writableState;if(!L.writing)r(this,L);Xq(this,L)})}R(Y.prototype,c.prototype),R(Y,c),M.exports=Y;function Z(){}var N=g("kOnFinished");function m(X,H,L){if(typeof L!=="boolean")L=H instanceof Lq();if(this.objectMode=!!(X&&X.objectMode),L)this.objectMode=this.objectMode||!!(X&&X.writableObjectMode);this.highWaterMark=X?D(this,X,"writableHighWaterMark",L):p(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;const l=!!(X&&X.decodeStrings===!1);this.decodeStrings=!l,this.defaultEncoding=X&&X.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=E.bind(void 0,H),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,u(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!X||X.emitClose!==!1,this.autoDestroy=!X||X.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[N]=[]}function u(X){X.buffered=[],X.bufferedIndex=0,X.allBuffers=!0,X.allNoop=!0}m.prototype.getBuffer=function X(){return B(this.buffered,this.bufferedIndex)},I(m.prototype,"bufferedRequestCount",{get(){return this.buffered.length-this.bufferedIndex}}),I(Y,f,{value:function(X){if(y(this,X))return!0;if(this!==Y)return!1;return X&&X._writableState instanceof m}}),Y.prototype.pipe=function(){s(this,new U)};function J(X,H,L,l){const k=X._writableState;if(typeof L==="function")l=L,L=k.defaultEncoding;else{if(!L)L=k.defaultEncoding;else if(L!=="buffer"&&!Buffer.isEncoding(L))throw new $(L);if(typeof l!=="function")l=Z}if(H===null)throw new qq;else if(!k.objectMode)if(typeof H==="string"){if(k.decodeStrings!==!1)H=Buffer.from(H,L),L="buffer"}else if(H instanceof Buffer)L="buffer";else if(c._isUint8Array(H))H=c._uint8ArrayToBuffer(H),L="buffer";else throw new P("chunk",["string","Buffer","Uint8Array"],H);let e;if(k.ending)e=new o;else if(k.destroyed)e=new T("write");if(e)return Hq(l,e),s(X,e,!0),e;return k.pendingcb++,z(X,k,H,L,l)}Y.prototype.write=function(X,H,L){return J(this,X,H,L)===!0},Y.prototype.cork=function(){this._writableState.corked++},Y.prototype.uncork=function(){const X=this._writableState;if(X.corked){if(X.corked--,!X.writing)r(this,X)}},Y.prototype.setDefaultEncoding=function X(H){if(typeof H==="string")H=x(H);if(!Buffer.isEncoding(H))throw new $(H);return this._writableState.defaultEncoding=H,this};function z(X,H,L,l,k){const e=H.objectMode?1:L.length;H.length+=e;const q=H.length<H.highWaterMark;if(!q)H.needDrain=!0;if(H.writing||H.corked||H.errored||!H.constructed){if(H.buffered.push({chunk:L,encoding:l,callback:k}),H.allBuffers&&l!=="buffer")H.allBuffers=!1;if(H.allNoop&&k!==Z)H.allNoop=!1}else H.writelen=e,H.writecb=k,H.writing=!0,H.sync=!0,X._write(L,l,H.onwrite),H.sync=!1;return q&&!H.errored&&!H.destroyed}function w(X,H,L,l,k,e,q){if(H.writelen=l,H.writecb=q,H.writing=!0,H.sync=!0,H.destroyed)H.onwrite(new T("write"));else if(L)X._writev(k,H.onwrite);else X._write(k,e,H.onwrite);H.sync=!1}function S(X,H,L,l){--H.pendingcb,l(L),a(H),s(X,L)}function E(X,H){const L=X._writableState,l=L.sync,k=L.writecb;if(typeof k!=="function"){s(X,new K);return}if(L.writing=!1,L.writecb=null,L.length-=L.writelen,L.writelen=0,H){if(Error.captureStackTrace(H),!L.errored)L.errored=H;if(X._readableState&&!X._readableState.errored)X._readableState.errored=H;if(l)Hq(S,X,L,H,k);else S(X,L,H,k)}else{if(L.buffered.length>L.bufferedIndex)r(X,L);if(l)if(L.afterWriteTickInfo!==null&&L.afterWriteTickInfo.cb===k)L.afterWriteTickInfo.count++;else L.afterWriteTickInfo={count:1,cb:k,stream:X,state:L},Hq(W,L.afterWriteTickInfo);else b(X,L,1,k)}}function W({stream:X,state:H,count:L,cb:l}){return H.afterWriteTickInfo=null,b(X,H,L,l)}function b(X,H,L,l){if(!H.ending&&!X.destroyed&&H.length===0&&H.needDrain)H.needDrain=!1,X.emit("drain");while(L-- >0)H.pendingcb--,l();if(H.destroyed)a(H);Xq(X,H)}function a(X){if(X.writing)return;for(let k=X.bufferedIndex;k<X.buffered.length;++k){var H;const{chunk:e,callback:q}=X.buffered[k],Q=X.objectMode?1:e.length;X.length-=Q,q((H=X.errored)!==null&&H!==void 0?H:new T("write"))}const L=X[N].splice(0);for(let k=0;k<L.length;k++){var l;L[k]((l=X.errored)!==null&&l!==void 0?l:new T("end"))}u(X)}function r(X,H){if(H.corked||H.bufferProcessing||H.destroyed||!H.constructed)return;const{buffered:L,bufferedIndex:l,objectMode:k}=H,e=L.length-l;if(!e)return;let q=l;if(H.bufferProcessing=!0,e>1&&X._writev){H.pendingcb-=e-1;const Q=H.allNoop?Z:(G)=>{for(let v=q;v<L.length;++v)L[v].callback(G)},O=H.allNoop&&q===0?L:B(L,q);O.allBuffers=H.allBuffers,w(X,H,!0,H.length,O,"",Q),u(H)}else{do{const{chunk:Q,encoding:O,callback:G}=L[q];L[q++]=null;const v=k?1:Q.length;w(X,H,!1,v,Q,O,G)}while(q<L.length&&!H.writing);if(q===L.length)u(H);else if(q>256)L.splice(0,q),H.bufferedIndex=0;else H.bufferedIndex=q}H.bufferProcessing=!1}Y.prototype._write=function(X,H,L){if(this._writev)this._writev([{chunk:X,encoding:H}],L);else throw new A("_write()")},Y.prototype._writev=null,Y.prototype.end=function(X,H,L,l=!1){const k=this._writableState;if(n&&d("end",k,this.__id),typeof X==="function")L=X,X=null,H=null;else if(typeof H==="function")L=H,H=null;let e;if(X!==null&&X!==void 0){let q;if(!l)q=J(this,X,H);else q=this.write(X,H);if(q instanceof F)e=q}if(k.corked)k.corked=1,this.uncork();if(e)this.emit("error",e);else if(!k.errored&&!k.ending)k.ending=!0,Xq(this,k,!0),k.ended=!0;else if(k.finished)e=new C("end");else if(k.destroyed)e=new T("end");if(typeof L==="function")if(e||k.finished)Hq(L,e);else k[N].push(L);return this};function Qq(X,H){var L=X.ending&&!X.destroyed&&X.constructed&&X.length===0&&!X.errored&&X.buffered.length===0&&!X.finished&&!X.writing&&!X.errorEmitted&&!X.closeEmitted;return d("needFinish",L,H),L}function Zq(X,H){let L=!1;function l(k){if(L){s(X,k!==null&&k!==void 0?k:K());return}if(L=!0,H.pendingcb--,k){const e=H[N].splice(0);for(let q=0;q<e.length;q++)e[q](k);s(X,k,H.sync)}else if(Qq(H))H.prefinished=!0,X.emit("prefinish"),H.pendingcb++,Hq(Bq,X,H)}H.sync=!0,H.pendingcb++;try{X._final(l)}catch(k){l(k)}H.sync=!1}function Vq(X,H){if(!H.prefinished&&!H.finalCalled)if(typeof X._final==="function"&&!H.destroyed)H.finalCalled=!0,Zq(X,H);else H.prefinished=!0,X.emit("prefinish")}function Xq(X,H,L){if(n&&d("finishMaybe -- state, sync",H,L,X.__id),!Qq(H,X.__id))return;if(Vq(X,H),H.pendingcb===0){if(L)H.pendingcb++,Hq((l,k)=>{if(Qq(k))Bq(l,k);else k.pendingcb--},X,H);else if(Qq(H))H.pendingcb++,Bq(X,H)}}function Bq(X,H){H.pendingcb--,H.finished=!0;const L=H[N].splice(0);for(let l=0;l<L.length;l++)L[l]();if(X.emit("finish"),H.autoDestroy){const l=X._readableState;if(!l||l.autoDestroy&&(l.endEmitted||l.readable===!1))X.destroy()}}j(Y.prototype,{closed:{get(){return this._writableState?this._writableState.closed:!1}},destroyed:{get(){return this._writableState?this._writableState.destroyed:!1},set(X){if(this._writableState)this._writableState.destroyed=X}},writable:{get(){const X=this._writableState;return!!X&&X.writable!==!1&&!X.destroyed&&!X.errored&&!X.ending&&!X.ended},set(X){if(this._writableState)this._writableState.writable=!!X}},writableFinished:{get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{get(){const X=this._writableState;if(!X)return!1;return!X.destroyed&&!X.ending&&X.needDrain}},writableHighWaterMark:{get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{get(){return this._writableState?this._writableState.corked:0}},writableLength:{get(){return this._writableState&&this._writableState.length}},errored:{enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{enumerable:!1,get:function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});var Jq=_.destroy;Y.prototype.destroy=function(X,H){const L=this._writableState;if(!L.destroyed&&(L.bufferedIndex<L.buffered.length||L[N].length))Hq(a,L);return Jq.call(this,X,H),this},Y.prototype._undestroy=_.undestroy,Y.prototype._destroy=function(X,H){H(X)},Y.prototype[Tq.captureRejectionSymbol]=function(X){this.destroy(X)};var V;function h(){if(V===void 0)V={};return V}Y.fromWeb=function(X,H){return h().newStreamWritableFromWritableStream(X,H)},Y.toWeb=function(X){return h().newWritableStreamFromStreamWritable(X)}}}),ZQ=$q({"node_modules/readable-stream/lib/internal/streams/duplexify.js"(t,M){var{isReadable:B,isWritable:F,isIterable:y,isNodeStream:I,isReadableNodeStream:j,isWritableNodeStream:R,isDuplexNodeStream:x}=Iq(),g=jq(),{AbortError:f,codes:{ERR_INVALID_ARG_TYPE:c,ERR_INVALID_RETURN_VALUE:_}}=Mq(),{destroyer:i}=Pq(),D=Lq(),p=Dq(),{createDeferredPromise:P}=Eq(),A=pq(),K=typeof Blob!=="undefined"?function o($){return $ instanceof Blob}:function o($){return!1},{FunctionPrototypeCall:U}=Wq();class T extends D{constructor(o){super(o);if((o===null||o===void 0?void 0:o.readable)===!1)this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0;if((o===null||o===void 0?void 0:o.writable)===!1)this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0}}M.exports=function o($,s){if(x($))return $;if(j($))return qq({readable:$});if(R($))return qq({writable:$});if(I($))return qq({writable:!1,readable:!1});if(typeof $==="function"){const{value:Z,write:N,final:m,destroy:u}=C($);if(y(Z))return A(T,Z,{objectMode:!0,write:N,final:m,destroy:u});const J=Z===null||Z===void 0?void 0:Z.then;if(typeof J==="function"){let z;const w=U(J,Z,(S)=>{if(S!=null)throw new _("nully","body",S)},(S)=>{i(z,S)});return z=new T({objectMode:!0,readable:!1,write:N,final(S){m(async()=>{try{await w,Hq(S,null)}catch(E){Hq(S,E)}})},destroy:u})}throw new _("Iterable, AsyncIterable or AsyncFunction",s,Z)}if(K($))return o($.arrayBuffer());if(y($))return A(T,$,{objectMode:!0,writable:!1});if(typeof($===null||$===void 0?void 0:$.writable)==="object"||typeof($===null||$===void 0?void 0:$.readable)==="object"){const Z=$!==null&&$!==void 0&&$.readable?j($===null||$===void 0?void 0:$.readable)?$===null||$===void 0?void 0:$.readable:o($.readable):void 0,N=$!==null&&$!==void 0&&$.writable?R($===null||$===void 0?void 0:$.writable)?$===null||$===void 0?void 0:$.writable:o($.writable):void 0;return qq({readable:Z,writable:N})}const Y=$===null||$===void 0?void 0:$.then;if(typeof Y==="function"){let Z;return U(Y,$,(N)=>{if(N!=null)Z.push(N);Z.push(null)},(N)=>{i(Z,N)}),Z=new T({objectMode:!0,writable:!1,read(){}})}throw new c(s,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],$)};function C(o){let{promise:$,resolve:s}=P();const Y=new AbortController,Z=Y.signal;return{value:o(async function*(){while(!0){const m=$;$=null;const{chunk:u,done:J,cb:z}=await m;if(Hq(z),J)return;if(Z.aborted)throw new f(void 0,{cause:Z.reason});({promise:$,resolve:s}=P()),yield u}}(),{signal:Z}),write(m,u,J){const z=s;s=null,z({chunk:m,done:!1,cb:J})},final(m){const u=s;s=null,u({done:!0,cb:m})},destroy(m,u){Y.abort(),u(m)}}}function qq(o){const $=o.readable&&typeof o.readable.read!=="function"?p.wrap(o.readable):o.readable,s=o.writable;let Y=!!B($),Z=!!F(s),N,m,u,J,z;function w(S){const E=J;if(J=null,E)E(S);else if(S)z.destroy(S);else if(!Y&&!Z)z.destroy()}if(z=new T({readableObjectMode:!!($!==null&&$!==void 0&&$.readableObjectMode),writableObjectMode:!!(s!==null&&s!==void 0&&s.writableObjectMode),readable:Y,writable:Z}),Z)g(s,(S)=>{if(Z=!1,S)i($,S);w(S)}),z._write=function(S,E,W){if(s.write(S,E))W();else N=W},z._final=function(S){s.end(),m=S},s.on("drain",function(){if(N){const S=N;N=null,S()}}),s.on("finish",function(){if(m){const S=m;m=null,S()}});if(Y)g($,(S)=>{if(Y=!1,S)i($,S);w(S)}),$.on("readable",function(){if(u){const S=u;u=null,S()}}),$.on("end",function(){z.push(null)}),z._read=function(){while(!0){const S=$.read();if(S===null){u=z._read;return}if(!z.push(S))return}};return z._destroy=function(S,E){if(!S&&J!==null)S=new f;if(u=null,N=null,m=null,J===null)E(S);else J=E,i(s,S),i($,S)},z}}}),Lq=$q({"node_modules/readable-stream/lib/internal/streams/duplex.js"(t,M){var{ObjectDefineProperties:B,ObjectGetOwnPropertyDescriptor:F,ObjectKeys:y,ObjectSetPrototypeOf:I}=Wq(),j=Dq();function R(_){if(!(this instanceof R))return new R(_);if(j.call(this,_),Gq.call(this,_),_){if(this.allowHalfOpen=_.allowHalfOpen!==!1,_.readable===!1)this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0;if(_.writable===!1)this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0}else this.allowHalfOpen=!0}M.exports=R,I(R.prototype,j.prototype),I(R,j);for(var x in Gq.prototype)if(!R.prototype[x])R.prototype[x]=Gq.prototype[x];B(R.prototype,{writable:F(Gq.prototype,"writable"),writableHighWaterMark:F(Gq.prototype,"writableHighWaterMark"),writableObjectMode:F(Gq.prototype,"writableObjectMode"),writableBuffer:F(Gq.prototype,"writableBuffer"),writableLength:F(Gq.prototype,"writableLength"),writableFinished:F(Gq.prototype,"writableFinished"),writableCorked:F(Gq.prototype,"writableCorked"),writableEnded:F(Gq.prototype,"writableEnded"),writableNeedDrain:F(Gq.prototype,"writableNeedDrain"),destroyed:{get(){if(this._readableState===void 0||this._writableState===void 0)return!1;return this._readableState.destroyed&&this._writableState.destroyed},set(_){if(this._readableState&&this._writableState)this._readableState.destroyed=_,this._writableState.destroyed=_}}});var g;function f(){if(g===void 0)g={};return g}R.fromWeb=function(_,i){return f().newStreamDuplexFromReadableWritablePair(_,i)},R.toWeb=function(_){return f().newReadableWritablePairFromDuplex(_)};var c;R.from=function(_){if(!c)c=ZQ();return c(_,"body")}}}),cq=$q({"node_modules/readable-stream/lib/internal/streams/transform.js"(t,M){var{ObjectSetPrototypeOf:B,Symbol:F}=Wq(),{ERR_METHOD_NOT_IMPLEMENTED:y}=Mq().codes,I=Lq();function j(f){if(!(this instanceof j))return new j(f);if(I.call(this,f),this._readableState.sync=!1,this[R]=null,f){if(typeof f.transform==="function")this._transform=f.transform;if(typeof f.flush==="function")this._flush=f.flush}this.on("prefinish",g.bind(this))}B(j.prototype,I.prototype),B(j,I),M.exports=j;var R=F("kCallback");function x(f){if(typeof this._flush==="function"&&!this.destroyed)this._flush((c,_)=>{if(c){if(f)f(c);else this.destroy(c);return}if(_!=null)this.push(_);if(this.push(null),f)f()});else if(this.push(null),f)f()}function g(){if(this._final!==x)x.call(this)}j.prototype._final=x,j.prototype._transform=function(f,c,_){throw new y("_transform()")},j.prototype._write=function(f,c,_){const i=this._readableState,D=this._writableState,p=i.length;this._transform(f,c,(P,A)=>{if(P){_(P);return}if(A!=null)this.push(A);if(D.ended||p===i.length||i.length<i.highWaterMark||i.highWaterMark===0||i.length===0)_();else this[R]=_})},j.prototype._read=function(){if(this[R]){const f=this[R];this[R]=null,f()}}}}),dq=$q({"node_modules/readable-stream/lib/internal/streams/passthrough.js"(t,M){var{ObjectSetPrototypeOf:B}=Wq(),F=cq();function y(I){if(!(this instanceof y))return new y(I);F.call(this,I)}B(y.prototype,F.prototype),B(y,F),y.prototype._transform=function(I,j,R){R(null,I)},M.exports=y}}),fq=$q({"node_modules/readable-stream/lib/internal/streams/pipeline.js"(t,M){var{ArrayIsArray:B,Promise:F,SymbolAsyncIterator:y}=Wq(),I=jq(),{once:j}=Eq(),R=Pq(),x=Lq(),{aggregateTwoErrors:g,codes:{ERR_INVALID_ARG_TYPE:f,ERR_INVALID_RETURN_VALUE:c,ERR_MISSING_ARGS:_,ERR_STREAM_DESTROYED:i},AbortError:D}=Mq(),{validateFunction:p,validateAbortSignal:P}=Cq(),{isIterable:A,isReadable:K,isReadableNodeStream:U,isNodeStream:T}=Iq(),C,qq;function o(J,z,w){let S=!1;J.on("close",()=>{S=!0});const E=I(J,{readable:z,writable:w},(W)=>{S=!W});return{destroy:(W)=>{if(S)return;S=!0,R.destroyer(J,W||new i("pipe"))},cleanup:E}}function $(J){return p(J[J.length-1],"streams[stream.length - 1]"),J.pop()}function s(J){if(A(J))return J;else if(U(J))return Y(J);throw new f("val",["Readable","Iterable","AsyncIterable"],J)}async function*Y(J){if(!qq)qq=Dq();yield*qq.prototype[y].call(J)}async function Z(J,z,w,{end:S}){let E,W=null;const b=(Qq)=>{if(Qq)E=Qq;if(W){const Zq=W;W=null,Zq()}},a=()=>new F((Qq,Zq)=>{if(E)Zq(E);else W=()=>{if(E)Zq(E);else Qq()}});z.on("drain",b);const r=I(z,{readable:!1},b);try{if(z.writableNeedDrain)await a();for await(let Qq of J)if(!z.write(Qq))await a();if(S)z.end();await a(),w()}catch(Qq){w(E!==Qq?g(E,Qq):Qq)}finally{r(),z.off("drain",b)}}function N(...J){return m(J,j($(J)))}function m(J,z,w){if(J.length===1&&B(J[0]))J=J[0];if(J.length<2)throw new _("streams");const S=new AbortController,E=S.signal,W=w===null||w===void 0?void 0:w.signal,b=[];P(W,"options.signal");function a(){Bq(new D)}W===null||W===void 0||W.addEventListener("abort",a);let r,Qq;const Zq=[];let Vq=0;function Xq(h){Bq(h,--Vq===0)}function Bq(h,X){if(h&&(!r||r.code==="ERR_STREAM_PREMATURE_CLOSE"))r=h;if(!r&&!X)return;while(Zq.length)Zq.shift()(r);if(W===null||W===void 0||W.removeEventListener("abort",a),S.abort(),X){if(!r)b.forEach((H)=>H());Hq(z,r,Qq)}}let Jq;for(let h=0;h<J.length;h++){const X=J[h],H=h<J.length-1,L=h>0,l=H||(w===null||w===void 0?void 0:w.end)!==!1,k=h===J.length-1;if(T(X)){let e=function(q){if(q&&q.name!=="AbortError"&&q.code!=="ERR_STREAM_PREMATURE_CLOSE")Xq(q)};if(l){const{destroy:q,cleanup:Q}=o(X,H,L);if(Zq.push(q),K(X)&&k)b.push(Q)}if(X.on("error",e),K(X)&&k)b.push(()=>{X.removeListener("error",e)})}if(h===0)if(typeof X==="function"){if(Jq=X({signal:E}),!A(Jq))throw new c("Iterable, AsyncIterable or Stream","source",Jq)}else if(A(X)||U(X))Jq=X;else Jq=x.from(X);else if(typeof X==="function")if(Jq=s(Jq),Jq=X(Jq,{signal:E}),H){if(!A(Jq,!0))throw new c("AsyncIterable",`transform[${h-1}]`,Jq)}else{var V;if(!C)C=dq();const e=new C({objectMode:!0}),q=(V=Jq)===null||V===void 0?void 0:V.then;if(typeof q==="function")Vq++,q.call(Jq,(G)=>{if(Qq=G,G!=null)e.write(G);if(l)e.end();Hq(Xq)},(G)=>{e.destroy(G),Hq(Xq,G)});else if(A(Jq,!0))Vq++,Z(Jq,e,Xq,{end:l});else throw new c("AsyncIterable or Promise","destination",Jq);Jq=e;const{destroy:Q,cleanup:O}=o(Jq,!1,!0);if(Zq.push(Q),k)b.push(O)}else if(T(X)){if(U(Jq)){Vq+=2;const e=u(Jq,X,Xq,{end:l});if(K(X)&&k)b.push(e)}else if(A(Jq))Vq++,Z(Jq,X,Xq,{end:l});else throw new f("val",["Readable","Iterable","AsyncIterable"],Jq);Jq=X}else Jq=x.from(X)}if(E!==null&&E!==void 0&&E.aborted||W!==null&&W!==void 0&&W.aborted)Hq(a);return Jq}function u(J,z,w,{end:S}){if(J.pipe(z,{end:S}),S)J.once("end",()=>z.end());else w();return I(J,{readable:!0,writable:!1},(E)=>{const W=J._readableState;if(E&&E.code==="ERR_STREAM_PREMATURE_CLOSE"&&W&&W.ended&&!W.errored&&!W.errorEmitted)J.once("end",w).once("error",w);else w(E)}),I(z,{readable:!1,writable:!0},w)}M.exports={pipelineImpl:m,pipeline:N}}}),BQ=$q({"node_modules/readable-stream/lib/internal/streams/compose.js"(t,M){var{pipeline:B}=fq(),F=Lq(),{destroyer:y}=Pq(),{isNodeStream:I,isReadable:j,isWritable:R}=Iq(),{AbortError:x,codes:{ERR_INVALID_ARG_VALUE:g,ERR_MISSING_ARGS:f}}=Mq();M.exports=function c(..._){if(_.length===0)throw new f("streams");if(_.length===1)return F.from(_[0]);const i=[..._];if(typeof _[0]==="function")_[0]=F.from(_[0]);if(typeof _[_.length-1]==="function"){const $=_.length-1;_[$]=F.from(_[$])}for(let $=0;$<_.length;++$){if(!I(_[$]))continue;if($<_.length-1&&!j(_[$]))throw new g(`streams[${$}]`,i[$],"must be readable");if($>0&&!R(_[$]))throw new g(`streams[${$}]`,i[$],"must be writable")}let D,p,P,A,K;function U($){const s=A;if(A=null,s)s($);else if($)K.destroy($);else if(!o&&!qq)K.destroy()}const T=_[0],C=B(_,U),qq=!!R(T),o=!!j(C);if(K=new F({writableObjectMode:!!(T!==null&&T!==void 0&&T.writableObjectMode),readableObjectMode:!!(C!==null&&C!==void 0&&C.writableObjectMode),writable:qq,readable:o}),qq)K._write=function($,s,Y){if(T.write($,s))Y();else D=Y},K._final=function($){T.end(),p=$},T.on("drain",function(){if(D){const $=D;D=null,$()}}),C.on("finish",function(){if(p){const $=p;p=null,$()}});if(o)C.on("readable",function(){if(P){const $=P;P=null,$()}}),C.on("end",function(){K.push(null)}),K._read=function(){while(!0){const $=C.read();if($===null){P=K._read;return}if(!K.push($))return}};return K._destroy=function($,s){if(!$&&A!==null)$=new x;if(P=null,D=null,p=null,A===null)s($);else A=s,y(C,$)},K}}}),lq=$q({"node_modules/readable-stream/lib/stream/promises.js"(t,M){var{ArrayPrototypePop:B,Promise:F}=Wq(),{isIterable:y,isNodeStream:I}=Iq(),{pipelineImpl:j}=fq(),{finished:R}=jq();function x(...g){return new F((f,c)=>{let _,i;const D=g[g.length-1];if(D&&typeof D==="object"&&!I(D)&&!y(D)){const p=B(g);_=p.signal,i=p.end}j(g,(p,P)=>{if(p)c(p);else f(P)},{signal:_,end:i})})}M.exports={finished:R,pipeline:x}}}),YQ=$q({"node_modules/readable-stream/lib/stream.js"(t,M){var{ObjectDefineProperty:B,ObjectKeys:F,ReflectApply:y}=Wq(),{promisify:{custom:I}}=Eq(),{streamReturningOperators:j,promiseReturningOperators:R}=HQ(),{codes:{ERR_ILLEGAL_CONSTRUCTOR:x}}=Mq(),g=BQ(),{pipeline:f}=fq(),{destroyer:c}=Pq(),_=jq(),i=lq(),D=Iq(),p=M.exports=Sq().Stream;p.isDisturbed=D.isDisturbed,p.isErrored=D.isErrored,p.isWritable=D.isWritable,p.isReadable=D.isReadable,p.Readable=Dq();for(let A of F(j)){let K=function(...T){if(new.target)throw x();return p.Readable.from(y(U,this,T))};const U=j[A];B(K,"name",{value:U.name}),B(K,"length",{value:U.length}),B(p.Readable.prototype,A,{value:K,enumerable:!1,configurable:!0,writable:!0})}for(let A of F(R)){let K=function(...T){if(new.target)throw x();return y(U,this,T)};const U=R[A];B(K,"name",{value:U.name}),B(K,"length",{value:U.length}),B(p.Readable.prototype,A,{value:K,enumerable:!1,configurable:!0,writable:!0})}p.Writable=mq(),p.Duplex=Lq(),p.Transform=cq(),p.PassThrough=dq(),p.pipeline=f;var{addAbortSignal:P}=gq();p.addAbortSignal=P,p.finished=_,p.destroy=c,p.compose=g,B(p,"promises",{configurable:!0,enumerable:!0,get(){return i}}),B(f,I,{enumerable:!0,get(){return i.pipeline}}),B(_,I,{enumerable:!0,get(){return i.finished}}),p.Stream=p,p._isUint8Array=function A(K){return K instanceof Uint8Array},p._uint8ArrayToBuffer=function A(K){return new Buffer(K.buffer,K.byteOffset,K.byteLength)}}}),$Q=$q({"node_modules/readable-stream/lib/ours/index.js"(t,M){const B=YQ(),F=lq(),y=B.Readable.destroy;M.exports=B,M.exports._uint8ArrayToBuffer=B._uint8ArrayToBuffer,M.exports._isUint8Array=B._isUint8Array,M.exports.isDisturbed=B.isDisturbed,M.exports.isErrored=B.isErrored,M.exports.isWritable=B.isWritable,M.exports.isReadable=B.isReadable,M.exports.Readable=B.Readable,M.exports.Writable=B.Writable,M.exports.Duplex=B.Duplex,M.exports.Transform=B.Transform,M.exports.PassThrough=B.PassThrough,M.exports.addAbortSignal=B.addAbortSignal,M.exports.finished=B.finished,M.exports.destroy=B.destroy,M.exports.destroy=y,M.exports.pipeline=B.pipeline,M.exports.compose=B.compose,M.exports._getNativeReadableStreamPrototype=iq,M.exports.NativeWritable=nq,Uq.defineProperty(B,"promises",{configurable:!0,enumerable:!0,get(){return F}}),M.exports.Stream=B.Stream,M.exports.default=M.exports}}),VQ={0:void 0,1:void 0,2:void 0,3:void 0,4:void 0,5:void 0},Gq=mq(),nq=class t extends Gq{#q;#Q;#X=!0;_construct;_destroy;_final;constructor(M,B={}){super(B);this._construct=this.#H,this._destroy=this.#K,this._final=this.#Z,this.#q=M}#H(M){this._writableState.constructed=!0,this.constructed=!0,M()}#J(){if(typeof this.#q==="object")if(typeof this.#q.write==="function")this.#Q=this.#q;else throw new Error("Invalid FileSink");else this.#Q=Bun.file(this.#q).writer()}write(M,B,F,y=this.#X){if(!y)return this.#X=!1,super.write(M,B,F);if(!this.#Q)this.#J();var I=this.#Q,j=I.write(M);if(Oq(j))return j.then(()=>{this.emit("drain"),I.flush(!0)}),!1;if(I.flush(!0),F)F(null,M.byteLength);return!0}end(M,B,F,y=this.#X){return super.end(M,B,F,y)}#K(M,B){if(this._writableState.destroyed=!0,B)B(M)}#Z(M){if(this.#Q)this.#Q.end();if(M)M()}ref(){if(!this.#Q)this.#J();this.#Q.ref()}unref(){if(!this.#Q)return;this.#Q.unref()}},zq=$Q();zq[Symbol.for("CommonJS")]=0;zq[Symbol.for("::bunternal::")]={_ReadableFromWeb:uq,_ReadableFromWebForUndici:bq};var lQ=zq,TQ=zq._uint8ArrayToBuffer,PQ=zq._isUint8Array,xQ=zq.isDisturbed,OQ=zq.isErrored,_Q=zq.isWritable,CQ=zq.isReadable,DQ=zq.Readable,Gq=zq.Writable,wQ=zq.Duplex,vQ=zq.Transform,RQ=zq.PassThrough,SQ=zq.addAbortSignal,gQ=zq.finished,fQ=zq.destroy,kQ=zq.pipeline,yQ=zq.compose,WQ=zq.Stream,hQ=zq.eos=jq,pQ=zq._getNativeReadableStreamPrototype,nq=zq.NativeWritable,uQ=WQ.promises;export{uQ as promises,kQ as pipeline,_Q as isWritable,CQ as isReadable,OQ as isErrored,xQ as isDisturbed,gQ as finished,hQ as eos,fQ as destroy,lQ as default,yQ as compose,SQ as addAbortSignal,TQ as _uint8ArrayToBuffer,PQ as _isUint8Array,pQ as _getNativeReadableStreamPrototype,Gq as Writable,vQ as Transform,WQ as Stream,DQ as Readable,RQ as PassThrough,nq as NativeWritable,wQ as Duplex};
