import{EventEmitter as CQ} from"bun:events_native";import{StringDecoder as Eq} from"node:string_decoder";var M=function(B){return typeof B==="object"&&B!==null&&B instanceof ReadableStream},F=function(B,Y){if(typeof B!=="boolean")throw new yQ(Y,"boolean",B)};var yQ=function(B,Y,U){return new Error(`The argument '${B}' is invalid. Received '${U}' for type '${Y}'`)},xq=function(B,Y,U){return new Error(`The value '${Y}' is invalid for argument '${B}'. Reason: ${U}`)},P=function(B,Y){var[U,H,X,q,J,Q,Z]=globalThis[Symbol.for("Bun.lazy")](B),K=[!1],oq=function(rq,m,tq,c){if(m>0){const eq=tq.subarray(0,m),d=tq.subarray(m);if(eq.byteLength>0)rq.push(eq);if(c)rq.push(null);return d.byteLength>0?d:void 0}if(c)rq.push(null);return tq},p=function(rq,m,tq,c){if(m.byteLength>0)rq.push(m);if(c)rq.push(null);return tq},sq=process.env.BUN_DISABLE_DYNAMIC_CHUNK_SIZE!=="1";const u=new FinalizationRegistry((rq)=>rq&&J(rq)),aq=512;var b=class rq extends Y{#q;#Q=1;#X=!1;#J=void 0;#H;#K=!1;#Z=!sq;#B;constructor(m,tq={}){super(tq);if(typeof tq.highWaterMark==="number")this.#H=tq.highWaterMark;else this.#H=262144;this.#q=m,this.#X=!1,this.#J=void 0,this.#K=!1,this.#B={},u.register(this,this.#q,this.#B)}_read(m){if(OQ&&Gq("NativeReadable._read",this.__id),this.#K){OQ&&Gq("pendingRead is true",this.__id);return}var tq=this.#q;if(OQ&&Gq("ptr @ NativeReadable._read",tq,this.__id),tq===0){this.push(null);return}if(!this.#X)OQ&&Gq("NativeReadable not constructed yet",this.__id),this.#Y(tq);return this.#V(this.#$(m),tq)}#Y(m){this.#X=!0;const tq=H(m,this.#H);if(OQ&&Gq("NativeReadable internal `start` result",tq,this.__id),typeof tq==="number"&&tq>1)this.#Z=!0,OQ&&Gq("NativeReadable resized",this.__id),this.#H=Math.min(this.#H,tq);if(Z){const c=Z(m);if(OQ&&Gq("NativeReadable drain result",c,this.__id),(c?.byteLength??0)>0)this.push(c)}}#$(m=this.#H){var tq=this.#J;if(OQ&&Gq("chunk @ #getRemainingChunk",tq,this.__id),tq?.byteLength??0<aq){var c=m>aq?m:aq;this.#J=tq=new Buffer(c)}return tq}push(m,tq){return OQ&&Gq("NativeReadable push -- result, encoding",m,tq,this.__id),super.push(...arguments)}#z(m,tq,c){if(OQ&&Gq("result, isClosed @ #handleResult",m,c,this.__id),typeof m==="number"){if(m>=this.#H&&!this.#Z&&!c)this.#H*=2,this.#Z=!0;return oq(this,m,tq,c)}else if(typeof m==="boolean")return this.push(null),tq?.byteLength??0>0?tq:void 0;else if(ArrayBuffer.isView(m)){if(m.byteLength>=this.#H&&!this.#Z&&!c)this.#H*=2,this.#Z=!0,OQ&&Gq("Resized",this.__id);return p(this,m,tq,c)}else throw OQ&&Gq("Unknown result type",m,this.__id),new Error("Invalid result from pull")}#V(m,tq){OQ&&Gq("#internalRead()",this.__id),K[0]=!1;var c=U(tq,m,K);if(Lq(c))return this.#K=!0,c.then((eq)=>{this.#K=!1,OQ&&Gq("pending no longerrrrrrrr (result returned from pull)",this.__id),this.#J=this.#z(eq,m,K[0])},(eq)=>{OQ&&Gq("error from pull",eq,this.__id),errorOrDestroy(this,eq)});else this.#J=this.#z(c,m,K[0])}_destroy(m,tq){var c=this.#q;if(c===0){tq(m);return}if(u.unregister(this.#B),this.#q=0,Q)Q(c,!1);OQ&&Gq("NativeReadable destroyed",this.__id),X(c,m),tq(m)}ref(){var m=this.#q;if(m===0)return;if(this.#Q++===0)Q(m,!0)}unref(){var m=this.#q;if(m===0)return;if(this.#Q--===1)Q(m,!1)}};if(!Q)b.prototype.ref=void 0,b.prototype.unref=void 0;return b},O=function(B,Y){return x[B]||=P(B,Y)},_=function(B,Y,U){if(!(Y&&typeof Y==="object"&&Y instanceof ReadableStream))return;const H=vQ(Y);if(!H){Gq("no native readable stream");return}const{stream:X,data:q}=H;return new(O(q,B))(X,U)},{isPromise:Lq,isCallable:Nq,direct:vQ,Object:Fq}=globalThis[Symbol.for("Bun.lazy")]("primordials");globalThis.__IDS_TO_TRACK=process.env.DEBUG_TRACK_EE?.length?process.env.DEBUG_TRACK_EE.split(","):process.env.DEBUG_STREAMS?.length?process.env.DEBUG_STREAMS.split(","):null;var SQ=!!process.env.DEBUG_TRACK_EE,OQ=!!(process.env.DEBUG||process.env.DEBUG_STREAMS||SQ),Gq=OQ?globalThis.__IDS_TO_TRACK?(...B)=>{const Y=B[B.length-1];if(!globalThis.__IDS_TO_TRACK.includes(Y))return;console.log(`ID: ${Y}`,...B.slice(0,-1))}:(...B)=>console.log(...B.slice(0,-1)):()=>{},Iq=Fq.create,gQ=Fq.defineProperty,V=Fq.getOwnPropertyDescriptor,fQ=Fq.getOwnPropertyNames,Tq=Fq.getPrototypeOf,kQ=Fq.prototype.hasOwnProperty,W=Fq.setPrototypeOf,G=(B,Y)=>function U(){return Y||(0,B[fQ(B)[0]])((Y={exports:{}}).exports,Y),Y.exports};var _Q=process.nextTick;var Pq=Array.isArray,DQ=G({"node_modules/readable-stream/lib/ours/primordials.js"(B,Y){Y.exports={ArrayIsArray(U){return Array.isArray(U)},ArrayPrototypeIncludes(U,H){return U.includes(H)},ArrayPrototypeIndexOf(U,H){return U.indexOf(H)},ArrayPrototypeJoin(U,H){return U.join(H)},ArrayPrototypeMap(U,H){return U.map(H)},ArrayPrototypePop(U,H){return U.pop(H)},ArrayPrototypePush(U,H){return U.push(H)},ArrayPrototypeSlice(U,H,X){return U.slice(H,X)},Error,FunctionPrototypeCall(U,H,...X){return U.call(H,...X)},FunctionPrototypeSymbolHasInstance(U,H){return Function.prototype[Symbol.hasInstance].call(U,H)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(U,H){return Fq.defineProperties(U,H)},ObjectDefineProperty(U,H,X){return Fq.defineProperty(U,H,X)},ObjectGetOwnPropertyDescriptor(U,H){return Fq.getOwnPropertyDescriptor(U,H)},ObjectKeys(U){return Fq.keys(U)},ObjectSetPrototypeOf(U,H){return Fq.setPrototypeOf(U,H)},Promise,PromisePrototypeCatch(U,H){return U.catch(H)},PromisePrototypeThen(U,H,X){return U.then(H,X)},PromiseReject(U){return Promise.reject(U)},ReflectApply:Reflect.apply,RegExpPrototypeTest(U,H){return U.test(H)},SafeSet:Set,String,StringPrototypeSlice(U,H,X){return U.slice(H,X)},StringPrototypeToLowerCase(U){return U.toLowerCase()},StringPrototypeToUpperCase(U){return U.toUpperCase()},StringPrototypeTrim(U){return U.trim()},Symbol,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,TypedArrayPrototypeSet(U,H,X){return U.set(H,X)},Uint8Array}}}),jq=G({"node_modules/readable-stream/lib/ours/util.js"(B,Y){var U=Fq.getPrototypeOf(async function(){}).constructor,H=typeof Blob!=="undefined"?function q(J){return J instanceof Blob}:function q(J){return!1},X=class extends Error{constructor(q){if(!Array.isArray(q))throw new TypeError(`Expected input to be an Array, got ${typeof q}`);let J="";for(let Q=0;Q<q.length;Q++)J+=`    ${q[Q].stack}
`;super(J);this.name="AggregateError",this.errors=q}};Y.exports={AggregateError:X,once(q){let J=!1;return function(...Q){if(J)return;J=!0,q.apply(this,Q)}},createDeferredPromise:function(){let q,J;return{promise:new Promise((Z,K)=>{q=Z,J=K}),resolve:q,reject:J}},promisify(q){return new Promise((J,Q)=>{q((Z,...K)=>{if(Z)return Q(Z);return J(...K)})})},debuglog(){return function(){}},format(q,...J){return q.replace(/%([sdifj])/g,function(...[Q,Z]){const K=J.shift();if(Z==="f")return K.toFixed(6);else if(Z==="j")return JSON.stringify(K);else if(Z==="s"&&typeof K==="object")return`${K.constructor!==Fq?K.constructor.name:""} {}`.trim();else return K.toString()})},inspect(q){switch(typeof q){case"string":if(q.includes("'")){if(!q.includes('"'))return`"${q}"`;else if(!q.includes("`")&&!q.includes("${"))return`\`${q}\``}return`'${q}'`;case"number":if(isNaN(q))return"NaN";else if(Fq.is(q,-0))return String(q);return q;case"bigint":return`${String(q)}n`;case"boolean":case"undefined":return String(q);case"object":return"{}"}},types:{isAsyncFunction(q){return q instanceof U},isArrayBufferView(q){return ArrayBuffer.isView(q)}},isBlob:H},Y.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")}}),hQ=G({"node_modules/readable-stream/lib/ours/errors.js"(B,Y){var{format:U,inspect:H,AggregateError:X}=jq(),q=globalThis.AggregateError||X,J=Symbol("kIsNodeError"),Q=["string","function","number","object","Function","Object","boolean","bigint","symbol"],Z=/^([A-Z][a-z0-9]*)+$/,K="__node_internal_",oq={};function p(tq,c){if(!tq)throw new oq.ERR_INTERNAL_ASSERTION(c)}function sq(tq){let c="",eq=tq.length;const d=tq[0]==="-"?1:0;for(;eq>=d+4;eq-=3)c=`_${tq.slice(eq-3,eq)}${c}`;return`${tq.slice(0,eq)}${c}`}function u(tq,c,eq){if(typeof c==="function")return p(c.length<=eq.length,`Code: ${tq}; The provided arguments length (${eq.length}) does not match the required ones (${c.length}).`),c(...eq);const d=(c.match(/%[dfijoOs]/g)||[]).length;if(p(d===eq.length,`Code: ${tq}; The provided arguments length (${eq.length}) does not match the required ones (${d}).`),eq.length===0)return c;return U(c,...eq)}function aq(tq,c,eq){if(!eq)eq=Error;class d extends eq{constructor(...qQ){super(u(tq,c,qQ))}toString(){return`${this.name} [${tq}]: ${this.message}`}}Fq.defineProperties(d.prototype,{name:{value:eq.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${tq}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),d.prototype.code=tq,d.prototype[J]=!0,oq[tq]=d}function b(tq){const c=K+tq.name;return Fq.defineProperty(tq,"name",{value:c}),tq}function rq(tq,c){if(tq&&c&&tq!==c){if(Array.isArray(c.errors))return c.errors.push(tq),c;const eq=new q([c,tq],c.message);return eq.code=c.code,eq}return tq||c}var m=class extends Error{constructor(tq="The operation was aborted",c=void 0){if(c!==void 0&&typeof c!=="object")throw new oq.ERR_INVALID_ARG_TYPE("options","Object",c);super(tq,c);this.code="ABORT_ERR",this.name="AbortError"}};aq("ERR_ASSERTION","%s",Error),aq("ERR_INVALID_ARG_TYPE",(tq,c,eq)=>{if(p(typeof tq==="string","'name' must be a string"),!Array.isArray(c))c=[c];let d="The ";if(tq.endsWith(" argument"))d+=`${tq} `;else d+=`"${tq}" ${tq.includes(".")?"property":"argument"} `;d+="must be ";const qQ=[],l=[],QQ=[];for(let XQ of c)if(p(typeof XQ==="string","All expected entries have to be of type string"),Q.includes(XQ))qQ.push(XQ.toLowerCase());else if(Z.test(XQ))l.push(XQ);else p(XQ!=="object",'The value "object" should be written as "Object"'),QQ.push(XQ);if(l.length>0){const XQ=qQ.indexOf("object");if(XQ!==-1)qQ.splice(qQ,XQ,1),l.push("Object")}if(qQ.length>0){switch(qQ.length){case 1:d+=`of type ${qQ[0]}`;break;case 2:d+=`one of type ${qQ[0]} or ${qQ[1]}`;break;default:{const XQ=qQ.pop();d+=`one of type ${qQ.join(", ")}, or ${XQ}`}}if(l.length>0||QQ.length>0)d+=" or "}if(l.length>0){switch(l.length){case 1:d+=`an instance of ${l[0]}`;break;case 2:d+=`an instance of ${l[0]} or ${l[1]}`;break;default:{const XQ=l.pop();d+=`an instance of ${l.join(", ")}, or ${XQ}`}}if(QQ.length>0)d+=" or "}switch(QQ.length){case 0:break;case 1:if(QQ[0].toLowerCase()!==QQ[0])d+="an ";d+=`${QQ[0]}`;break;case 2:d+=`one of ${QQ[0]} or ${QQ[1]}`;break;default:{const XQ=QQ.pop();d+=`one of ${QQ.join(", ")}, or ${XQ}`}}if(eq==null)d+=`. Received ${eq}`;else if(typeof eq==="function"&&eq.name)d+=`. Received function ${eq.name}`;else if(typeof eq==="object"){var i;if((i=eq.constructor)!==null&&i!==void 0&&i.name)d+=`. Received an instance of ${eq.constructor.name}`;else{const XQ=H(eq,{depth:-1});d+=`. Received ${XQ}`}}else{let XQ=H(eq,{colors:!1});if(XQ.length>25)XQ=`${XQ.slice(0,25)}...`;d+=`. Received type ${typeof eq} (${XQ})`}return d},TypeError),aq("ERR_INVALID_ARG_VALUE",(tq,c,eq="is invalid")=>{let d=H(c);if(d.length>128)d=d.slice(0,128)+"...";return`The ${tq.includes(".")?"property":"argument"} '${tq}' ${eq}. Received ${d}`},TypeError),aq("ERR_INVALID_RETURN_VALUE",(tq,c,eq)=>{var d;const qQ=eq!==null&&eq!==void 0&&(d=eq.constructor)!==null&&d!==void 0&&d.name?`instance of ${eq.constructor.name}`:`type ${typeof eq}`;return`Expected ${tq} to be returned from the "${c}" function but got ${qQ}.`},TypeError),aq("ERR_MISSING_ARGS",(...tq)=>{p(tq.length>0,"At least one arg needs to be specified");let c;const eq=tq.length;switch(tq=(Array.isArray(tq)?tq:[tq]).map((d)=>`"${d}"`).join(" or "),eq){case 1:c+=`The ${tq[0]} argument`;break;case 2:c+=`The ${tq[0]} and ${tq[1]} arguments`;break;default:{const d=tq.pop();c+=`The ${tq.join(", ")}, and ${d} arguments`}break}return`${c} must be specified`},TypeError),aq("ERR_OUT_OF_RANGE",(tq,c,eq)=>{p(c,'Missing "range" argument');let d;if(Number.isInteger(eq)&&Math.abs(eq)>4294967296)d=sq(String(eq));else if(typeof eq==="bigint"){if(d=String(eq),eq>2n**32n||eq<-(2n**32n))d=sq(d);d+="n"}else d=H(eq);return`The value of "${tq}" is out of range. It must be ${c}. Received ${d}`},RangeError),aq("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),aq("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),aq("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),aq("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),aq("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),aq("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),aq("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),aq("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),aq("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),aq("ERR_STREAM_WRITE_AFTER_END","write after end",Error),aq("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),Y.exports={AbortError:m,aggregateTwoErrors:b(rq),hideStackFrames:b,codes:oq}}}),L=G({"node_modules/readable-stream/lib/internal/validators.js"(B,Y){var{ArrayIsArray:U,ArrayPrototypeIncludes:H,ArrayPrototypeJoin:X,ArrayPrototypeMap:q,NumberIsInteger:J,NumberMAX_SAFE_INTEGER:Q,NumberMIN_SAFE_INTEGER:Z,NumberParseInt:K,RegExpPrototypeTest:oq,String:p,StringPrototypeToUpperCase:sq,StringPrototypeTrim:u}=DQ(),{hideStackFrames:aq,codes:{ERR_SOCKET_BAD_PORT:b,ERR_INVALID_ARG_TYPE:rq,ERR_INVALID_ARG_VALUE:m,ERR_OUT_OF_RANGE:tq,ERR_UNKNOWN_SIGNAL:c}}=hQ(),{normalizeEncoding:eq}=jq(),{isAsyncFunction:d,isArrayBufferView:qQ}=jq().types,l={};function QQ(UQ){return UQ===(UQ|0)}function i(UQ){return UQ===UQ>>>0}var XQ=/^[0-7]+$/,n="must be a 32-bit unsigned integer or an octal string";function JQ(UQ,Qq,WQ){if(typeof UQ==="undefined")UQ=WQ;if(typeof UQ==="string"){if(!oq(XQ,UQ))throw new m(Qq,UQ,n);UQ=K(UQ,8)}return HQ(UQ,Qq,0,4294967295),UQ}var o=aq((UQ,Qq,WQ=Z,Xq=Q)=>{if(typeof UQ!=="number")throw new rq(Qq,"number",UQ);if(!J(UQ))throw new tq(Qq,"an integer",UQ);if(UQ<WQ||UQ>Xq)throw new tq(Qq,`>= ${WQ} && <= ${Xq}`,UQ)}),HQ=aq((UQ,Qq,WQ=-2147483648,Xq=2147483647)=>{if(typeof UQ!=="number")throw new rq(Qq,"number",UQ);if(!QQ(UQ)){if(!J(UQ))throw new tq(Qq,"an integer",UQ);throw new tq(Qq,`>= ${WQ} && <= ${Xq}`,UQ)}if(UQ<WQ||UQ>Xq)throw new tq(Qq,`>= ${WQ} && <= ${Xq}`,UQ)}),s=aq((UQ,Qq,WQ)=>{if(typeof UQ!=="number")throw new rq(Qq,"number",UQ);if(!i(UQ)){if(!J(UQ))throw new tq(Qq,"an integer",UQ);throw new tq(Qq,`>= ${WQ?1:0} && < 4294967296`,UQ)}if(WQ&&UQ===0)throw new tq(Qq,">= 1 && < 4294967296",UQ)});function KQ(UQ,Qq){if(typeof UQ!=="string")throw new rq(Qq,"string",UQ)}function a(UQ,Qq){if(typeof UQ!=="number")throw new rq(Qq,"number",UQ)}var ZQ=aq((UQ,Qq,WQ)=>{if(!H(WQ,UQ)){const GQ="must be one of: "+X(q(WQ,(Jq)=>typeof Jq==="string"?`'${Jq}'`:p(Jq)),", ");throw new m(Qq,UQ,GQ)}});function r(UQ,Qq){if(typeof UQ!=="boolean")throw new rq(Qq,"boolean",UQ)}var BQ=aq((UQ,Qq,WQ)=>{const Xq=WQ==null,GQ=Xq?!1:WQ.allowArray,Jq=Xq?!1:WQ.allowFunction;if(!(Xq?!1:WQ.nullable)&&UQ===null||!GQ&&U(UQ)||typeof UQ!=="object"&&(!Jq||typeof UQ!=="function"))throw new rq(Qq,"Object",UQ)}),$=aq((UQ,Qq,WQ=0)=>{if(!U(UQ))throw new rq(Qq,"Array",UQ);if(UQ.length<WQ){const Xq=`must be longer than ${WQ}`;throw new m(Qq,UQ,Xq)}});function YQ(UQ,Qq="signal"){if(KQ(UQ,Qq),l[UQ]===void 0){if(l[sq(UQ)]!==void 0)throw new c(UQ+" (signals must use all capital letters)");throw new c(UQ)}}var z=aq((UQ,Qq="buffer")=>{if(!qQ(UQ))throw new rq(Qq,["Buffer","TypedArray","DataView"],UQ)});function $Q(UQ,Qq){const WQ=eq(Qq),Xq=UQ.length;if(WQ==="hex"&&Xq%2!==0)throw new m("encoding",Qq,`is invalid for data of length ${Xq}`)}function t(UQ,Qq="Port",WQ=!0){if(typeof UQ!=="number"&&typeof UQ!=="string"||typeof UQ==="string"&&u(UQ).length===0||+UQ!==+UQ>>>0||UQ>65535||UQ===0&&!WQ)throw new b(Qq,UQ,WQ);return UQ|0}var zQ=aq((UQ,Qq)=>{if(UQ!==void 0&&(UQ===null||typeof UQ!=="object"||!("aborted"in UQ)))throw new rq(Qq,"AbortSignal",UQ)}),e=aq((UQ,Qq)=>{if(typeof UQ!=="function")throw new rq(Qq,"Function",UQ)}),VQ=aq((UQ,Qq)=>{if(typeof UQ!=="function"||d(UQ))throw new rq(Qq,"Function",UQ)}),qq=aq((UQ,Qq)=>{if(UQ!==void 0)throw new rq(Qq,"undefined",UQ)});Y.exports={isInt32:QQ,isUint32:i,parseFileMode:JQ,validateArray:$,validateBoolean:r,validateBuffer:z,validateEncoding:$Q,validateFunction:e,validateInt32:HQ,validateInteger:o,validateNumber:a,validateObject:BQ,validateOneOf:ZQ,validatePlainFunction:VQ,validatePort:t,validateSignalName:YQ,validateString:KQ,validateUint32:s,validateUndefined:qq,validateAbortSignal:zQ}}}),j=G({"node_modules/readable-stream/lib/internal/streams/utils.js"(B,Y){var{Symbol:U,SymbolAsyncIterator:H,SymbolIterator:X}=DQ(),q=U("kDestroyed"),J=U("kIsErrored"),Q=U("kIsReadable"),Z=U("kIsDisturbed");function K(s,KQ=!1){var a;return!!(s&&typeof s.pipe==="function"&&typeof s.on==="function"&&(!KQ||typeof s.pause==="function"&&typeof s.resume==="function")&&(!s._writableState||((a=s._readableState)===null||a===void 0?void 0:a.readable)!==!1)&&(!s._writableState||s._readableState))}function oq(s){var KQ;return!!(s&&typeof s.write==="function"&&typeof s.on==="function"&&(!s._readableState||((KQ=s._writableState)===null||KQ===void 0?void 0:KQ.writable)!==!1))}function p(s){return!!(s&&typeof s.pipe==="function"&&s._readableState&&typeof s.on==="function"&&typeof s.write==="function")}function sq(s){return s&&(s._readableState||s._writableState||typeof s.write==="function"&&typeof s.on==="function"||typeof s.pipe==="function"&&typeof s.on==="function")}function u(s,KQ){if(s==null)return!1;if(KQ===!0)return typeof s[H]==="function";if(KQ===!1)return typeof s[X]==="function";return typeof s[H]==="function"||typeof s[X]==="function"}function aq(s){if(!sq(s))return null;const{_writableState:KQ,_readableState:a}=s,ZQ=KQ||a;return!!(s.destroyed||s[q]||ZQ!==null&&ZQ!==void 0&&ZQ.destroyed)}function b(s){if(!oq(s))return null;if(s.writableEnded===!0)return!0;const KQ=s._writableState;if(KQ!==null&&KQ!==void 0&&KQ.errored)return!1;if(typeof(KQ===null||KQ===void 0?void 0:KQ.ended)!=="boolean")return null;return KQ.ended}function rq(s,KQ){if(!oq(s))return null;if(s.writableFinished===!0)return!0;const a=s._writableState;if(a!==null&&a!==void 0&&a.errored)return!1;if(typeof(a===null||a===void 0?void 0:a.finished)!=="boolean")return null;return!!(a.finished||KQ===!1&&a.ended===!0&&a.length===0)}function m(s){if(!K(s))return null;if(s.readableEnded===!0)return!0;const KQ=s._readableState;if(!KQ||KQ.errored)return!1;if(typeof(KQ===null||KQ===void 0?void 0:KQ.ended)!=="boolean")return null;return KQ.ended}function tq(s,KQ){if(!K(s))return null;const a=s._readableState;if(a!==null&&a!==void 0&&a.errored)return!1;if(typeof(a===null||a===void 0?void 0:a.endEmitted)!=="boolean")return null;return!!(a.endEmitted||KQ===!1&&a.ended===!0&&a.length===0)}function c(s){if(s&&s[Q]!=null)return s[Q];if(typeof(s===null||s===void 0?void 0:s.readable)!=="boolean")return null;if(aq(s))return!1;return K(s)&&s.readable&&!tq(s)}function eq(s){if(typeof(s===null||s===void 0?void 0:s.writable)!=="boolean")return null;if(aq(s))return!1;return oq(s)&&s.writable&&!b(s)}function d(s,KQ){if(!sq(s))return null;if(aq(s))return!0;if((KQ===null||KQ===void 0?void 0:KQ.readable)!==!1&&c(s))return!1;if((KQ===null||KQ===void 0?void 0:KQ.writable)!==!1&&eq(s))return!1;return!0}function qQ(s){var KQ,a;if(!sq(s))return null;if(s.writableErrored)return s.writableErrored;return(KQ=(a=s._writableState)===null||a===void 0?void 0:a.errored)!==null&&KQ!==void 0?KQ:null}function l(s){var KQ,a;if(!sq(s))return null;if(s.readableErrored)return s.readableErrored;return(KQ=(a=s._readableState)===null||a===void 0?void 0:a.errored)!==null&&KQ!==void 0?KQ:null}function QQ(s){if(!sq(s))return null;if(typeof s.closed==="boolean")return s.closed;const{_writableState:KQ,_readableState:a}=s;if(typeof(KQ===null||KQ===void 0?void 0:KQ.closed)==="boolean"||typeof(a===null||a===void 0?void 0:a.closed)==="boolean")return(KQ===null||KQ===void 0?void 0:KQ.closed)||(a===null||a===void 0?void 0:a.closed);if(typeof s._closed==="boolean"&&i(s))return s._closed;return null}function i(s){return typeof s._closed==="boolean"&&typeof s._defaultKeepAlive==="boolean"&&typeof s._removedConnection==="boolean"&&typeof s._removedContLen==="boolean"}function XQ(s){return typeof s._sent100==="boolean"&&i(s)}function n(s){var KQ;return typeof s._consuming==="boolean"&&typeof s._dumped==="boolean"&&((KQ=s.req)===null||KQ===void 0?void 0:KQ.upgradeOrConnect)===void 0}function JQ(s){if(!sq(s))return null;const{_writableState:KQ,_readableState:a}=s,ZQ=KQ||a;return!ZQ&&XQ(s)||!!(ZQ&&ZQ.autoDestroy&&ZQ.emitClose&&ZQ.closed===!1)}function o(s){var KQ;return!!(s&&((KQ=s[Z])!==null&&KQ!==void 0?KQ:s.readableDidRead||s.readableAborted))}function HQ(s){var KQ,a,ZQ,r,BQ,$,YQ,z,$Q,t;return!!(s&&((KQ=(a=(ZQ=(r=(BQ=($=s[J])!==null&&$!==void 0?$:s.readableErrored)!==null&&BQ!==void 0?BQ:s.writableErrored)!==null&&r!==void 0?r:(YQ=s._readableState)===null||YQ===void 0?void 0:YQ.errorEmitted)!==null&&ZQ!==void 0?ZQ:(z=s._writableState)===null||z===void 0?void 0:z.errorEmitted)!==null&&a!==void 0?a:($Q=s._readableState)===null||$Q===void 0?void 0:$Q.errored)!==null&&KQ!==void 0?KQ:(t=s._writableState)===null||t===void 0?void 0:t.errored))}Y.exports={kDestroyed:q,isDisturbed:o,kIsDisturbed:Z,isErrored:HQ,kIsErrored:J,isReadable:c,kIsReadable:Q,isClosed:QQ,isDestroyed:aq,isDuplexNodeStream:p,isFinished:d,isIterable:u,isReadableNodeStream:K,isReadableEnded:m,isReadableFinished:tq,isReadableErrored:l,isNodeStream:sq,isWritable:eq,isWritableNodeStream:oq,isWritableEnded:b,isWritableFinished:rq,isWritableErrored:qQ,isServerRequest:n,isServerResponse:XQ,willEmitClose:JQ}}}),N=G({"node_modules/readable-stream/lib/internal/streams/end-of-stream.js"(B,Y){var{AbortError:U,codes:H}=hQ(),{ERR_INVALID_ARG_TYPE:X,ERR_STREAM_PREMATURE_CLOSE:q}=H,{once:J}=jq(),{validateAbortSignal:Q,validateFunction:Z,validateObject:K}=L(),{Promise:oq}=DQ(),{isClosed:p,isReadable:sq,isReadableNodeStream:u,isReadableFinished:aq,isReadableErrored:b,isWritable:rq,isWritableNodeStream:m,isWritableFinished:tq,isWritableErrored:c,isNodeStream:eq,willEmitClose:d}=j();function qQ(XQ){return XQ.setHeader&&typeof XQ.abort==="function"}var l=()=>{};function QQ(XQ,n,JQ){var o,HQ;if(arguments.length===2)JQ=n,n={};else if(n==null)n={};else K(n,"options");Z(JQ,"callback"),Q(n.signal,"options.signal"),JQ=J(JQ);const s=(o=n.readable)!==null&&o!==void 0?o:u(XQ),KQ=(HQ=n.writable)!==null&&HQ!==void 0?HQ:m(XQ);if(!eq(XQ))throw new X("stream","Stream",XQ);const{_writableState:a,_readableState:ZQ}=XQ,r=()=>{if(!XQ.writable)YQ()};let BQ=d(XQ)&&u(XQ)===s&&m(XQ)===KQ,$=tq(XQ,!1);const YQ=()=>{if($=!0,XQ.destroyed)BQ=!1;if(BQ&&(!XQ.readable||s))return;if(!s||z)JQ.call(XQ)};let z=aq(XQ,!1);const $Q=()=>{if(z=!0,XQ.destroyed)BQ=!1;if(BQ&&(!XQ.writable||KQ))return;if(!KQ||$)JQ.call(XQ)},t=(UQ)=>{JQ.call(XQ,UQ)};let zQ=p(XQ);const e=()=>{zQ=!0;const UQ=c(XQ)||b(XQ);if(UQ&&typeof UQ!=="boolean")return JQ.call(XQ,UQ);if(s&&!z&&u(XQ,!0)){if(!aq(XQ,!1))return JQ.call(XQ,new q)}if(KQ&&!$){if(!tq(XQ,!1))return JQ.call(XQ,new q)}JQ.call(XQ)},VQ=()=>{XQ.req.on("finish",YQ)};if(qQ(XQ)){if(XQ.on("complete",YQ),!BQ)XQ.on("abort",e);if(XQ.req)VQ();else XQ.on("request",VQ)}else if(KQ&&!a)XQ.on("end",r),XQ.on("close",r);if(!BQ&&typeof XQ.aborted==="boolean")XQ.on("aborted",e);if(XQ.on("end",$Q),XQ.on("finish",YQ),n.error!==!1)XQ.on("error",t);if(XQ.on("close",e),zQ)_Q(e);else if(a!==null&&a!==void 0&&a.errorEmitted||ZQ!==null&&ZQ!==void 0&&ZQ.errorEmitted){if(!BQ)_Q(e)}else if(!s&&(!BQ||sq(XQ))&&($||rq(XQ)===!1))_Q(e);else if(!KQ&&(!BQ||rq(XQ))&&(z||sq(XQ)===!1))_Q(e);else if(ZQ&&XQ.req&&XQ.aborted)_Q(e);const qq=()=>{if(JQ=l,XQ.removeListener("aborted",e),XQ.removeListener("complete",YQ),XQ.removeListener("abort",e),XQ.removeListener("request",VQ),XQ.req)XQ.req.removeListener("finish",YQ);XQ.removeListener("end",r),XQ.removeListener("close",r),XQ.removeListener("finish",YQ),XQ.removeListener("end",$Q),XQ.removeListener("error",t),XQ.removeListener("close",e)};if(n.signal&&!zQ){const UQ=()=>{const Qq=JQ;qq(),Qq.call(XQ,new U(void 0,{cause:n.signal.reason}))};if(n.signal.aborted)_Q(UQ);else{const Qq=JQ;JQ=J((...WQ)=>{n.signal.removeEventListener("abort",UQ),Qq.apply(XQ,WQ)}),n.signal.addEventListener("abort",UQ)}}return qq}function i(XQ,n){return new oq((JQ,o)=>{QQ(XQ,n,(HQ)=>{if(HQ)o(HQ);else JQ()})})}Y.exports=QQ,Y.exports.finished=i}}),A=G({"node_modules/readable-stream/lib/internal/streams/operators.js"(B,Y){var{codes:{ERR_INVALID_ARG_TYPE:U,ERR_MISSING_ARGS:H,ERR_OUT_OF_RANGE:X},AbortError:q}=hQ(),{validateAbortSignal:J,validateInteger:Q,validateObject:Z}=L(),K=DQ().Symbol("kWeak"),{finished:oq}=N(),{ArrayPrototypePush:p,MathFloor:sq,Number:u,NumberIsNaN:aq,Promise:b,PromiseReject:rq,PromisePrototypeCatch:m,Symbol:tq}=DQ(),c=tq("kEmpty"),eq=tq("kEof");function d(r,BQ){if(typeof r!=="function")throw new U("fn",["Function","AsyncFunction"],r);if(BQ!=null)Z(BQ,"options");if((BQ===null||BQ===void 0?void 0:BQ.signal)!=null)J(BQ.signal,"options.signal");let $=1;if((BQ===null||BQ===void 0?void 0:BQ.concurrency)!=null)$=sq(BQ.concurrency);return Q($,"concurrency",1),async function*YQ(){var z,$Q;const t=new AbortController,zQ=this,e=[],VQ=t.signal,qq={signal:VQ},UQ=()=>t.abort();if(BQ!==null&&BQ!==void 0&&(z=BQ.signal)!==null&&z!==void 0&&z.aborted)UQ();BQ===null||BQ===void 0||($Q=BQ.signal)===null||$Q===void 0||$Q.addEventListener("abort",UQ);let Qq,WQ,Xq=!1;function GQ(){Xq=!0}async function Jq(){try{for await(let FQ of zQ){var MQ;if(Xq)return;if(VQ.aborted)throw new q;try{FQ=r(FQ,qq)}catch(Kq){FQ=rq(Kq)}if(FQ===c)continue;if(typeof((MQ=FQ)===null||MQ===void 0?void 0:MQ.catch)==="function")FQ.catch(GQ);if(e.push(FQ),Qq)Qq(),Qq=null;if(!Xq&&e.length&&e.length>=$)await new b((Kq)=>{WQ=Kq})}e.push(eq)}catch(FQ){const Kq=rq(FQ);m(Kq,GQ),e.push(Kq)}finally{var Hq;if(Xq=!0,Qq)Qq(),Qq=null;BQ===null||BQ===void 0||(Hq=BQ.signal)===null||Hq===void 0||Hq.removeEventListener("abort",UQ)}}Jq();try{while(!0){while(e.length>0){const MQ=await e[0];if(MQ===eq)return;if(VQ.aborted)throw new q;if(MQ!==c)yield MQ;if(e.shift(),WQ)WQ(),WQ=null}await new b((MQ)=>{Qq=MQ})}}finally{if(t.abort(),Xq=!0,WQ)WQ(),WQ=null}}.call(this)}function qQ(r=void 0){if(r!=null)Z(r,"options");if((r===null||r===void 0?void 0:r.signal)!=null)J(r.signal,"options.signal");return async function*BQ(){let $=0;for await(let z of this){var YQ;if(r!==null&&r!==void 0&&(YQ=r.signal)!==null&&YQ!==void 0&&YQ.aborted)throw new q({cause:r.signal.reason});yield[$++,z]}}.call(this)}async function l(r,BQ=void 0){for await(let $ of n.call(this,r,BQ))return!0;return!1}async function QQ(r,BQ=void 0){if(typeof r!=="function")throw new U("fn",["Function","AsyncFunction"],r);return!await l.call(this,async(...$)=>{return!await r(...$)},BQ)}async function i(r,BQ){for await(let $ of n.call(this,r,BQ))return $;return}async function XQ(r,BQ){if(typeof r!=="function")throw new U("fn",["Function","AsyncFunction"],r);async function $(YQ,z){return await r(YQ,z),c}for await(let YQ of d.call(this,$,BQ));}function n(r,BQ){if(typeof r!=="function")throw new U("fn",["Function","AsyncFunction"],r);async function $(YQ,z){if(await r(YQ,z))return YQ;return c}return d.call(this,$,BQ)}var JQ=class extends H{constructor(){super("reduce");this.message="Reduce of an empty stream requires an initial value"}};async function o(r,BQ,$){var YQ;if(typeof r!=="function")throw new U("reducer",["Function","AsyncFunction"],r);if($!=null)Z($,"options");if(($===null||$===void 0?void 0:$.signal)!=null)J($.signal,"options.signal");let z=arguments.length>1;if($!==null&&$!==void 0&&(YQ=$.signal)!==null&&YQ!==void 0&&YQ.aborted){const VQ=new q(void 0,{cause:$.signal.reason});throw this.once("error",()=>{}),await oq(this.destroy(VQ)),VQ}const $Q=new AbortController,t=$Q.signal;if($!==null&&$!==void 0&&$.signal){const VQ={once:!0,[K]:this};$.signal.addEventListener("abort",()=>$Q.abort(),VQ)}let zQ=!1;try{for await(let VQ of this){var e;if(zQ=!0,$!==null&&$!==void 0&&(e=$.signal)!==null&&e!==void 0&&e.aborted)throw new q;if(!z)BQ=VQ,z=!0;else BQ=await r(BQ,VQ,{signal:t})}if(!zQ&&!z)throw new JQ}finally{$Q.abort()}return BQ}async function HQ(r){if(r!=null)Z(r,"options");if((r===null||r===void 0?void 0:r.signal)!=null)J(r.signal,"options.signal");const BQ=[];for await(let YQ of this){var $;if(r!==null&&r!==void 0&&($=r.signal)!==null&&$!==void 0&&$.aborted)throw new q(void 0,{cause:r.signal.reason});p(BQ,YQ)}return BQ}function s(r,BQ){const $=d.call(this,r,BQ);return async function*YQ(){for await(let z of $)yield*z}.call(this)}function KQ(r){if(r=u(r),aq(r))return 0;if(r<0)throw new X("number",">= 0",r);return r}function a(r,BQ=void 0){if(BQ!=null)Z(BQ,"options");if((BQ===null||BQ===void 0?void 0:BQ.signal)!=null)J(BQ.signal,"options.signal");return r=KQ(r),async function*$(){var YQ;if(BQ!==null&&BQ!==void 0&&(YQ=BQ.signal)!==null&&YQ!==void 0&&YQ.aborted)throw new q;for await(let $Q of this){var z;if(BQ!==null&&BQ!==void 0&&(z=BQ.signal)!==null&&z!==void 0&&z.aborted)throw new q;if(r--<=0)yield $Q}}.call(this)}function ZQ(r,BQ=void 0){if(BQ!=null)Z(BQ,"options");if((BQ===null||BQ===void 0?void 0:BQ.signal)!=null)J(BQ.signal,"options.signal");return r=KQ(r),async function*$(){var YQ;if(BQ!==null&&BQ!==void 0&&(YQ=BQ.signal)!==null&&YQ!==void 0&&YQ.aborted)throw new q;for await(let $Q of this){var z;if(BQ!==null&&BQ!==void 0&&(z=BQ.signal)!==null&&z!==void 0&&z.aborted)throw new q;if(r-- >0)yield $Q;else return}}.call(this)}Y.exports.streamReturningOperators={asIndexedPairs:qQ,drop:a,filter:n,flatMap:s,map:d,take:ZQ},Y.exports.promiseReturningOperators={every:QQ,forEach:XQ,reduce:o,toArray:HQ,some:l,find:i}}}),Oq=G({"node_modules/readable-stream/lib/internal/streams/destroy.js"(B,Y){var{aggregateTwoErrors:U,codes:{ERR_MULTIPLE_CALLBACK:H},AbortError:X}=hQ(),{Symbol:q}=DQ(),{kDestroyed:J,isDestroyed:Q,isFinished:Z,isServerRequest:K}=j(),oq="#kDestroy",p="#kConstruct";function sq(n,JQ,o){if(n){if(n.stack,JQ&&!JQ.errored)JQ.errored=n;if(o&&!o.errored)o.errored=n}}function u(n,JQ){const o=this._readableState,HQ=this._writableState,s=HQ||o;if(HQ&&HQ.destroyed||o&&o.destroyed){if(typeof JQ==="function")JQ();return this}if(sq(n,HQ,o),HQ)HQ.destroyed=!0;if(o)o.destroyed=!0;if(!s.constructed)this.once(oq,(KQ)=>{aq(this,U(KQ,n),JQ)});else aq(this,n,JQ);return this}function aq(n,JQ,o){let HQ=!1;function s(KQ){if(HQ)return;HQ=!0;const{_readableState:a,_writableState:ZQ}=n;if(sq(KQ,ZQ,a),ZQ)ZQ.closed=!0;if(a)a.closed=!0;if(typeof o==="function")o(KQ);if(KQ)_Q(b,n,KQ);else _Q(rq,n)}try{n._destroy(JQ||null,s)}catch(KQ){s(KQ)}}function b(n,JQ){m(n,JQ),rq(n)}function rq(n){const{_readableState:JQ,_writableState:o}=n;if(o)o.closeEmitted=!0;if(JQ)JQ.closeEmitted=!0;if(o&&o.emitClose||JQ&&JQ.emitClose)n.emit("close")}function m(n,JQ){const o=n?._readableState,HQ=n?._writableState;if(HQ?.errorEmitted||o?.errorEmitted)return;if(HQ)HQ.errorEmitted=!0;if(o)o.errorEmitted=!0;n?.emit?.("error",JQ)}function tq(){const n=this._readableState,JQ=this._writableState;if(n)n.constructed=!0,n.closed=!1,n.closeEmitted=!1,n.destroyed=!1,n.errored=null,n.errorEmitted=!1,n.reading=!1,n.ended=n.readable===!1,n.endEmitted=n.readable===!1;if(JQ)JQ.constructed=!0,JQ.destroyed=!1,JQ.closed=!1,JQ.closeEmitted=!1,JQ.errored=null,JQ.errorEmitted=!1,JQ.finalCalled=!1,JQ.prefinished=!1,JQ.ended=JQ.writable===!1,JQ.ending=JQ.writable===!1,JQ.finished=JQ.writable===!1}function c(n,JQ,o){const HQ=n?._readableState,s=n?._writableState;if(s&&s.destroyed||HQ&&HQ.destroyed)return this;if(HQ&&HQ.autoDestroy||s&&s.autoDestroy)n.destroy(JQ);else if(JQ){if(Error.captureStackTrace(JQ),s&&!s.errored)s.errored=JQ;if(HQ&&!HQ.errored)HQ.errored=JQ;if(o)_Q(m,n,JQ);else m(n,JQ)}}function eq(n,JQ){if(typeof n._construct!=="function")return;const{_readableState:o,_writableState:HQ}=n;if(o)o.constructed=!1;if(HQ)HQ.constructed=!1;if(n.once(p,JQ),n.listenerCount(p)>1)return;_Q(d,n)}function d(n){let JQ=!1;function o(HQ){if(JQ){c(n,HQ!==null&&HQ!==void 0?HQ:new H);return}JQ=!0;const{_readableState:s,_writableState:KQ}=n,a=KQ||s;if(s)s.constructed=!0;if(KQ)KQ.constructed=!0;if(a.destroyed)n.emit(oq,HQ);else if(HQ)c(n,HQ,!0);else _Q(qQ,n)}try{n._construct(o)}catch(HQ){o(HQ)}}function qQ(n){n.emit(p)}function l(n){return n&&n.setHeader&&typeof n.abort==="function"}function QQ(n){n.emit("close")}function i(n,JQ){n.emit("error",JQ),_Q(QQ,n)}function XQ(n,JQ){if(!n||Q(n))return;if(!JQ&&!Z(n))JQ=new X;if(K(n))n.socket=null,n.destroy(JQ);else if(l(n))n.abort();else if(l(n.req))n.req.abort();else if(typeof n.destroy==="function")n.destroy(JQ);else if(typeof n.close==="function")n.close();else if(JQ)_Q(i,n);else _Q(QQ,n);if(!n.destroyed)n[J]=!0}Y.exports={construct:eq,destroyer:XQ,destroy:u,undestroy:tq,errorOrDestroy:c}}}),pQ=G({"node_modules/readable-stream/lib/internal/streams/legacy.js"(B,Y){var{ArrayIsArray:U,ObjectSetPrototypeOf:H}=DQ();function X(J){if(!(this instanceof X))return new X(J);CQ.call(this,J)}H(X.prototype,CQ.prototype),H(X,CQ),X.prototype.pipe=function(J,Q){const Z=this;function K(rq){if(J.writable&&J.write(rq)===!1&&Z.pause)Z.pause()}Z.on("data",K);function oq(){if(Z.readable&&Z.resume)Z.resume()}if(J.on("drain",oq),!J._isStdio&&(!Q||Q.end!==!1))Z.on("end",sq),Z.on("close",u);let p=!1;function sq(){if(p)return;p=!0,J.end()}function u(){if(p)return;if(p=!0,typeof J.destroy==="function")J.destroy()}function aq(rq){if(b(),CQ.listenerCount(this,"error")===0)this.emit("error",rq)}q(Z,"error",aq),q(J,"error",aq);function b(){Z.removeListener("data",K),J.removeListener("drain",oq),Z.removeListener("end",sq),Z.removeListener("close",u),Z.removeListener("error",aq),J.removeListener("error",aq),Z.removeListener("end",b),Z.removeListener("close",b),J.removeListener("close",b)}return Z.on("end",b),Z.on("close",b),J.on("close",b),J.emit("pipe",Z),J};function q(J,Q,Z){if(typeof J.prependListener==="function")return J.prependListener(Q,Z);if(!J._events||!J._events[Q])J.on(Q,Z);else if(U(J._events[Q]))J._events[Q].unshift(Z);else J._events[Q]=[Z,J._events[Q]]}Y.exports={Stream:X,prependListener:q}}}),_q=G({"node_modules/readable-stream/lib/internal/streams/add-abort-signal.js"(B,Y){var{AbortError:U,codes:H}=hQ(),X=N(),{ERR_INVALID_ARG_TYPE:q}=H,J=(Z,K)=>{if(typeof Z!=="object"||!("aborted"in Z))throw new q(K,"AbortSignal",Z)};function Q(Z){return!!(Z&&typeof Z.pipe==="function")}Y.exports.addAbortSignal=function Z(K,oq){if(J(K,"signal"),!Q(oq))throw new q("stream","stream.Stream",oq);return Y.exports.addAbortSignalNoValidate(K,oq)},Y.exports.addAbortSignalNoValidate=function(Z,K){if(typeof Z!=="object"||!("aborted"in Z))return K;const oq=()=>{K.destroy(new U(void 0,{cause:Z.reason}))};if(Z.aborted)oq();else Z.addEventListener("abort",oq),X(K,()=>Z.removeEventListener("abort",oq));return K}}}),uQ=G({"node_modules/readable-stream/lib/internal/streams/state.js"(B,Y){var{MathFloor:U,NumberIsInteger:H}=DQ(),{ERR_INVALID_ARG_VALUE:X}=hQ().codes;function q(Z,K,oq){return Z.highWaterMark!=null?Z.highWaterMark:K?Z[oq]:null}function J(Z){return Z?16:16384}function Q(Z,K,oq,p){const sq=q(K,p,oq);if(sq!=null){if(!H(sq)||sq<0){const u=p?`options.${oq}`:"options.highWaterMark";throw new X(u,sq)}return U(sq)}return J(Z.objectMode)}Y.exports={getHighWaterMark:Q,getDefaultHighWaterMark:J}}}),Cq=G({"node_modules/readable-stream/lib/internal/streams/from.js"(B,Y){var{PromisePrototypeThen:U,SymbolAsyncIterator:H,SymbolIterator:X}=DQ(),{ERR_INVALID_ARG_TYPE:q,ERR_STREAM_NULL_VALUES:J}=hQ().codes;function Q(Z,K,oq){let p;if(typeof K==="string"||K instanceof Buffer)return new Z({objectMode:!0,...oq,read(){this.push(K),this.push(null)}});let sq;if(K&&K[H])sq=!0,p=K[H]();else if(K&&K[X])sq=!1,p=K[X]();else throw new q("iterable",["Iterable"],K);const u=new Z({objectMode:!0,highWaterMark:1,...oq});let aq=!1;u._read=function(){if(!aq)aq=!0,rq()},u._destroy=function(m,tq){U(b(m),()=>_Q(tq,m),(c)=>_Q(tq,c||m))};async function b(m){const tq=m!==void 0&&m!==null,c=typeof p.throw==="function";if(tq&&c){const{value:eq,done:d}=await p.throw(m);if(await eq,d)return}if(typeof p.return==="function"){const{value:eq}=await p.return();await eq}}async function rq(){for(;;){try{const{value:m,done:tq}=sq?await p.next():p.next();if(tq)u.push(null);else{const c=m&&typeof m.then==="function"?await m:m;if(c===null)throw aq=!1,new J;else if(u.push(c))continue;else aq=!1}}catch(m){u.destroy(m)}break}}return u}Y.exports=Q}}),bQ,Dq,mQ=G({"node_modules/readable-stream/lib/internal/streams/readable.js"(B,Y){var{ArrayPrototypeIndexOf:U,NumberIsInteger:H,NumberIsNaN:X,NumberParseInt:q,ObjectDefineProperties:J,ObjectKeys:Q,ObjectSetPrototypeOf:Z,Promise:K,SafeSet:oq,SymbolAsyncIterator:p,Symbol:sq}=DQ(),u=globalThis[Symbol.for("Bun.lazy")]("bun:stream").ReadableState,{Stream:aq,prependListener:b}=pQ();function rq(FQ){if(!(this instanceof rq))return new rq(FQ);const Kq=this instanceof wQ();if(this._readableState=new u(FQ,this,Kq),FQ){const{read:LQ,destroy:Zq,construct:jQ,signal:Bq}=FQ;if(typeof LQ==="function")this._read=LQ;if(typeof Zq==="function")this._destroy=Zq;if(typeof jQ==="function")this._construct=jQ;if(Bq&&!Kq)c(Bq,this)}aq.call(this,FQ),n.construct(this,()=>{if(this._readableState.needReadable)i(this,this._readableState)})}Z(rq.prototype,aq.prototype),Z(rq,aq),rq.prototype.on=function(FQ,Kq){const LQ=aq.prototype.on.call(this,FQ,Kq),Zq=this._readableState;if(FQ==="data")if(Zq.readableListening=this.listenerCount("readable")>0,Zq.flowing!==!1)OQ&&Gq("in flowing mode!",this.__id),this.resume();else OQ&&Gq("in readable mode!",this.__id);else if(FQ==="readable"){if(OQ&&Gq("readable listener added!",this.__id),!Zq.endEmitted&&!Zq.readableListening){if(Zq.readableListening=Zq.needReadable=!0,Zq.flowing=!1,Zq.emittedReadable=!1,OQ&&Gq("on readable - state.length, reading, emittedReadable",Zq.length,Zq.reading,Zq.emittedReadable,this.__id),Zq.length)XQ(this,Zq);else if(!Zq.reading)_Q(qq,this)}else if(Zq.endEmitted)OQ&&Gq("end already emitted...",this.__id)}return LQ};class m extends rq{#q;#Q;#X;#J;constructor(FQ,Kq){const{objectMode:LQ,highWaterMark:Zq,encoding:jQ,signal:Bq}=FQ;super({objectMode:LQ,highWaterMark:Zq,encoding:jQ,signal:Bq});this.#X=[],this.#q=void 0,this.#J=Kq,this.#Q=!1}#H(){var FQ=this.#X,Kq=0,LQ=FQ.length;for(;Kq<LQ;Kq++){const Zq=FQ[Kq];if(FQ[Kq]=void 0,!this.push(Zq,void 0))return this.#X=FQ.slice(Kq+1),!0}if(LQ>0)this.#X=[];return!1}#K(FQ){FQ.releaseLock(),this.#q=void 0,this.#Q=!0,this.push(null);return}async _read(){OQ&&Gq("ReadableFromWeb _read()",this.__id);var FQ=this.#J,Kq=this.#q;if(FQ)Kq=this.#q=FQ.getReader(),this.#J=void 0;else if(this.#H())return;var LQ;try{do{var Zq=!1,jQ;const Bq=Kq.readMany();if(Lq(Bq)){if({done:Zq,value:jQ}=await Bq,this.#Q){this.#X.push(...jQ);return}}else({done:Zq,value:jQ}=Bq);if(Zq){this.#K(Kq);return}if(!this.push(jQ[0])){this.#X=jQ.slice(1);return}for(let NQ=1,Yq=jQ.length;NQ<Yq;NQ++)if(!this.push(jQ[NQ])){this.#X=jQ.slice(NQ+1);return}}while(!this.#Q)}catch(Bq){LQ=Bq}finally{if(LQ)throw LQ}}_destroy(FQ,Kq){if(!this.#Q){var LQ=this.#q;if(LQ)this.#q=void 0,LQ.cancel(FQ).finally(()=>{this.#Q=!0,Kq(FQ)});return}try{Kq(FQ)}catch(Zq){globalThis.reportError(Zq)}}}Dq=m;function tq(FQ,Kq={}){if(!M(FQ))throw new o("readableStream","ReadableStream",FQ);ZQ(Kq,"options");const{highWaterMark:LQ,encoding:Zq,objectMode:jQ=!1,signal:Bq}=Kq;if(Zq!==void 0&&!Buffer.isEncoding(Zq))throw new xq(Zq,"options.encoding");return F(jQ,"options.objectMode"),_(rq,FQ,Kq)||new m({highWaterMark:LQ,encoding:Zq,objectMode:jQ,signal:Bq},FQ)}Y.exports=rq,bQ=tq;var{addAbortSignal:c}=_q(),eq=N();const{maybeReadMore:d,resume:qQ,emitReadable:l,onEofChunk:QQ}=globalThis[Symbol.for("Bun.lazy")]("bun:stream");function i(FQ,Kq){process.nextTick(d,FQ,Kq)}function XQ(FQ,Kq){OQ&&Gq("NativeReadable - emitReadable",FQ.__id),l(FQ,Kq)}var n=Oq(),{aggregateTwoErrors:JQ,codes:{ERR_INVALID_ARG_TYPE:o,ERR_METHOD_NOT_IMPLEMENTED:HQ,ERR_OUT_OF_RANGE:s,ERR_STREAM_PUSH_AFTER_EOF:KQ,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:a}}=hQ(),{validateObject:ZQ}=L(),r=Cq(),BQ=()=>{},{errorOrDestroy:$}=n;rq.prototype.destroy=n.destroy,rq.prototype._undestroy=n.undestroy,rq.prototype._destroy=function(FQ,Kq){Kq(FQ)},rq.prototype[CQ.captureRejectionSymbol]=function(FQ){this.destroy(FQ)},rq.prototype.push=function(FQ,Kq){return YQ(this,FQ,Kq,!1)},rq.prototype.unshift=function(FQ,Kq){return YQ(this,FQ,Kq,!0)};function YQ(FQ,Kq,LQ,Zq){OQ&&Gq("readableAddChunk",Kq,FQ.__id);const jQ=FQ._readableState;let Bq;if(!jQ.objectMode){if(typeof Kq==="string"){if(LQ=LQ||jQ.defaultEncoding,jQ.encoding!==LQ)if(Zq&&jQ.encoding)Kq=Buffer.from(Kq,LQ).toString(jQ.encoding);else Kq=Buffer.from(Kq,LQ),LQ=""}else if(Kq instanceof Buffer)LQ="";else if(aq._isUint8Array(Kq)){if(Zq||!jQ.decoder)Kq=aq._uint8ArrayToBuffer(Kq);LQ=""}else if(Kq!=null)Bq=new o("chunk",["string","Buffer","Uint8Array"],Kq)}if(Bq)$(FQ,Bq);else if(Kq===null)jQ.reading=!1,QQ(FQ,jQ);else if(jQ.objectMode||Kq&&Kq.length>0)if(Zq)if(jQ.endEmitted)$(FQ,new a);else if(jQ.destroyed||jQ.errored)return!1;else z(FQ,jQ,Kq,!0);else if(jQ.ended)$(FQ,new KQ);else if(jQ.destroyed||jQ.errored)return!1;else if(jQ.reading=!1,jQ.decoder&&!LQ)if(Kq=jQ.decoder.write(Kq),jQ.objectMode||Kq.length!==0)z(FQ,jQ,Kq,!1);else i(FQ,jQ);else z(FQ,jQ,Kq,!1);else if(!Zq)jQ.reading=!1,i(FQ,jQ);return!jQ.ended&&(jQ.length<jQ.highWaterMark||jQ.length===0)}function z(FQ,Kq,LQ,Zq){if(OQ&&Gq("adding chunk",FQ.__id),OQ&&Gq("chunk",LQ.toString(),FQ.__id),Kq.flowing&&Kq.length===0&&!Kq.sync&&FQ.listenerCount("data")>0){if(Kq.multiAwaitDrain)Kq.awaitDrainWriters.clear();else Kq.awaitDrainWriters=null;Kq.dataEmitted=!0,FQ.emit("data",LQ)}else{if(Kq.length+=Kq.objectMode?1:LQ.length,Zq)Kq.buffer.unshift(LQ);else Kq.buffer.push(LQ);if(OQ&&Gq("needReadable @ addChunk",Kq.needReadable,FQ.__id),Kq.needReadable)XQ(FQ,Kq)}i(FQ,Kq)}rq.prototype.isPaused=function(){const FQ=this._readableState;return FQ.paused===!0||FQ.flowing===!1},rq.prototype.setEncoding=function(FQ){const Kq=new Eq(FQ);this._readableState.decoder=Kq,this._readableState.encoding=this._readableState.decoder.encoding;const LQ=this._readableState.buffer;let Zq="";for(let jQ=LQ.length;jQ>0;jQ--)Zq+=Kq.write(LQ.shift());if(Zq!=="")LQ.push(Zq);return this._readableState.length=Zq.length,this};var $Q=1073741824;function t(FQ){if(FQ>$Q)throw new s("size","<= 1GiB",FQ);else FQ--,FQ|=FQ>>>1,FQ|=FQ>>>2,FQ|=FQ>>>4,FQ|=FQ>>>8,FQ|=FQ>>>16,FQ++;return FQ}function zQ(FQ,Kq){if(FQ<=0||Kq.length===0&&Kq.ended)return 0;if(Kq.objectMode)return 1;if(X(FQ)){if(Kq.flowing&&Kq.length)return Kq.buffer.first().length;return Kq.length}if(FQ<=Kq.length)return FQ;return Kq.ended?Kq.length:0}rq.prototype.read=function(FQ){if(OQ&&Gq("read - n =",FQ,this.__id),!H(FQ))FQ=q(FQ,10);const Kq=this._readableState,LQ=FQ;if(FQ>Kq.highWaterMark)Kq.highWaterMark=t(FQ);if(FQ!==0)Kq.emittedReadable=!1;if(FQ===0&&Kq.needReadable&&((Kq.highWaterMark!==0?Kq.length>=Kq.highWaterMark:Kq.length>0)||Kq.ended)){if(OQ&&Gq("read: emitReadable or endReadable",Kq.length,Kq.ended,this.__id),Kq.length===0&&Kq.ended)Xq(this);else XQ(this,Kq);return null}if(FQ=zQ(FQ,Kq),FQ===0&&Kq.ended){if(OQ&&Gq("read: calling endReadable if length 0 -- length, state.ended",Kq.length,Kq.ended,this.__id),Kq.length===0)Xq(this);return null}let Zq=Kq.needReadable;if(OQ&&Gq("need readable",Zq,this.__id),Kq.length===0||Kq.length-FQ<Kq.highWaterMark)Zq=!0,OQ&&Gq("length less than watermark",Zq,this.__id);if(Kq.ended||Kq.reading||Kq.destroyed||Kq.errored||!Kq.constructed)OQ&&Gq("state.constructed?",Kq.constructed,this.__id),Zq=!1,OQ&&Gq("reading, ended or constructing",Zq,this.__id);else if(Zq){if(OQ&&Gq("do read",this.__id),Kq.reading=!0,Kq.sync=!0,Kq.length===0)Kq.needReadable=!0;try{var jQ=this._read(Kq.highWaterMark);if(Lq(jQ)){OQ&&Gq("async _read",this.__id);const NQ=Bun.peek(jQ);if(OQ&&Gq("peeked promise",NQ,this.__id),NQ!==jQ)jQ=NQ}if(Lq(jQ)&&jQ?.then&&Nq(jQ.then))OQ&&Gq("async _read result.then setup",this.__id),jQ.then(BQ,function(NQ){$(this,NQ)})}catch(NQ){$(this,NQ)}if(Kq.sync=!1,!Kq.reading)FQ=zQ(LQ,Kq)}OQ&&Gq("n @ fromList",FQ,this.__id);let Bq;if(FQ>0)Bq=WQ(FQ,Kq);else Bq=null;if(OQ&&Gq("ret @ read",Bq,this.__id),Bq===null)Kq.needReadable=Kq.length<=Kq.highWaterMark,OQ&&Gq("state.length while ret = null",Kq.length,this.__id),FQ=0;else if(Kq.length-=FQ,Kq.multiAwaitDrain)Kq.awaitDrainWriters.clear();else Kq.awaitDrainWriters=null;if(Kq.length===0){if(!Kq.ended)Kq.needReadable=!0;if(LQ!==FQ&&Kq.ended)Xq(this)}if(Bq!==null&&!Kq.errorEmitted&&!Kq.closeEmitted)Kq.dataEmitted=!0,this.emit("data",Bq);return Bq},rq.prototype._read=function(FQ){throw new HQ("_read()")},rq.prototype.pipe=function(FQ,Kq){const LQ=this,Zq=this._readableState;if(Zq.pipes.length===1){if(!Zq.multiAwaitDrain)Zq.multiAwaitDrain=!0,Zq.awaitDrainWriters=new oq(Zq.awaitDrainWriters?[Zq.awaitDrainWriters]:[])}Zq.pipes.push(FQ),OQ&&Gq("pipe count=%d opts=%j",Zq.pipes.length,Kq,LQ.__id);const Bq=(!Kq||Kq.end!==!1)&&FQ!==process.stdout&&FQ!==process.stderr?Yq:PQ;if(Zq.endEmitted)_Q(Bq);else LQ.once("end",Bq);FQ.on("unpipe",NQ);function NQ(Wq,xQ){if(OQ&&Gq("onunpipe",LQ.__id),Wq===LQ){if(xQ&&xQ.hasUnpiped===!1)xQ.hasUnpiped=!0,EQ()}}function Yq(){OQ&&Gq("onend",LQ.__id),FQ.end()}let AQ,$q=!1;function EQ(){if(OQ&&Gq("cleanup",LQ.__id),FQ.removeListener("close",TQ),FQ.removeListener("finish",Uq),AQ)FQ.removeListener("drain",AQ);if(FQ.removeListener("error",Vq),FQ.removeListener("unpipe",NQ),LQ.removeListener("end",Yq),LQ.removeListener("end",PQ),LQ.removeListener("data",IQ),$q=!0,AQ&&Zq.awaitDrainWriters&&(!FQ._writableState||FQ._writableState.needDrain))AQ()}function zq(){if(!$q){if(Zq.pipes.length===1&&Zq.pipes[0]===FQ)OQ&&Gq("false write response, pause",0,LQ.__id),Zq.awaitDrainWriters=FQ,Zq.multiAwaitDrain=!1;else if(Zq.pipes.length>1&&Zq.pipes.includes(FQ))OQ&&Gq("false write response, pause",Zq.awaitDrainWriters.size,LQ.__id),Zq.awaitDrainWriters.add(FQ);LQ.pause()}if(!AQ)AQ=e(LQ,FQ),FQ.on("drain",AQ)}LQ.on("data",IQ);function IQ(Wq){OQ&&Gq("ondata",LQ.__id);const xQ=FQ.write(Wq);if(OQ&&Gq("dest.write",xQ,LQ.__id),xQ===!1)zq()}function Vq(Wq){if(Gq("onerror",Wq),PQ(),FQ.removeListener("error",Vq),FQ.listenerCount("error")===0){const xQ=FQ._writableState||FQ._readableState;if(xQ&&!xQ.errorEmitted)$(FQ,Wq);else FQ.emit("error",Wq)}}b(FQ,"error",Vq);function TQ(){FQ.removeListener("finish",Uq),PQ()}FQ.once("close",TQ);function Uq(){Gq("onfinish"),FQ.removeListener("close",TQ),PQ()}FQ.once("finish",Uq);function PQ(){Gq("unpipe"),LQ.unpipe(FQ)}if(FQ.emit("pipe",LQ),FQ.writableNeedDrain===!0){if(Zq.flowing)zq()}else if(!Zq.flowing)Gq("pipe resume"),LQ.resume();return FQ};function e(FQ,Kq){return function LQ(){const Zq=FQ._readableState;if(Zq.awaitDrainWriters===Kq)Gq("pipeOnDrain",1),Zq.awaitDrainWriters=null;else if(Zq.multiAwaitDrain)Gq("pipeOnDrain",Zq.awaitDrainWriters.size),Zq.awaitDrainWriters.delete(Kq);if((!Zq.awaitDrainWriters||Zq.awaitDrainWriters.size===0)&&FQ.listenerCount("data"))FQ.resume()}}rq.prototype.unpipe=function(FQ){const Kq=this._readableState,LQ={hasUnpiped:!1};if(Kq.pipes.length===0)return this;if(!FQ){const jQ=Kq.pipes;Kq.pipes=[],this.pause();for(let Bq=0;Bq<jQ.length;Bq++)jQ[Bq].emit("unpipe",this,{hasUnpiped:!1});return this}const Zq=U(Kq.pipes,FQ);if(Zq===-1)return this;if(Kq.pipes.splice(Zq,1),Kq.pipes.length===0)this.pause();return FQ.emit("unpipe",this,LQ),this},rq.prototype.addListener=rq.prototype.on,rq.prototype.removeListener=function(FQ,Kq){const LQ=aq.prototype.removeListener.call(this,FQ,Kq);if(FQ==="readable")_Q(VQ,this);return LQ},rq.prototype.off=rq.prototype.removeListener,rq.prototype.removeAllListeners=function(FQ){const Kq=aq.prototype.removeAllListeners.apply(this,arguments);if(FQ==="readable"||FQ===void 0)_Q(VQ,this);return Kq};function VQ(FQ){const Kq=FQ._readableState;if(Kq.readableListening=FQ.listenerCount("readable")>0,Kq.resumeScheduled&&Kq.paused===!1)Kq.flowing=!0;else if(FQ.listenerCount("data")>0)FQ.resume();else if(!Kq.readableListening)Kq.flowing=null}function qq(FQ){OQ&&Gq("on readable nextTick, calling read(0)",FQ.__id),FQ.read(0)}rq.prototype.resume=function(){const FQ=this._readableState;if(!FQ.flowing)OQ&&Gq("resume",this.__id),FQ.flowing=!FQ.readableListening,qQ(this,FQ);return FQ.paused=!1,this},rq.prototype.pause=function(){if(OQ&&Gq("call pause flowing=%j",this._readableState.flowing,this.__id),this._readableState.flowing!==!1)OQ&&Gq("pause",this.__id),this._readableState.flowing=!1,this.emit("pause");return this._readableState.paused=!0,this},rq.prototype.wrap=function(FQ){let Kq=!1;FQ.on("data",(Zq)=>{if(!this.push(Zq)&&FQ.pause)Kq=!0,FQ.pause()}),FQ.on("end",()=>{this.push(null)}),FQ.on("error",(Zq)=>{$(this,Zq)}),FQ.on("close",()=>{this.destroy()}),FQ.on("destroy",()=>{this.destroy()}),this._read=()=>{if(Kq&&FQ.resume)Kq=!1,FQ.resume()};const LQ=Q(FQ);for(let Zq=1;Zq<LQ.length;Zq++){const jQ=LQ[Zq];if(this[jQ]===void 0&&typeof FQ[jQ]==="function")this[jQ]=FQ[jQ].bind(FQ)}return this},rq.prototype[p]=function(){return UQ(this)},rq.prototype.iterator=function(FQ){if(FQ!==void 0)ZQ(FQ,"options");return UQ(this,FQ)};function UQ(FQ,Kq){if(typeof FQ.read!=="function")FQ=rq.wrap(FQ,{objectMode:!0});const LQ=Qq(FQ,Kq);return LQ.stream=FQ,LQ}async function*Qq(FQ,Kq){let LQ=BQ;function Zq(NQ){if(this===FQ)LQ(),LQ=BQ;else LQ=NQ}FQ.on("readable",Zq);let jQ;const Bq=eq(FQ,{writable:!1},(NQ)=>{jQ=NQ?JQ(jQ,NQ):null,LQ(),LQ=BQ});try{while(!0){const NQ=FQ.destroyed?null:FQ.read();if(NQ!==null)yield NQ;else if(jQ)throw jQ;else if(jQ===null)return;else await new K(Zq)}}catch(NQ){throw jQ=JQ(jQ,NQ),jQ}finally{if((jQ||(Kq===null||Kq===void 0?void 0:Kq.destroyOnReturn)!==!1)&&(jQ===void 0||FQ._readableState.autoDestroy))n.destroyer(FQ,null);else FQ.off("readable",Zq),Bq()}}J(rq.prototype,{readable:{get(){const FQ=this._readableState;return!!FQ&&FQ.readable!==!1&&!FQ.destroyed&&!FQ.errorEmitted&&!FQ.endEmitted},set(FQ){if(this._readableState)this._readableState.readable=!!FQ}},readableDidRead:{enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{enumerable:!1,get:function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{enumerable:!1,get:function(){return this._readableState.flowing},set:function(FQ){if(this._readableState)this._readableState.flowing=FQ}},readableLength:{enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{get(){return this._readableState?this._readableState.closed:!1}},destroyed:{enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(FQ){if(!this._readableState)return;this._readableState.destroyed=FQ}},readableEnded:{enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}}),rq._fromList=WQ;function WQ(FQ,Kq){if(Kq.length===0)return null;let LQ;if(Kq.objectMode)LQ=Kq.buffer.shift();else if(!FQ||FQ>=Kq.length){if(Kq.decoder)LQ=Kq.buffer.join("");else if(Kq.buffer.length===1)LQ=Kq.buffer.first();else LQ=Kq.buffer.concat(Kq.length);Kq.buffer.clear()}else LQ=Kq.buffer.consume(FQ,Kq.decoder);return LQ}function Xq(FQ){const Kq=FQ._readableState;if(OQ&&Gq("endEmitted @ endReadable",Kq.endEmitted,FQ.__id),!Kq.endEmitted)Kq.ended=!0,_Q(GQ,Kq,FQ)}function GQ(FQ,Kq){if(OQ&&Gq("endReadableNT -- endEmitted, state.length",FQ.endEmitted,FQ.length,Kq.__id),!FQ.errored&&!FQ.closeEmitted&&!FQ.endEmitted&&FQ.length===0){if(FQ.endEmitted=!0,Kq.emit("end"),OQ&&Gq("end emitted @ endReadableNT",Kq.__id),Kq.writable&&Kq.allowHalfOpen===!1)_Q(Jq,Kq);else if(FQ.autoDestroy){const LQ=Kq._writableState;if(!LQ||LQ.autoDestroy&&(LQ.finished||LQ.writable===!1))Kq.destroy()}}}function Jq(FQ){if(FQ.writable&&!FQ.writableEnded&&!FQ.destroyed)FQ.end()}rq.from=function(FQ,Kq){return r(rq,FQ,Kq)};var MQ={newStreamReadableFromReadableStream:tq};function Hq(){if(MQ===void 0)MQ={};return MQ}rq.fromWeb=function(FQ,Kq){return Hq().newStreamReadableFromReadableStream(FQ,Kq)},rq.toWeb=function(FQ){return Hq().newReadableStreamFromStreamReadable(FQ)},rq.wrap=function(FQ,Kq){var LQ,Zq;return new rq({objectMode:(LQ=(Zq=FQ.readableObjectMode)!==null&&Zq!==void 0?Zq:FQ.objectMode)!==null&&LQ!==void 0?LQ:!0,...Kq,destroy(jQ,Bq){n.destroyer(FQ,jQ),Bq(jQ)}}).wrap(FQ)}}}),wq=G({"node_modules/readable-stream/lib/internal/streams/writable.js"(B,Y){var{ArrayPrototypeSlice:U,Error:H,FunctionPrototypeSymbolHasInstance:X,ObjectDefineProperty:q,ObjectDefineProperties:J,ObjectSetPrototypeOf:Q,StringPrototypeToLowerCase:Z,Symbol:K,SymbolHasInstance:oq}=DQ(),p=pQ().Stream,sq=Oq(),{addAbortSignal:u}=_q(),{getHighWaterMark:aq,getDefaultHighWaterMark:b}=uQ(),{ERR_INVALID_ARG_TYPE:rq,ERR_METHOD_NOT_IMPLEMENTED:m,ERR_MULTIPLE_CALLBACK:tq,ERR_STREAM_CANNOT_PIPE:c,ERR_STREAM_DESTROYED:eq,ERR_STREAM_ALREADY_FINISHED:d,ERR_STREAM_NULL_VALUES:qQ,ERR_STREAM_WRITE_AFTER_END:l,ERR_UNKNOWN_ENCODING:QQ}=hQ().codes,{errorOrDestroy:i}=sq;function XQ(WQ={}){const Xq=this instanceof wQ();if(!Xq&&!X(XQ,this))return new XQ(WQ);if(this._writableState=new o(WQ,this,Xq),WQ){if(typeof WQ.write==="function")this._write=WQ.write;if(typeof WQ.writev==="function")this._writev=WQ.writev;if(typeof WQ.destroy==="function")this._destroy=WQ.destroy;if(typeof WQ.final==="function")this._final=WQ.final;if(typeof WQ.construct==="function")this._construct=WQ.construct;if(WQ.signal)u(WQ.signal,this)}p.call(this,WQ),sq.construct(this,()=>{const GQ=this._writableState;if(!GQ.writing)z(this,GQ);e(this,GQ)})}Q(XQ.prototype,p.prototype),Q(XQ,p),Y.exports=XQ;function n(){}var JQ=K("kOnFinished");function o(WQ,Xq,GQ){if(typeof GQ!=="boolean")GQ=Xq instanceof wQ();if(this.objectMode=!!(WQ&&WQ.objectMode),GQ)this.objectMode=this.objectMode||!!(WQ&&WQ.writableObjectMode);this.highWaterMark=WQ?aq(this,WQ,"writableHighWaterMark",GQ):b(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;const Jq=!!(WQ&&WQ.decodeStrings===!1);this.decodeStrings=!Jq,this.defaultEncoding=WQ&&WQ.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=r.bind(void 0,Xq),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,HQ(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!WQ||WQ.emitClose!==!1,this.autoDestroy=!WQ||WQ.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[JQ]=[]}function HQ(WQ){WQ.buffered=[],WQ.bufferedIndex=0,WQ.allBuffers=!0,WQ.allNoop=!0}o.prototype.getBuffer=function WQ(){return U(this.buffered,this.bufferedIndex)},q(o.prototype,"bufferedRequestCount",{get(){return this.buffered.length-this.bufferedIndex}}),q(XQ,oq,{value:function(WQ){if(X(this,WQ))return!0;if(this!==XQ)return!1;return WQ&&WQ._writableState instanceof o}}),XQ.prototype.pipe=function(){i(this,new c)};function s(WQ,Xq,GQ,Jq){const MQ=WQ._writableState;if(typeof GQ==="function")Jq=GQ,GQ=MQ.defaultEncoding;else{if(!GQ)GQ=MQ.defaultEncoding;else if(GQ!=="buffer"&&!Buffer.isEncoding(GQ))throw new QQ(GQ);if(typeof Jq!=="function")Jq=n}if(Xq===null)throw new qQ;else if(!MQ.objectMode)if(typeof Xq==="string"){if(MQ.decodeStrings!==!1)Xq=Buffer.from(Xq,GQ),GQ="buffer"}else if(Xq instanceof Buffer)GQ="buffer";else if(p._isUint8Array(Xq))Xq=p._uint8ArrayToBuffer(Xq),GQ="buffer";else throw new rq("chunk",["string","Buffer","Uint8Array"],Xq);let Hq;if(MQ.ending)Hq=new l;else if(MQ.destroyed)Hq=new eq("write");if(Hq)return _Q(Jq,Hq),i(WQ,Hq,!0),Hq;return MQ.pendingcb++,KQ(WQ,MQ,Xq,GQ,Jq)}XQ.prototype.write=function(WQ,Xq,GQ){return s(this,WQ,Xq,GQ)===!0},XQ.prototype.cork=function(){this._writableState.corked++},XQ.prototype.uncork=function(){const WQ=this._writableState;if(WQ.corked){if(WQ.corked--,!WQ.writing)z(this,WQ)}},XQ.prototype.setDefaultEncoding=function WQ(Xq){if(typeof Xq==="string")Xq=Z(Xq);if(!Buffer.isEncoding(Xq))throw new QQ(Xq);return this._writableState.defaultEncoding=Xq,this};function KQ(WQ,Xq,GQ,Jq,MQ){const Hq=Xq.objectMode?1:GQ.length;Xq.length+=Hq;const FQ=Xq.length<Xq.highWaterMark;if(!FQ)Xq.needDrain=!0;if(Xq.writing||Xq.corked||Xq.errored||!Xq.constructed){if(Xq.buffered.push({chunk:GQ,encoding:Jq,callback:MQ}),Xq.allBuffers&&Jq!=="buffer")Xq.allBuffers=!1;if(Xq.allNoop&&MQ!==n)Xq.allNoop=!1}else Xq.writelen=Hq,Xq.writecb=MQ,Xq.writing=!0,Xq.sync=!0,WQ._write(GQ,Jq,Xq.onwrite),Xq.sync=!1;return FQ&&!Xq.errored&&!Xq.destroyed}function a(WQ,Xq,GQ,Jq,MQ,Hq,FQ){if(Xq.writelen=Jq,Xq.writecb=FQ,Xq.writing=!0,Xq.sync=!0,Xq.destroyed)Xq.onwrite(new eq("write"));else if(GQ)WQ._writev(MQ,Xq.onwrite);else WQ._write(MQ,Hq,Xq.onwrite);Xq.sync=!1}function ZQ(WQ,Xq,GQ,Jq){--Xq.pendingcb,Jq(GQ),YQ(Xq),i(WQ,GQ)}function r(WQ,Xq){const GQ=WQ._writableState,Jq=GQ.sync,MQ=GQ.writecb;if(typeof MQ!=="function"){i(WQ,new tq);return}if(GQ.writing=!1,GQ.writecb=null,GQ.length-=GQ.writelen,GQ.writelen=0,Xq){if(Error.captureStackTrace(Xq),!GQ.errored)GQ.errored=Xq;if(WQ._readableState&&!WQ._readableState.errored)WQ._readableState.errored=Xq;if(Jq)_Q(ZQ,WQ,GQ,Xq,MQ);else ZQ(WQ,GQ,Xq,MQ)}else{if(GQ.buffered.length>GQ.bufferedIndex)z(WQ,GQ);if(Jq)if(GQ.afterWriteTickInfo!==null&&GQ.afterWriteTickInfo.cb===MQ)GQ.afterWriteTickInfo.count++;else GQ.afterWriteTickInfo={count:1,cb:MQ,stream:WQ,state:GQ},_Q(BQ,GQ.afterWriteTickInfo);else $(WQ,GQ,1,MQ)}}function BQ({stream:WQ,state:Xq,count:GQ,cb:Jq}){return Xq.afterWriteTickInfo=null,$(WQ,Xq,GQ,Jq)}function $(WQ,Xq,GQ,Jq){if(!Xq.ending&&!WQ.destroyed&&Xq.length===0&&Xq.needDrain)Xq.needDrain=!1,WQ.emit("drain");while(GQ-- >0)Xq.pendingcb--,Jq();if(Xq.destroyed)YQ(Xq);e(WQ,Xq)}function YQ(WQ){if(WQ.writing)return;for(let MQ=WQ.bufferedIndex;MQ<WQ.buffered.length;++MQ){var Xq;const{chunk:Hq,callback:FQ}=WQ.buffered[MQ],Kq=WQ.objectMode?1:Hq.length;WQ.length-=Kq,FQ((Xq=WQ.errored)!==null&&Xq!==void 0?Xq:new eq("write"))}const GQ=WQ[JQ].splice(0);for(let MQ=0;MQ<GQ.length;MQ++){var Jq;GQ[MQ]((Jq=WQ.errored)!==null&&Jq!==void 0?Jq:new eq("end"))}HQ(WQ)}function z(WQ,Xq){if(Xq.corked||Xq.bufferProcessing||Xq.destroyed||!Xq.constructed)return;const{buffered:GQ,bufferedIndex:Jq,objectMode:MQ}=Xq,Hq=GQ.length-Jq;if(!Hq)return;let FQ=Jq;if(Xq.bufferProcessing=!0,Hq>1&&WQ._writev){Xq.pendingcb-=Hq-1;const Kq=Xq.allNoop?n:(Zq)=>{for(let jQ=FQ;jQ<GQ.length;++jQ)GQ[jQ].callback(Zq)},LQ=Xq.allNoop&&FQ===0?GQ:U(GQ,FQ);LQ.allBuffers=Xq.allBuffers,a(WQ,Xq,!0,Xq.length,LQ,"",Kq),HQ(Xq)}else{do{const{chunk:Kq,encoding:LQ,callback:Zq}=GQ[FQ];GQ[FQ++]=null;const jQ=MQ?1:Kq.length;a(WQ,Xq,!1,jQ,Kq,LQ,Zq)}while(FQ<GQ.length&&!Xq.writing);if(FQ===GQ.length)HQ(Xq);else if(FQ>256)GQ.splice(0,FQ),Xq.bufferedIndex=0;else Xq.bufferedIndex=FQ}Xq.bufferProcessing=!1}XQ.prototype._write=function(WQ,Xq,GQ){if(this._writev)this._writev([{chunk:WQ,encoding:Xq}],GQ);else throw new m("_write()")},XQ.prototype._writev=null,XQ.prototype.end=function(WQ,Xq,GQ,Jq=!1){const MQ=this._writableState;if(OQ&&Gq("end",MQ,this.__id),typeof WQ==="function")GQ=WQ,WQ=null,Xq=null;else if(typeof Xq==="function")GQ=Xq,Xq=null;let Hq;if(WQ!==null&&WQ!==void 0){let FQ;if(!Jq)FQ=s(this,WQ,Xq);else FQ=this.write(WQ,Xq);if(FQ instanceof H)Hq=FQ}if(MQ.corked)MQ.corked=1,this.uncork();if(Hq)this.emit("error",Hq);else if(!MQ.errored&&!MQ.ending)MQ.ending=!0,e(this,MQ,!0),MQ.ended=!0;else if(MQ.finished)Hq=new d("end");else if(MQ.destroyed)Hq=new eq("end");if(typeof GQ==="function")if(Hq||MQ.finished)_Q(GQ,Hq);else MQ[JQ].push(GQ);return this};function $Q(WQ,Xq){var GQ=WQ.ending&&!WQ.destroyed&&WQ.constructed&&WQ.length===0&&!WQ.errored&&WQ.buffered.length===0&&!WQ.finished&&!WQ.writing&&!WQ.errorEmitted&&!WQ.closeEmitted;return Gq("needFinish",GQ,Xq),GQ}function t(WQ,Xq){let GQ=!1;function Jq(MQ){if(GQ){i(WQ,MQ!==null&&MQ!==void 0?MQ:tq());return}if(GQ=!0,Xq.pendingcb--,MQ){const Hq=Xq[JQ].splice(0);for(let FQ=0;FQ<Hq.length;FQ++)Hq[FQ](MQ);i(WQ,MQ,Xq.sync)}else if($Q(Xq))Xq.prefinished=!0,WQ.emit("prefinish"),Xq.pendingcb++,_Q(VQ,WQ,Xq)}Xq.sync=!0,Xq.pendingcb++;try{WQ._final(Jq)}catch(MQ){Jq(MQ)}Xq.sync=!1}function zQ(WQ,Xq){if(!Xq.prefinished&&!Xq.finalCalled)if(typeof WQ._final==="function"&&!Xq.destroyed)Xq.finalCalled=!0,t(WQ,Xq);else Xq.prefinished=!0,WQ.emit("prefinish")}function e(WQ,Xq,GQ){if(OQ&&Gq("finishMaybe -- state, sync",Xq,GQ,WQ.__id),!$Q(Xq,WQ.__id))return;if(zQ(WQ,Xq),Xq.pendingcb===0){if(GQ)Xq.pendingcb++,_Q((Jq,MQ)=>{if($Q(MQ))VQ(Jq,MQ);else MQ.pendingcb--},WQ,Xq);else if($Q(Xq))Xq.pendingcb++,VQ(WQ,Xq)}}function VQ(WQ,Xq){Xq.pendingcb--,Xq.finished=!0;const GQ=Xq[JQ].splice(0);for(let Jq=0;Jq<GQ.length;Jq++)GQ[Jq]();if(WQ.emit("finish"),Xq.autoDestroy){const Jq=WQ._readableState;if(!Jq||Jq.autoDestroy&&(Jq.endEmitted||Jq.readable===!1))WQ.destroy()}}J(XQ.prototype,{closed:{get(){return this._writableState?this._writableState.closed:!1}},destroyed:{get(){return this._writableState?this._writableState.destroyed:!1},set(WQ){if(this._writableState)this._writableState.destroyed=WQ}},writable:{get(){const WQ=this._writableState;return!!WQ&&WQ.writable!==!1&&!WQ.destroyed&&!WQ.errored&&!WQ.ending&&!WQ.ended},set(WQ){if(this._writableState)this._writableState.writable=!!WQ}},writableFinished:{get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{get(){const WQ=this._writableState;if(!WQ)return!1;return!WQ.destroyed&&!WQ.ending&&WQ.needDrain}},writableHighWaterMark:{get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{get(){return this._writableState?this._writableState.corked:0}},writableLength:{get(){return this._writableState&&this._writableState.length}},errored:{enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{enumerable:!1,get:function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});var qq=sq.destroy;XQ.prototype.destroy=function(WQ,Xq){const GQ=this._writableState;if(!GQ.destroyed&&(GQ.bufferedIndex<GQ.buffered.length||GQ[JQ].length))_Q(YQ,GQ);return qq.call(this,WQ,Xq),this},XQ.prototype._undestroy=sq.undestroy,XQ.prototype._destroy=function(WQ,Xq){Xq(WQ)},XQ.prototype[CQ.captureRejectionSymbol]=function(WQ){this.destroy(WQ)};var UQ;function Qq(){if(UQ===void 0)UQ={};return UQ}XQ.fromWeb=function(WQ,Xq){return Qq().newStreamWritableFromWritableStream(WQ,Xq)},XQ.toWeb=function(WQ){return Qq().newWritableStreamFromStreamWritable(WQ)}}}),cQ=G({"node_modules/readable-stream/lib/internal/streams/duplexify.js"(B,Y){var{isReadable:U,isWritable:H,isIterable:X,isNodeStream:q,isReadableNodeStream:J,isWritableNodeStream:Q,isDuplexNodeStream:Z}=j(),K=N(),{AbortError:oq,codes:{ERR_INVALID_ARG_TYPE:p,ERR_INVALID_RETURN_VALUE:sq}}=hQ(),{destroyer:u}=Oq(),aq=wQ(),b=mQ(),{createDeferredPromise:rq}=jq(),m=Cq(),tq=typeof Blob!=="undefined"?function l(QQ){return QQ instanceof Blob}:function l(QQ){return!1},{FunctionPrototypeCall:c}=DQ();class eq extends aq{constructor(l){super(l);if((l===null||l===void 0?void 0:l.readable)===!1)this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0;if((l===null||l===void 0?void 0:l.writable)===!1)this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0}}Y.exports=function l(QQ,i){if(Z(QQ))return QQ;if(J(QQ))return qQ({readable:QQ});if(Q(QQ))return qQ({writable:QQ});if(q(QQ))return qQ({writable:!1,readable:!1});if(typeof QQ==="function"){const{value:n,write:JQ,final:o,destroy:HQ}=d(QQ);if(X(n))return m(eq,n,{objectMode:!0,write:JQ,final:o,destroy:HQ});const s=n===null||n===void 0?void 0:n.then;if(typeof s==="function"){let KQ;const a=c(s,n,(ZQ)=>{if(ZQ!=null)throw new sq("nully","body",ZQ)},(ZQ)=>{u(KQ,ZQ)});return KQ=new eq({objectMode:!0,readable:!1,write:JQ,final(ZQ){o(async()=>{try{await a,_Q(ZQ,null)}catch(r){_Q(ZQ,r)}})},destroy:HQ})}throw new sq("Iterable, AsyncIterable or AsyncFunction",i,n)}if(tq(QQ))return l(QQ.arrayBuffer());if(X(QQ))return m(eq,QQ,{objectMode:!0,writable:!1});if(typeof(QQ===null||QQ===void 0?void 0:QQ.writable)==="object"||typeof(QQ===null||QQ===void 0?void 0:QQ.readable)==="object"){const n=QQ!==null&&QQ!==void 0&&QQ.readable?J(QQ===null||QQ===void 0?void 0:QQ.readable)?QQ===null||QQ===void 0?void 0:QQ.readable:l(QQ.readable):void 0,JQ=QQ!==null&&QQ!==void 0&&QQ.writable?Q(QQ===null||QQ===void 0?void 0:QQ.writable)?QQ===null||QQ===void 0?void 0:QQ.writable:l(QQ.writable):void 0;return qQ({readable:n,writable:JQ})}const XQ=QQ===null||QQ===void 0?void 0:QQ.then;if(typeof XQ==="function"){let n;return c(XQ,QQ,(JQ)=>{if(JQ!=null)n.push(JQ);n.push(null)},(JQ)=>{u(n,JQ)}),n=new eq({objectMode:!0,writable:!1,read(){}})}throw new p(i,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],QQ)};function d(l){let{promise:QQ,resolve:i}=rq();const XQ=new AbortController,n=XQ.signal;return{value:l(async function*(){while(!0){const o=QQ;QQ=null;const{chunk:HQ,done:s,cb:KQ}=await o;if(_Q(KQ),s)return;if(n.aborted)throw new oq(void 0,{cause:n.reason});({promise:QQ,resolve:i}=rq()),yield HQ}}(),{signal:n}),write(o,HQ,s){const KQ=i;i=null,KQ({chunk:o,done:!1,cb:s})},final(o){const HQ=i;i=null,HQ({done:!0,cb:o})},destroy(o,HQ){XQ.abort(),HQ(o)}}}function qQ(l){const QQ=l.readable&&typeof l.readable.read!=="function"?b.wrap(l.readable):l.readable,i=l.writable;let XQ=!!U(QQ),n=!!H(i),JQ,o,HQ,s,KQ;function a(ZQ){const r=s;if(s=null,r)r(ZQ);else if(ZQ)KQ.destroy(ZQ);else if(!XQ&&!n)KQ.destroy()}if(KQ=new eq({readableObjectMode:!!(QQ!==null&&QQ!==void 0&&QQ.readableObjectMode),writableObjectMode:!!(i!==null&&i!==void 0&&i.writableObjectMode),readable:XQ,writable:n}),n)K(i,(ZQ)=>{if(n=!1,ZQ)u(QQ,ZQ);a(ZQ)}),KQ._write=function(ZQ,r,BQ){if(i.write(ZQ,r))BQ();else JQ=BQ},KQ._final=function(ZQ){i.end(),o=ZQ},i.on("drain",function(){if(JQ){const ZQ=JQ;JQ=null,ZQ()}}),i.on("finish",function(){if(o){const ZQ=o;o=null,ZQ()}});if(XQ)K(QQ,(ZQ)=>{if(XQ=!1,ZQ)u(QQ,ZQ);a(ZQ)}),QQ.on("readable",function(){if(HQ){const ZQ=HQ;HQ=null,ZQ()}}),QQ.on("end",function(){KQ.push(null)}),KQ._read=function(){while(!0){const ZQ=QQ.read();if(ZQ===null){HQ=KQ._read;return}if(!KQ.push(ZQ))return}};return KQ._destroy=function(ZQ,r){if(!ZQ&&s!==null)ZQ=new oq;if(HQ=null,JQ=null,o=null,s===null)r(ZQ);else s=r,u(i,ZQ),u(QQ,ZQ)},KQ}}}),wQ=G({"node_modules/readable-stream/lib/internal/streams/duplex.js"(B,Y){var{ObjectDefineProperties:U,ObjectGetOwnPropertyDescriptor:H,ObjectKeys:X,ObjectSetPrototypeOf:q}=DQ(),J=mQ();function Q(sq){if(!(this instanceof Q))return new Q(sq);if(J.call(this,sq),Mq.call(this,sq),sq){if(this.allowHalfOpen=sq.allowHalfOpen!==!1,sq.readable===!1)this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0;if(sq.writable===!1)this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0}else this.allowHalfOpen=!0}Y.exports=Q,q(Q.prototype,J.prototype),q(Q,J);for(var Z in Mq.prototype)if(!Q.prototype[Z])Q.prototype[Z]=Mq.prototype[Z];U(Q.prototype,{writable:H(Mq.prototype,"writable"),writableHighWaterMark:H(Mq.prototype,"writableHighWaterMark"),writableObjectMode:H(Mq.prototype,"writableObjectMode"),writableBuffer:H(Mq.prototype,"writableBuffer"),writableLength:H(Mq.prototype,"writableLength"),writableFinished:H(Mq.prototype,"writableFinished"),writableCorked:H(Mq.prototype,"writableCorked"),writableEnded:H(Mq.prototype,"writableEnded"),writableNeedDrain:H(Mq.prototype,"writableNeedDrain"),destroyed:{get(){if(this._readableState===void 0||this._writableState===void 0)return!1;return this._readableState.destroyed&&this._writableState.destroyed},set(sq){if(this._readableState&&this._writableState)this._readableState.destroyed=sq,this._writableState.destroyed=sq}}});var K;function oq(){if(K===void 0)K={};return K}Q.fromWeb=function(sq,u){return oq().newStreamDuplexFromReadableWritablePair(sq,u)},Q.toWeb=function(sq){return oq().newReadableWritablePairFromDuplex(sq)};var p;Q.from=function(sq){if(!p)p=cQ();return p(sq,"body")}}}),vq=G({"node_modules/readable-stream/lib/internal/streams/transform.js"(B,Y){var{ObjectSetPrototypeOf:U,Symbol:H}=DQ(),{ERR_METHOD_NOT_IMPLEMENTED:X}=hQ().codes,q=wQ();function J(oq){if(!(this instanceof J))return new J(oq);if(q.call(this,oq),this._readableState.sync=!1,this[Q]=null,oq){if(typeof oq.transform==="function")this._transform=oq.transform;if(typeof oq.flush==="function")this._flush=oq.flush}this.on("prefinish",K.bind(this))}U(J.prototype,q.prototype),U(J,q),Y.exports=J;var Q=H("kCallback");function Z(oq){if(typeof this._flush==="function"&&!this.destroyed)this._flush((p,sq)=>{if(p){if(oq)oq(p);else this.destroy(p);return}if(sq!=null)this.push(sq);if(this.push(null),oq)oq()});else if(this.push(null),oq)oq()}function K(){if(this._final!==Z)Z.call(this)}J.prototype._final=Z,J.prototype._transform=function(oq,p,sq){throw new X("_transform()")},J.prototype._write=function(oq,p,sq){const u=this._readableState,aq=this._writableState,b=u.length;this._transform(oq,p,(rq,m)=>{if(rq){sq(rq);return}if(m!=null)this.push(m);if(aq.ended||b===u.length||u.length<u.highWaterMark||u.highWaterMark===0||u.length===0)sq();else this[Q]=sq})},J.prototype._read=function(){if(this[Q]){const oq=this[Q];this[Q]=null,oq()}}}}),dQ=G({"node_modules/readable-stream/lib/internal/streams/passthrough.js"(B,Y){var{ObjectSetPrototypeOf:U}=DQ(),H=vq();function X(q){if(!(this instanceof X))return new X(q);H.call(this,q)}U(X.prototype,H.prototype),U(X,H),X.prototype._transform=function(q,J,Q){Q(null,q)},Y.exports=X}}),Rq=G({"node_modules/readable-stream/lib/internal/streams/pipeline.js"(B,Y){var{ArrayIsArray:U,Promise:H,SymbolAsyncIterator:X}=DQ(),q=N(),{once:J}=jq(),Q=Oq(),Z=wQ(),{aggregateTwoErrors:K,codes:{ERR_INVALID_ARG_TYPE:oq,ERR_INVALID_RETURN_VALUE:p,ERR_MISSING_ARGS:sq,ERR_STREAM_DESTROYED:u},AbortError:aq}=hQ(),{validateFunction:b,validateAbortSignal:rq}=L(),{isIterable:m,isReadable:tq,isReadableNodeStream:c,isNodeStream:eq}=j(),d,qQ;function l(s,KQ,a){let ZQ=!1;s.on("close",()=>{ZQ=!0});const r=q(s,{readable:KQ,writable:a},(BQ)=>{ZQ=!BQ});return{destroy:(BQ)=>{if(ZQ)return;ZQ=!0,Q.destroyer(s,BQ||new u("pipe"))},cleanup:r}}function QQ(s){return b(s[s.length-1],"streams[stream.length - 1]"),s.pop()}function i(s){if(m(s))return s;else if(c(s))return XQ(s);throw new oq("val",["Readable","Iterable","AsyncIterable"],s)}async function*XQ(s){if(!qQ)qQ=mQ();yield*qQ.prototype[X].call(s)}async function n(s,KQ,a,{end:ZQ}){let r,BQ=null;const $=($Q)=>{if($Q)r=$Q;if(BQ){const t=BQ;BQ=null,t()}},YQ=()=>new H(($Q,t)=>{if(r)t(r);else BQ=()=>{if(r)t(r);else $Q()}});KQ.on("drain",$);const z=q(KQ,{readable:!1},$);try{if(KQ.writableNeedDrain)await YQ();for await(let $Q of s)if(!KQ.write($Q))await YQ();if(ZQ)KQ.end();await YQ(),a()}catch($Q){a(r!==$Q?K(r,$Q):$Q)}finally{z(),KQ.off("drain",$)}}function JQ(...s){return o(s,J(QQ(s)))}function o(s,KQ,a){if(s.length===1&&U(s[0]))s=s[0];if(s.length<2)throw new sq("streams");const ZQ=new AbortController,r=ZQ.signal,BQ=a===null||a===void 0?void 0:a.signal,$=[];rq(BQ,"options.signal");function YQ(){VQ(new aq)}BQ===null||BQ===void 0||BQ.addEventListener("abort",YQ);let z,$Q;const t=[];let zQ=0;function e(Qq){VQ(Qq,--zQ===0)}function VQ(Qq,WQ){if(Qq&&(!z||z.code==="ERR_STREAM_PREMATURE_CLOSE"))z=Qq;if(!z&&!WQ)return;while(t.length)t.shift()(z);if(BQ===null||BQ===void 0||BQ.removeEventListener("abort",YQ),ZQ.abort(),WQ){if(!z)$.forEach((Xq)=>Xq());_Q(KQ,z,$Q)}}let qq;for(let Qq=0;Qq<s.length;Qq++){const WQ=s[Qq],Xq=Qq<s.length-1,GQ=Qq>0,Jq=Xq||(a===null||a===void 0?void 0:a.end)!==!1,MQ=Qq===s.length-1;if(eq(WQ)){let Hq=function(FQ){if(FQ&&FQ.name!=="AbortError"&&FQ.code!=="ERR_STREAM_PREMATURE_CLOSE")e(FQ)};if(Jq){const{destroy:FQ,cleanup:Kq}=l(WQ,Xq,GQ);if(t.push(FQ),tq(WQ)&&MQ)$.push(Kq)}if(WQ.on("error",Hq),tq(WQ)&&MQ)$.push(()=>{WQ.removeListener("error",Hq)})}if(Qq===0)if(typeof WQ==="function"){if(qq=WQ({signal:r}),!m(qq))throw new p("Iterable, AsyncIterable or Stream","source",qq)}else if(m(WQ)||c(WQ))qq=WQ;else qq=Z.from(WQ);else if(typeof WQ==="function")if(qq=i(qq),qq=WQ(qq,{signal:r}),Xq){if(!m(qq,!0))throw new p("AsyncIterable",`transform[${Qq-1}]`,qq)}else{var UQ;if(!d)d=dQ();const Hq=new d({objectMode:!0}),FQ=(UQ=qq)===null||UQ===void 0?void 0:UQ.then;if(typeof FQ==="function")zQ++,FQ.call(qq,(Zq)=>{if($Q=Zq,Zq!=null)Hq.write(Zq);if(Jq)Hq.end();_Q(e)},(Zq)=>{Hq.destroy(Zq),_Q(e,Zq)});else if(m(qq,!0))zQ++,n(qq,Hq,e,{end:Jq});else throw new p("AsyncIterable or Promise","destination",qq);qq=Hq;const{destroy:Kq,cleanup:LQ}=l(qq,!1,!0);if(t.push(Kq),MQ)$.push(LQ)}else if(eq(WQ)){if(c(qq)){zQ+=2;const Hq=HQ(qq,WQ,e,{end:Jq});if(tq(WQ)&&MQ)$.push(Hq)}else if(m(qq))zQ++,n(qq,WQ,e,{end:Jq});else throw new oq("val",["Readable","Iterable","AsyncIterable"],qq);qq=WQ}else qq=Z.from(WQ)}if(r!==null&&r!==void 0&&r.aborted||BQ!==null&&BQ!==void 0&&BQ.aborted)_Q(YQ);return qq}function HQ(s,KQ,a,{end:ZQ}){if(s.pipe(KQ,{end:ZQ}),ZQ)s.once("end",()=>KQ.end());else a();return q(s,{readable:!0,writable:!1},(r)=>{const BQ=s._readableState;if(r&&r.code==="ERR_STREAM_PREMATURE_CLOSE"&&BQ&&BQ.ended&&!BQ.errored&&!BQ.errorEmitted)s.once("end",a).once("error",a);else a(r)}),q(KQ,{readable:!1,writable:!0},a)}Y.exports={pipelineImpl:o,pipeline:JQ}}}),lQ=G({"node_modules/readable-stream/lib/internal/streams/compose.js"(B,Y){var{pipeline:U}=Rq(),H=wQ(),{destroyer:X}=Oq(),{isNodeStream:q,isReadable:J,isWritable:Q}=j(),{AbortError:Z,codes:{ERR_INVALID_ARG_VALUE:K,ERR_MISSING_ARGS:oq}}=hQ();Y.exports=function p(...sq){if(sq.length===0)throw new oq("streams");if(sq.length===1)return H.from(sq[0]);const u=[...sq];if(typeof sq[0]==="function")sq[0]=H.from(sq[0]);if(typeof sq[sq.length-1]==="function"){const QQ=sq.length-1;sq[QQ]=H.from(sq[QQ])}for(let QQ=0;QQ<sq.length;++QQ){if(!q(sq[QQ]))continue;if(QQ<sq.length-1&&!J(sq[QQ]))throw new K(`streams[${QQ}]`,u[QQ],"must be readable");if(QQ>0&&!Q(sq[QQ]))throw new K(`streams[${QQ}]`,u[QQ],"must be writable")}let aq,b,rq,m,tq;function c(QQ){const i=m;if(m=null,i)i(QQ);else if(QQ)tq.destroy(QQ);else if(!l&&!qQ)tq.destroy()}const eq=sq[0],d=U(sq,c),qQ=!!Q(eq),l=!!J(d);if(tq=new H({writableObjectMode:!!(eq!==null&&eq!==void 0&&eq.writableObjectMode),readableObjectMode:!!(d!==null&&d!==void 0&&d.writableObjectMode),writable:qQ,readable:l}),qQ)tq._write=function(QQ,i,XQ){if(eq.write(QQ,i))XQ();else aq=XQ},tq._final=function(QQ){eq.end(),b=QQ},eq.on("drain",function(){if(aq){const QQ=aq;aq=null,QQ()}}),d.on("finish",function(){if(b){const QQ=b;b=null,QQ()}});if(l)d.on("readable",function(){if(rq){const QQ=rq;rq=null,QQ()}}),d.on("end",function(){tq.push(null)}),tq._read=function(){while(!0){const QQ=d.read();if(QQ===null){rq=tq._read;return}if(!tq.push(QQ))return}};return tq._destroy=function(QQ,i){if(!QQ&&m!==null)QQ=new Z;if(rq=null,aq=null,b=null,m===null)i(QQ);else m=i,X(d,QQ)},tq}}}),E=G({"node_modules/readable-stream/lib/stream/promises.js"(B,Y){var{ArrayPrototypePop:U,Promise:H}=DQ(),{isIterable:X,isNodeStream:q}=j(),{pipelineImpl:J}=Rq(),{finished:Q}=N();function Z(...K){return new H((oq,p)=>{let sq,u;const aq=K[K.length-1];if(aq&&typeof aq==="object"&&!q(aq)&&!X(aq)){const b=U(K);sq=b.signal,u=b.end}J(K,(b,rq)=>{if(b)p(b);else oq(rq)},{signal:sq,end:u})})}Y.exports={finished:Q,pipeline:Z}}}),I=G({"node_modules/readable-stream/lib/stream.js"(B,Y){var{ObjectDefineProperty:U,ObjectKeys:H,ReflectApply:X}=DQ(),{promisify:{custom:q}}=jq(),{streamReturningOperators:J,promiseReturningOperators:Q}=A(),{codes:{ERR_ILLEGAL_CONSTRUCTOR:Z}}=hQ(),K=lQ(),{pipeline:oq}=Rq(),{destroyer:p}=Oq(),sq=N(),u=E(),aq=j(),b=Y.exports=pQ().Stream;b.isDisturbed=aq.isDisturbed,b.isErrored=aq.isErrored,b.isWritable=aq.isWritable,b.isReadable=aq.isReadable,b.Readable=mQ();for(let m of H(J)){let tq=function(...eq){if(new.target)throw Z();return b.Readable.from(X(c,this,eq))};const c=J[m];U(tq,"name",{value:c.name}),U(tq,"length",{value:c.length}),U(b.Readable.prototype,m,{value:tq,enumerable:!1,configurable:!0,writable:!0})}for(let m of H(Q)){let tq=function(...eq){if(new.target)throw Z();return X(c,this,eq)};const c=Q[m];U(tq,"name",{value:c.name}),U(tq,"length",{value:c.length}),U(b.Readable.prototype,m,{value:tq,enumerable:!1,configurable:!0,writable:!0})}b.Writable=wq(),b.Duplex=wQ(),b.Transform=vq(),b.PassThrough=dQ(),b.pipeline=oq;var{addAbortSignal:rq}=_q();b.addAbortSignal=rq,b.finished=sq,b.destroy=p,b.compose=K,U(b,"promises",{configurable:!0,enumerable:!0,get(){return u}}),U(oq,q,{enumerable:!0,get(){return u.pipeline}}),U(sq,q,{enumerable:!0,get(){return u.finished}}),b.Stream=b,b._isUint8Array=function m(tq){return tq instanceof Uint8Array},b._uint8ArrayToBuffer=function m(tq){return new Buffer(tq.buffer,tq.byteOffset,tq.byteLength)}}}),T=G({"node_modules/readable-stream/lib/ours/index.js"(B,Y){const U=I(),H=E(),X=U.Readable.destroy;Y.exports=U,Y.exports._uint8ArrayToBuffer=U._uint8ArrayToBuffer,Y.exports._isUint8Array=U._isUint8Array,Y.exports.isDisturbed=U.isDisturbed,Y.exports.isErrored=U.isErrored,Y.exports.isWritable=U.isWritable,Y.exports.isReadable=U.isReadable,Y.exports.Readable=U.Readable,Y.exports.Writable=U.Writable,Y.exports.Duplex=U.Duplex,Y.exports.Transform=U.Transform,Y.exports.PassThrough=U.PassThrough,Y.exports.addAbortSignal=U.addAbortSignal,Y.exports.finished=U.finished,Y.exports.destroy=U.destroy,Y.exports.destroy=X,Y.exports.pipeline=U.pipeline,Y.exports.compose=U.compose,Y.exports._getNativeReadableStreamPrototype=O,Y.exports.NativeWritable=bq,Fq.defineProperty(U,"promises",{configurable:!0,enumerable:!0,get(){return H}}),Y.exports.Stream=U.Stream,Y.exports.default=Y.exports}}),x={0:void 0,1:void 0,2:void 0,3:void 0,4:void 0,5:void 0},Mq=wq(),bq=class B extends Mq{#q;#Q;#X=!0;_construct;_destroy;_final;constructor(Y,U={}){super(U);this._construct=this.#J,this._destroy=this.#K,this._final=this.#Z,this.#q=Y}#J(Y){this._writableState.constructed=!0,this.constructed=!0,Y()}#H(){if(typeof this.#q==="object")if(typeof this.#q.write==="function")this.#Q=this.#q;else throw new Error("Invalid FileSink");else this.#Q=Bun.file(this.#q).writer()}write(Y,U,H,X=this.#X){if(!X)return this.#X=!1,super.write(Y,U,H);if(!this.#Q)this.#H();var q=this.#Q,J=q.write(Y);if(Lq(J))return J.then(()=>{this.emit("drain"),q.flush(!0)}),!1;if(q.flush(!0),H)H(null,Y.byteLength);return!0}end(Y,U,H,X=this.#X){return super.end(Y,U,H,X)}#K(Y,U){if(this._writableState.destroyed=!0,U)U(Y)}#Z(Y){if(this.#Q)this.#Q.end();if(Y)Y()}ref(){if(!this.#Q)this.#H();this.#Q.ref()}unref(){if(!this.#Q)return;this.#Q.unref()}},C=T();C[Symbol.for("CommonJS")]=0;C[Symbol.for("::bunternal::")]={_ReadableFromWeb:bQ,_ReadableFromWebForUndici:Dq};var nq=C,D=C._uint8ArrayToBuffer,w=C._isUint8Array,v=C.isDisturbed,R=C.isErrored,S=C.isWritable,g=C.isReadable,f=C.Readable,Mq=C.Writable,k=C.Duplex,y=C.Transform,h=C.PassThrough,Sq=C.addAbortSignal,gq=C.finished,fq=C.destroy,kq=C.pipeline,yq=C.compose,hq=C.Stream,pq=C["eos"]=N,uq=C._getNativeReadableStreamPrototype,bq=C.NativeWritable,mq=hq.promises;export{mq as promises,kq as pipeline,S as isWritable,g as isReadable,R as isErrored,v as isDisturbed,gq as finished,pq as eos,fq as destroy,nq as default,yq as compose,Sq as addAbortSignal,D as _uint8ArrayToBuffer,w as _isUint8Array,uq as _getNativeReadableStreamPrototype,Mq as Writable,y as Transform,hq as Stream,f as Readable,h as PassThrough,bq as NativeWritable,k as Duplex};
