var wq=function(q){if(!(this instanceof wq))return new wq(q);bq.call(this,q);const Q=q.__id;if(Q)fq(this,"__id",{value:Q,readable:!0,writable:!1,enumerable:!1})},dq=function(q){return typeof q==="object"&&q!==null&&q instanceof ReadableStream},lq=function(q,Q){if(typeof q!=="boolean")throw new nq(Q,"boolean",q)};var nq=function(q,Q,X){return new Error(`The argument '${q}' is invalid. Received '${X}' for type '${Q}'`)},oq=function(q,Q,X){return new Error(`The value '${Q}' is invalid for argument '${q}'. Reason: ${X}`)},jQ=function(q,Q){var[X,J,H,Z,K,B,Y]=globalThis[Symbol.for("Bun.lazy")](q),$=[!1],z=function(j,L,N,W){if(L>0){const P=N.subarray(0,L),I=N.subarray(L);if(P.byteLength>0)j.push(P);if(W)j.push(null);return I.byteLength>0?I:void 0}if(W)j.push(null);return N},V=function(j,L,N,W){if(L.byteLength>0)j.push(L);if(W)j.push(null);return N},G=process.env.BUN_DISABLE_DYNAMIC_CHUNK_SIZE!=="1";const U=new FinalizationRegistry((j)=>j&&K(j)),F=512;var M=class j extends Q{#q;#Q=1;#X=!1;#J=void 0;#H;#Z=!1;#K=!G;#B;constructor(L,N={}){super(N);if(typeof N.highWaterMark==="number")this.#H=N.highWaterMark;else this.#H=262144;this.#q=L,this.#X=!1,this.#J=void 0,this.#Z=!1,this.#B={},U.register(this,this.#q,this.#B)}_read(L){if(xq&&Iq("NativeReadable._read",this.__id),this.#Z){xq&&Iq("pendingRead is true",this.__id);return}var N=this.#q;if(xq&&Iq("ptr @ NativeReadable._read",N,this.__id),N===0){this.push(null);return}if(!this.#X)xq&&Iq("NativeReadable not constructed yet",this.__id),this.#Y(N);return this.#V(this.#$(L),N)}#Y(L){this.#X=!0;const N=J(L,this.#H);if(xq&&Iq("NativeReadable internal `start` result",N,this.__id),typeof N==="number"&&N>1)this.#K=!0,xq&&Iq("NativeReadable resized",this.__id),this.#H=Math.min(this.#H,N);if(Y){const W=Y(L);if(xq&&Iq("NativeReadable drain result",W,this.__id),(W?.byteLength??0)>0)this.push(W)}}#$(L=this.#H){var N=this.#J;if(xq&&Iq("chunk @ #getRemainingChunk",N,this.__id),N?.byteLength??0<F){var W=L>F?L:F;this.#J=N=new Buffer(W)}return N}push(L,N){return xq&&Iq("NativeReadable push -- result, encoding",L,N,this.__id),super.push(...arguments)}#z(L,N,W){if(xq&&Iq("result, isClosed @ #handleResult",L,W,this.__id),typeof L==="number"){if(L>=this.#H&&!this.#K&&!W)this.#H*=2,this.#K=!0;return z(this,L,N,W)}else if(typeof L==="boolean")return this.push(null),N?.byteLength??0>0?N:void 0;else if(ArrayBuffer.isView(L)){if(L.byteLength>=this.#H&&!this.#K&&!W)this.#H*=2,this.#K=!0,xq&&Iq("Resized",this.__id);return V(this,L,N,W)}else throw xq&&Iq("Unknown result type",L,this.__id),new Error("Invalid result from pull")}#V(L,N){xq&&Iq("#internalRead()",this.__id),$[0]=!1;var W=X(N,L,$);if(Cq(W))return this.#Z=!0,W.then((P)=>{this.#Z=!1,xq&&Iq("pending no longerrrrrrrr (result returned from pull)",this.__id),this.#J=this.#z(P,L,$[0])},(P)=>{xq&&Iq("error from pull",P,this.__id),errorOrDestroy(this,P)});else this.#J=this.#z(W,L,$[0])}_destroy(L,N){var W=this.#q;if(W===0){N(L);return}if(U.unregister(this.#B),this.#q=0,B)B(W,!1);xq&&Iq("NativeReadable destroyed",this.__id),H(W,L),N(L)}ref(){var L=this.#q;if(L===0)return;if(this.#Q++===0)B(L,!0)}unref(){var L=this.#q;if(L===0)return;if(this.#Q--===1)B(L,!1)}};if(!B)M.prototype.ref=void 0,M.prototype.unref=void 0;return M},NQ=function(q,Q){return LQ[q]||=jQ(q,Q)},WQ=function(q,Q,X){if(!(Q&&typeof Q==="object"&&Q instanceof ReadableStream))return;const J=gq(Q);if(!J){Iq("no native readable stream");return}const{stream:H,data:Z}=J;return new(NQ(Z,q))(H,X)},{isPromise:Cq,isCallable:Rq,direct:gq,Object:Oq}=import.meta.primordials;globalThis.__IDS_TO_TRACK=process.env.DEBUG_TRACK_EE?.length?process.env.DEBUG_TRACK_EE.split(","):process.env.DEBUG_STREAMS?.length?process.env.DEBUG_STREAMS.split(","):null;var Sq=!!process.env.DEBUG_TRACK_EE,xq=!!(process.env.DEBUG||process.env.DEBUG_STREAMS||Sq),Iq=xq?globalThis.__IDS_TO_TRACK?(...q)=>{const Q=q[q.length-1];if(!globalThis.__IDS_TO_TRACK.includes(Q))return;console.log(`ID: ${Q}`,...q.slice(0,-1))}:(...q)=>console.log(...q.slice(0,-1)):()=>{},kq=Oq.create,fq=Oq.defineProperty,yq=Oq.getOwnPropertyDescriptor,hq=Oq.getOwnPropertyNames,pq=Oq.getPrototypeOf,uq=Oq.prototype.hasOwnProperty,mq=Oq.setPrototypeOf,Eq=(q)=>import.meta.require(q),bq=Eq("bun:events_native");mq(wq.prototype,bq.prototype);mq(wq,bq);wq.prototype.emit=function(q,...Q){var X=this.__id;if(X)Iq("emit",q,...Q,X);else Iq("emit",q,...Q);return bq.prototype.emit.call(this,q,...Q)};wq.prototype.on=function(q,Q){var X=this.__id;if(X)Iq("on",q,"added",X);else Iq("on",q,"added");return bq.prototype.on.call(this,q,Q)};wq.prototype.addListener=function(q,Q){return this.on(q,Q)};var cq=(q,Q)=>function X(){return Q||(0,q[hq(q)[0]])((Q={exports:{}}).exports,Q),Q.exports};var Aq=process.nextTick;var iq=Array.isArray,Dq=cq({"node_modules/readable-stream/lib/ours/primordials.js"(q,Q){Q.exports={ArrayIsArray(X){return Array.isArray(X)},ArrayPrototypeIncludes(X,J){return X.includes(J)},ArrayPrototypeIndexOf(X,J){return X.indexOf(J)},ArrayPrototypeJoin(X,J){return X.join(J)},ArrayPrototypeMap(X,J){return X.map(J)},ArrayPrototypePop(X,J){return X.pop(J)},ArrayPrototypePush(X,J){return X.push(J)},ArrayPrototypeSlice(X,J,H){return X.slice(J,H)},Error,FunctionPrototypeCall(X,J,...H){return X.call(J,...H)},FunctionPrototypeSymbolHasInstance(X,J){return Function.prototype[Symbol.hasInstance].call(X,J)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(X,J){return Oq.defineProperties(X,J)},ObjectDefineProperty(X,J,H){return Oq.defineProperty(X,J,H)},ObjectGetOwnPropertyDescriptor(X,J){return Oq.getOwnPropertyDescriptor(X,J)},ObjectKeys(X){return Oq.keys(X)},ObjectSetPrototypeOf(X,J){return Oq.setPrototypeOf(X,J)},Promise,PromisePrototypeCatch(X,J){return X.catch(J)},PromisePrototypeThen(X,J,H){return X.then(J,H)},PromiseReject(X){return Promise.reject(X)},ReflectApply:Reflect.apply,RegExpPrototypeTest(X,J){return X.test(J)},SafeSet:Set,String,StringPrototypeSlice(X,J,H){return X.slice(J,H)},StringPrototypeToLowerCase(X){return X.toLowerCase()},StringPrototypeToUpperCase(X){return X.toUpperCase()},StringPrototypeTrim(X){return X.trim()},Symbol,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,TypedArrayPrototypeSet(X,J,H){return X.set(J,H)},Uint8Array}}}),_q=cq({"node_modules/readable-stream/lib/ours/util.js"(q,Q){var X=Eq("buffer"),J=Oq.getPrototypeOf(async function(){}).constructor,H=globalThis.Blob||X.Blob,Z=typeof H!=="undefined"?function B(Y){return Y instanceof H}:function B(Y){return!1},K=class extends Error{constructor(B){if(!Array.isArray(B))throw new TypeError(`Expected input to be an Array, got ${typeof B}`);let Y="";for(let $=0;$<B.length;$++)Y+=`    ${B[$].stack}
`;super(Y);this.name="AggregateError",this.errors=B}};Q.exports={AggregateError:K,once(B){let Y=!1;return function(...$){if(Y)return;Y=!0,B.apply(this,$)}},createDeferredPromise:function(){let B,Y;return{promise:new Promise((z,V)=>{B=z,Y=V}),resolve:B,reject:Y}},promisify(B){return new Promise((Y,$)=>{B((z,...V)=>{if(z)return $(z);return Y(...V)})})},debuglog(){return function(){}},format(B,...Y){return B.replace(/%([sdifj])/g,function(...[$,z]){const V=Y.shift();if(z==="f")return V.toFixed(6);else if(z==="j")return JSON.stringify(V);else if(z==="s"&&typeof V==="object")return`${V.constructor!==Oq?V.constructor.name:""} {}`.trim();else return V.toString()})},inspect(B){switch(typeof B){case"string":if(B.includes("'")){if(!B.includes('"'))return`"${B}"`;else if(!B.includes("`")&&!B.includes("${"))return`\`${B}\``}return`'${B}'`;case"number":if(isNaN(B))return"NaN";else if(Oq.is(B,-0))return String(B);return B;case"bigint":return`${String(B)}n`;case"boolean":case"undefined":return String(B);case"object":return"{}"}},types:{isAsyncFunction(B){return B instanceof J},isArrayBufferView(B){return ArrayBuffer.isView(B)}},isBlob:Z},Q.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")}}),sq=cq({"node_modules/readable-stream/lib/ours/errors.js"(q,Q){var{format:X,inspect:J,AggregateError:H}=_q(),Z=globalThis.AggregateError||H,K=Symbol("kIsNodeError"),B=["string","function","number","object","Function","Object","boolean","bigint","symbol"],Y=/^([A-Z][a-z0-9]*)+$/,$="__node_internal_",z={};function V(N,W){if(!N)throw new z.ERR_INTERNAL_ASSERTION(W)}function G(N){let W="",P=N.length;const I=N[0]==="-"?1:0;for(;P>=I+4;P-=3)W=`_${N.slice(P-3,P)}${W}`;return`${N.slice(0,P)}${W}`}function U(N,W,P){if(typeof W==="function")return V(W.length<=P.length,`Code: ${N}; The provided arguments length (${P.length}) does not match the required ones (${W.length}).`),W(...P);const I=(W.match(/%[dfijoOs]/g)||[]).length;if(V(I===P.length,`Code: ${N}; The provided arguments length (${P.length}) does not match the required ones (${I}).`),P.length===0)return W;return X(W,...P)}function F(N,W,P){if(!P)P=Error;class I extends P{constructor(...x){super(U(N,W,x))}toString(){return`${this.name} [${N}]: ${this.message}`}}Oq.defineProperties(I.prototype,{name:{value:P.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${N}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),I.prototype.code=N,I.prototype[K]=!0,z[N]=I}function M(N){const W=$+N.name;return Oq.defineProperty(N,"name",{value:W}),N}function j(N,W){if(N&&W&&N!==W){if(Array.isArray(W.errors))return W.errors.push(N),W;const P=new Z([W,N],W.message);return P.code=W.code,P}return N||W}var L=class extends Error{constructor(N="The operation was aborted",W=void 0){if(W!==void 0&&typeof W!=="object")throw new z.ERR_INVALID_ARG_TYPE("options","Object",W);super(N,W);this.code="ABORT_ERR",this.name="AbortError"}};F("ERR_ASSERTION","%s",Error),F("ERR_INVALID_ARG_TYPE",(N,W,P)=>{if(V(typeof N==="string","'name' must be a string"),!Array.isArray(W))W=[W];let I="The ";if(N.endsWith(" argument"))I+=`${N} `;else I+=`"${N}" ${N.includes(".")?"property":"argument"} `;I+="must be ";const x=[],T=[],A=[];for(let C of W)if(V(typeof C==="string","All expected entries have to be of type string"),B.includes(C))x.push(C.toLowerCase());else if(Y.test(C))T.push(C);else V(C!=="object",'The value "object" should be written as "Object"'),A.push(C);if(T.length>0){const C=x.indexOf("object");if(C!==-1)x.splice(x,C,1),T.push("Object")}if(x.length>0){switch(x.length){case 1:I+=`of type ${x[0]}`;break;case 2:I+=`one of type ${x[0]} or ${x[1]}`;break;default:{const C=x.pop();I+=`one of type ${x.join(", ")}, or ${C}`}}if(T.length>0||A.length>0)I+=" or "}if(T.length>0){switch(T.length){case 1:I+=`an instance of ${T[0]}`;break;case 2:I+=`an instance of ${T[0]} or ${T[1]}`;break;default:{const C=T.pop();I+=`an instance of ${T.join(", ")}, or ${C}`}}if(A.length>0)I+=" or "}switch(A.length){case 0:break;case 1:if(A[0].toLowerCase()!==A[0])I+="an ";I+=`${A[0]}`;break;case 2:I+=`one of ${A[0]} or ${A[1]}`;break;default:{const C=A.pop();I+=`one of ${A.join(", ")}, or ${C}`}}if(P==null)I+=`. Received ${P}`;else if(typeof P==="function"&&P.name)I+=`. Received function ${P.name}`;else if(typeof P==="object"){var O;if((O=P.constructor)!==null&&O!==void 0&&O.name)I+=`. Received an instance of ${P.constructor.name}`;else{const C=J(P,{depth:-1});I+=`. Received ${C}`}}else{let C=J(P,{colors:!1});if(C.length>25)C=`${C.slice(0,25)}...`;I+=`. Received type ${typeof P} (${C})`}return I},TypeError),F("ERR_INVALID_ARG_VALUE",(N,W,P="is invalid")=>{let I=J(W);if(I.length>128)I=I.slice(0,128)+"...";return`The ${N.includes(".")?"property":"argument"} '${N}' ${P}. Received ${I}`},TypeError),F("ERR_INVALID_RETURN_VALUE",(N,W,P)=>{var I;const x=P!==null&&P!==void 0&&(I=P.constructor)!==null&&I!==void 0&&I.name?`instance of ${P.constructor.name}`:`type ${typeof P}`;return`Expected ${N} to be returned from the "${W}" function but got ${x}.`},TypeError),F("ERR_MISSING_ARGS",(...N)=>{V(N.length>0,"At least one arg needs to be specified");let W;const P=N.length;switch(N=(Array.isArray(N)?N:[N]).map((I)=>`"${I}"`).join(" or "),P){case 1:W+=`The ${N[0]} argument`;break;case 2:W+=`The ${N[0]} and ${N[1]} arguments`;break;default:{const I=N.pop();W+=`The ${N.join(", ")}, and ${I} arguments`}break}return`${W} must be specified`},TypeError),F("ERR_OUT_OF_RANGE",(N,W,P)=>{V(W,'Missing "range" argument');let I;if(Number.isInteger(P)&&Math.abs(P)>4294967296)I=G(String(P));else if(typeof P==="bigint"){if(I=String(P),P>2n**32n||P<-(2n**32n))I=G(I);I+="n"}else I=J(P);return`The value of "${N}" is out of range. It must be ${W}. Received ${I}`},RangeError),F("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),F("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),F("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),F("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),F("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),F("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),F("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),F("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),F("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),F("ERR_STREAM_WRITE_AFTER_END","write after end",Error),F("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),Q.exports={AbortError:L,aggregateTwoErrors:M(j),hideStackFrames:M,codes:z}}}),aq=cq({"node_modules/readable-stream/lib/internal/validators.js"(q,Q){var{ArrayIsArray:X,ArrayPrototypeIncludes:J,ArrayPrototypeJoin:H,ArrayPrototypeMap:Z,NumberIsInteger:K,NumberMAX_SAFE_INTEGER:B,NumberMIN_SAFE_INTEGER:Y,NumberParseInt:$,RegExpPrototypeTest:z,String:V,StringPrototypeToUpperCase:G,StringPrototypeTrim:U}=Dq(),{hideStackFrames:F,codes:{ERR_SOCKET_BAD_PORT:M,ERR_INVALID_ARG_TYPE:j,ERR_INVALID_ARG_VALUE:L,ERR_OUT_OF_RANGE:N,ERR_UNKNOWN_SIGNAL:W}}=sq(),{normalizeEncoding:P}=_q(),{isAsyncFunction:I,isArrayBufferView:x}=_q().types,T={};function A(i){return i===(i|0)}function O(i){return i===i>>>0}var C=/^[0-7]+$/,E="must be a 32-bit unsigned integer or an octal string";function w(i,n,o){if(typeof i==="undefined")i=o;if(typeof i==="string"){if(!z(C,i))throw new L(n,i,E);i=$(i,8)}return _(i,n,0,4294967295),i}var D=F((i,n,o=Y,s=B)=>{if(typeof i!=="number")throw new j(n,"number",i);if(!K(i))throw new N(n,"an integer",i);if(i<o||i>s)throw new N(n,`>= ${o} && <= ${s}`,i)}),_=F((i,n,o=-2147483648,s=2147483647)=>{if(typeof i!=="number")throw new j(n,"number",i);if(!A(i)){if(!K(i))throw new N(n,"an integer",i);throw new N(n,`>= ${o} && <= ${s}`,i)}if(i<o||i>s)throw new N(n,`>= ${o} && <= ${s}`,i)}),v=F((i,n,o)=>{if(typeof i!=="number")throw new j(n,"number",i);if(!O(i)){if(!K(i))throw new N(n,"an integer",i);throw new N(n,`>= ${o?1:0} && < 4294967296`,i)}if(o&&i===0)throw new N(n,">= 1 && < 4294967296",i)});function R(i,n){if(typeof i!=="string")throw new j(n,"string",i)}function g(i,n){if(typeof i!=="number")throw new j(n,"number",i)}var S=F((i,n,o)=>{if(!J(o,i)){const a="must be one of: "+H(Z(o,(r)=>typeof r==="string"?`'${r}'`:V(r)),", ");throw new L(n,i,a)}});function k(i,n){if(typeof i!=="boolean")throw new j(n,"boolean",i)}var f=F((i,n,o)=>{const s=o==null,a=s?!1:o.allowArray,r=s?!1:o.allowFunction;if(!(s?!1:o.nullable)&&i===null||!a&&X(i)||typeof i!=="object"&&(!r||typeof i!=="function"))throw new j(n,"Object",i)}),y=F((i,n,o=0)=>{if(!X(i))throw new j(n,"Array",i);if(i.length<o){const s=`must be longer than ${o}`;throw new L(n,i,s)}});function h(i,n="signal"){if(R(i,n),T[i]===void 0){if(T[G(i)]!==void 0)throw new W(i+" (signals must use all capital letters)");throw new W(i)}}var p=F((i,n="buffer")=>{if(!x(i))throw new j(n,["Buffer","TypedArray","DataView"],i)});function u(i,n){const o=P(n),s=i.length;if(o==="hex"&&s%2!==0)throw new L("encoding",n,`is invalid for data of length ${s}`)}function m(i,n="Port",o=!0){if(typeof i!=="number"&&typeof i!=="string"||typeof i==="string"&&U(i).length===0||+i!==+i>>>0||i>65535||i===0&&!o)throw new M(n,i,o);return i|0}var b=F((i,n)=>{if(i!==void 0&&(i===null||typeof i!=="object"||!("aborted"in i)))throw new j(n,"AbortSignal",i)}),c=F((i,n)=>{if(typeof i!=="function")throw new j(n,"Function",i)}),d=F((i,n)=>{if(typeof i!=="function"||I(i))throw new j(n,"Function",i)}),l=F((i,n)=>{if(i!==void 0)throw new j(n,"undefined",i)});Q.exports={isInt32:A,isUint32:O,parseFileMode:w,validateArray:y,validateBoolean:k,validateBuffer:p,validateEncoding:u,validateFunction:c,validateInt32:_,validateInteger:D,validateNumber:g,validateObject:f,validateOneOf:S,validatePlainFunction:d,validatePort:m,validateSignalName:h,validateString:R,validateUint32:v,validateUndefined:l,validateAbortSignal:b}}}),rq=cq({"node_modules/readable-stream/lib/internal/streams/utils.js"(q,Q){var{Symbol:X,SymbolAsyncIterator:J,SymbolIterator:H}=Dq(),Z=X("kDestroyed"),K=X("kIsErrored"),B=X("kIsReadable"),Y=X("kIsDisturbed");function $(v,R=!1){var g;return!!(v&&typeof v.pipe==="function"&&typeof v.on==="function"&&(!R||typeof v.pause==="function"&&typeof v.resume==="function")&&(!v._writableState||((g=v._readableState)===null||g===void 0?void 0:g.readable)!==!1)&&(!v._writableState||v._readableState))}function z(v){var R;return!!(v&&typeof v.write==="function"&&typeof v.on==="function"&&(!v._readableState||((R=v._writableState)===null||R===void 0?void 0:R.writable)!==!1))}function V(v){return!!(v&&typeof v.pipe==="function"&&v._readableState&&typeof v.on==="function"&&typeof v.write==="function")}function G(v){return v&&(v._readableState||v._writableState||typeof v.write==="function"&&typeof v.on==="function"||typeof v.pipe==="function"&&typeof v.on==="function")}function U(v,R){if(v==null)return!1;if(R===!0)return typeof v[J]==="function";if(R===!1)return typeof v[H]==="function";return typeof v[J]==="function"||typeof v[H]==="function"}function F(v){if(!G(v))return null;const{_writableState:R,_readableState:g}=v,S=R||g;return!!(v.destroyed||v[Z]||S!==null&&S!==void 0&&S.destroyed)}function M(v){if(!z(v))return null;if(v.writableEnded===!0)return!0;const R=v._writableState;if(R!==null&&R!==void 0&&R.errored)return!1;if(typeof(R===null||R===void 0?void 0:R.ended)!=="boolean")return null;return R.ended}function j(v,R){if(!z(v))return null;if(v.writableFinished===!0)return!0;const g=v._writableState;if(g!==null&&g!==void 0&&g.errored)return!1;if(typeof(g===null||g===void 0?void 0:g.finished)!=="boolean")return null;return!!(g.finished||R===!1&&g.ended===!0&&g.length===0)}function L(v){if(!$(v))return null;if(v.readableEnded===!0)return!0;const R=v._readableState;if(!R||R.errored)return!1;if(typeof(R===null||R===void 0?void 0:R.ended)!=="boolean")return null;return R.ended}function N(v,R){if(!$(v))return null;const g=v._readableState;if(g!==null&&g!==void 0&&g.errored)return!1;if(typeof(g===null||g===void 0?void 0:g.endEmitted)!=="boolean")return null;return!!(g.endEmitted||R===!1&&g.ended===!0&&g.length===0)}function W(v){if(v&&v[B]!=null)return v[B];if(typeof(v===null||v===void 0?void 0:v.readable)!=="boolean")return null;if(F(v))return!1;return $(v)&&v.readable&&!N(v)}function P(v){if(typeof(v===null||v===void 0?void 0:v.writable)!=="boolean")return null;if(F(v))return!1;return z(v)&&v.writable&&!M(v)}function I(v,R){if(!G(v))return null;if(F(v))return!0;if((R===null||R===void 0?void 0:R.readable)!==!1&&W(v))return!1;if((R===null||R===void 0?void 0:R.writable)!==!1&&P(v))return!1;return!0}function x(v){var R,g;if(!G(v))return null;if(v.writableErrored)return v.writableErrored;return(R=(g=v._writableState)===null||g===void 0?void 0:g.errored)!==null&&R!==void 0?R:null}function T(v){var R,g;if(!G(v))return null;if(v.readableErrored)return v.readableErrored;return(R=(g=v._readableState)===null||g===void 0?void 0:g.errored)!==null&&R!==void 0?R:null}function A(v){if(!G(v))return null;if(typeof v.closed==="boolean")return v.closed;const{_writableState:R,_readableState:g}=v;if(typeof(R===null||R===void 0?void 0:R.closed)==="boolean"||typeof(g===null||g===void 0?void 0:g.closed)==="boolean")return(R===null||R===void 0?void 0:R.closed)||(g===null||g===void 0?void 0:g.closed);if(typeof v._closed==="boolean"&&O(v))return v._closed;return null}function O(v){return typeof v._closed==="boolean"&&typeof v._defaultKeepAlive==="boolean"&&typeof v._removedConnection==="boolean"&&typeof v._removedContLen==="boolean"}function C(v){return typeof v._sent100==="boolean"&&O(v)}function E(v){var R;return typeof v._consuming==="boolean"&&typeof v._dumped==="boolean"&&((R=v.req)===null||R===void 0?void 0:R.upgradeOrConnect)===void 0}function w(v){if(!G(v))return null;const{_writableState:R,_readableState:g}=v,S=R||g;return!S&&C(v)||!!(S&&S.autoDestroy&&S.emitClose&&S.closed===!1)}function D(v){var R;return!!(v&&((R=v[Y])!==null&&R!==void 0?R:v.readableDidRead||v.readableAborted))}function _(v){var R,g,S,k,f,y,h,p,u,m;return!!(v&&((R=(g=(S=(k=(f=(y=v[K])!==null&&y!==void 0?y:v.readableErrored)!==null&&f!==void 0?f:v.writableErrored)!==null&&k!==void 0?k:(h=v._readableState)===null||h===void 0?void 0:h.errorEmitted)!==null&&S!==void 0?S:(p=v._writableState)===null||p===void 0?void 0:p.errorEmitted)!==null&&g!==void 0?g:(u=v._readableState)===null||u===void 0?void 0:u.errored)!==null&&R!==void 0?R:(m=v._writableState)===null||m===void 0?void 0:m.errored))}Q.exports={kDestroyed:Z,isDisturbed:D,kIsDisturbed:Y,isErrored:_,kIsErrored:K,isReadable:W,kIsReadable:B,isClosed:A,isDestroyed:F,isDuplexNodeStream:V,isFinished:I,isIterable:U,isReadableNodeStream:$,isReadableEnded:L,isReadableFinished:N,isReadableErrored:T,isNodeStream:G,isWritable:P,isWritableNodeStream:z,isWritableEnded:M,isWritableFinished:j,isWritableErrored:x,isServerRequest:E,isServerResponse:C,willEmitClose:w}}}),tq=cq({"node_modules/readable-stream/lib/internal/streams/end-of-stream.js"(q,Q){var{AbortError:X,codes:J}=sq(),{ERR_INVALID_ARG_TYPE:H,ERR_STREAM_PREMATURE_CLOSE:Z}=J,{once:K}=_q(),{validateAbortSignal:B,validateFunction:Y,validateObject:$}=aq(),{Promise:z}=Dq(),{isClosed:V,isReadable:G,isReadableNodeStream:U,isReadableFinished:F,isReadableErrored:M,isWritable:j,isWritableNodeStream:L,isWritableFinished:N,isWritableErrored:W,isNodeStream:P,willEmitClose:I}=rq();function x(C){return C.setHeader&&typeof C.abort==="function"}var T=()=>{};function A(C,E,w){var D,_;if(arguments.length===2)w=E,E={};else if(E==null)E={};else $(E,"options");Y(w,"callback"),B(E.signal,"options.signal"),w=K(w);const v=(D=E.readable)!==null&&D!==void 0?D:U(C),R=(_=E.writable)!==null&&_!==void 0?_:L(C);if(!P(C))throw new H("stream","Stream",C);const{_writableState:g,_readableState:S}=C,k=()=>{if(!C.writable)h()};let f=I(C)&&U(C)===v&&L(C)===R,y=N(C,!1);const h=()=>{if(y=!0,C.destroyed)f=!1;if(f&&(!C.readable||v))return;if(!v||p)w.call(C)};let p=F(C,!1);const u=()=>{if(p=!0,C.destroyed)f=!1;if(f&&(!C.writable||R))return;if(!R||y)w.call(C)},m=(i)=>{w.call(C,i)};let b=V(C);const c=()=>{b=!0;const i=W(C)||M(C);if(i&&typeof i!=="boolean")return w.call(C,i);if(v&&!p&&U(C,!0)){if(!F(C,!1))return w.call(C,new Z)}if(R&&!y){if(!N(C,!1))return w.call(C,new Z)}w.call(C)},d=()=>{C.req.on("finish",h)};if(x(C)){if(C.on("complete",h),!f)C.on("abort",c);if(C.req)d();else C.on("request",d)}else if(R&&!g)C.on("end",k),C.on("close",k);if(!f&&typeof C.aborted==="boolean")C.on("aborted",c);if(C.on("end",u),C.on("finish",h),E.error!==!1)C.on("error",m);if(C.on("close",c),b)Aq(c);else if(g!==null&&g!==void 0&&g.errorEmitted||S!==null&&S!==void 0&&S.errorEmitted){if(!f)Aq(c)}else if(!v&&(!f||G(C))&&(y||j(C)===!1))Aq(c);else if(!R&&(!f||j(C))&&(p||G(C)===!1))Aq(c);else if(S&&C.req&&C.aborted)Aq(c);const l=()=>{if(w=T,C.removeListener("aborted",c),C.removeListener("complete",h),C.removeListener("abort",c),C.removeListener("request",d),C.req)C.req.removeListener("finish",h);C.removeListener("end",k),C.removeListener("close",k),C.removeListener("finish",h),C.removeListener("end",u),C.removeListener("error",m),C.removeListener("close",c)};if(E.signal&&!b){const i=()=>{const n=w;l(),n.call(C,new X(void 0,{cause:E.signal.reason}))};if(E.signal.aborted)Aq(i);else{const n=w;w=K((...o)=>{E.signal.removeEventListener("abort",i),n.apply(C,o)}),E.signal.addEventListener("abort",i)}}return l}function O(C,E){return new z((w,D)=>{A(C,E,(_)=>{if(_)D(_);else w()})})}Q.exports=A,Q.exports.finished=O}}),eq=cq({"node_modules/readable-stream/lib/internal/streams/operators.js"(q,Q){var X=globalThis.AbortController||Eq("abort-controller").AbortController,{codes:{ERR_INVALID_ARG_TYPE:J,ERR_MISSING_ARGS:H,ERR_OUT_OF_RANGE:Z},AbortError:K}=sq(),{validateAbortSignal:B,validateInteger:Y,validateObject:$}=aq(),z=Dq().Symbol("kWeak"),{finished:V}=tq(),{ArrayPrototypePush:G,MathFloor:U,Number:F,NumberIsNaN:M,Promise:j,PromiseReject:L,PromisePrototypeCatch:N,Symbol:W}=Dq(),P=W("kEmpty"),I=W("kEof");function x(f,y){if(typeof f!=="function")throw new J("fn",["Function","AsyncFunction"],f);if(y!=null)$(y,"options");if((y===null||y===void 0?void 0:y.signal)!=null)B(y.signal,"options.signal");let h=1;if((y===null||y===void 0?void 0:y.concurrency)!=null)h=U(y.concurrency);return Y(h,"concurrency",1),async function*p(){var u,m;const b=new X,c=this,d=[],l=b.signal,i={signal:l},n=()=>b.abort();if(y!==null&&y!==void 0&&(u=y.signal)!==null&&u!==void 0&&u.aborted)n();y===null||y===void 0||(m=y.signal)===null||m===void 0||m.addEventListener("abort",n);let o,s,a=!1;function r(){a=!0}async function t(){try{for await(let Qq of c){var e;if(a)return;if(l.aborted)throw new K;try{Qq=f(Qq,i)}catch(Xq){Qq=L(Xq)}if(Qq===P)continue;if(typeof((e=Qq)===null||e===void 0?void 0:e.catch)==="function")Qq.catch(r);if(d.push(Qq),o)o(),o=null;if(!a&&d.length&&d.length>=h)await new j((Xq)=>{s=Xq})}d.push(I)}catch(Qq){const Xq=L(Qq);N(Xq,r),d.push(Xq)}finally{var qq;if(a=!0,o)o(),o=null;y===null||y===void 0||(qq=y.signal)===null||qq===void 0||qq.removeEventListener("abort",n)}}t();try{while(!0){while(d.length>0){const e=await d[0];if(e===I)return;if(l.aborted)throw new K;if(e!==P)yield e;if(d.shift(),s)s(),s=null}await new j((e)=>{o=e})}}finally{if(b.abort(),a=!0,s)s(),s=null}}.call(this)}function T(f=void 0){if(f!=null)$(f,"options");if((f===null||f===void 0?void 0:f.signal)!=null)B(f.signal,"options.signal");return async function*y(){let h=0;for await(let u of this){var p;if(f!==null&&f!==void 0&&(p=f.signal)!==null&&p!==void 0&&p.aborted)throw new K({cause:f.signal.reason});yield[h++,u]}}.call(this)}async function A(f,y=void 0){for await(let h of w.call(this,f,y))return!0;return!1}async function O(f,y=void 0){if(typeof f!=="function")throw new J("fn",["Function","AsyncFunction"],f);return!await A.call(this,async(...h)=>{return!await f(...h)},y)}async function C(f,y){for await(let h of w.call(this,f,y))return h;return}async function E(f,y){if(typeof f!=="function")throw new J("fn",["Function","AsyncFunction"],f);async function h(p,u){return await f(p,u),P}for await(let p of x.call(this,h,y));}function w(f,y){if(typeof f!=="function")throw new J("fn",["Function","AsyncFunction"],f);async function h(p,u){if(await f(p,u))return p;return P}return x.call(this,h,y)}var D=class extends H{constructor(){super("reduce");this.message="Reduce of an empty stream requires an initial value"}};async function _(f,y,h){var p;if(typeof f!=="function")throw new J("reducer",["Function","AsyncFunction"],f);if(h!=null)$(h,"options");if((h===null||h===void 0?void 0:h.signal)!=null)B(h.signal,"options.signal");let u=arguments.length>1;if(h!==null&&h!==void 0&&(p=h.signal)!==null&&p!==void 0&&p.aborted){const l=new K(void 0,{cause:h.signal.reason});throw this.once("error",()=>{}),await V(this.destroy(l)),l}const m=new X,b=m.signal;if(h!==null&&h!==void 0&&h.signal){const l={once:!0,[z]:this};h.signal.addEventListener("abort",()=>m.abort(),l)}let c=!1;try{for await(let l of this){var d;if(c=!0,h!==null&&h!==void 0&&(d=h.signal)!==null&&d!==void 0&&d.aborted)throw new K;if(!u)y=l,u=!0;else y=await f(y,l,{signal:b})}if(!c&&!u)throw new D}finally{m.abort()}return y}async function v(f){if(f!=null)$(f,"options");if((f===null||f===void 0?void 0:f.signal)!=null)B(f.signal,"options.signal");const y=[];for await(let p of this){var h;if(f!==null&&f!==void 0&&(h=f.signal)!==null&&h!==void 0&&h.aborted)throw new K(void 0,{cause:f.signal.reason});G(y,p)}return y}function R(f,y){const h=x.call(this,f,y);return async function*p(){for await(let u of h)yield*u}.call(this)}function g(f){if(f=F(f),M(f))return 0;if(f<0)throw new Z("number",">= 0",f);return f}function S(f,y=void 0){if(y!=null)$(y,"options");if((y===null||y===void 0?void 0:y.signal)!=null)B(y.signal,"options.signal");return f=g(f),async function*h(){var p;if(y!==null&&y!==void 0&&(p=y.signal)!==null&&p!==void 0&&p.aborted)throw new K;for await(let m of this){var u;if(y!==null&&y!==void 0&&(u=y.signal)!==null&&u!==void 0&&u.aborted)throw new K;if(f--<=0)yield m}}.call(this)}function k(f,y=void 0){if(y!=null)$(y,"options");if((y===null||y===void 0?void 0:y.signal)!=null)B(y.signal,"options.signal");return f=g(f),async function*h(){var p;if(y!==null&&y!==void 0&&(p=y.signal)!==null&&p!==void 0&&p.aborted)throw new K;for await(let m of this){var u;if(y!==null&&y!==void 0&&(u=y.signal)!==null&&u!==void 0&&u.aborted)throw new K;if(f-- >0)yield m;else return}}.call(this)}Q.exports.streamReturningOperators={asIndexedPairs:T,drop:S,filter:w,flatMap:R,map:x,take:k},Q.exports.promiseReturningOperators={every:O,forEach:E,reduce:_,toArray:v,some:A,find:C}}}),qQ=cq({"node_modules/readable-stream/lib/internal/streams/destroy.js"(q,Q){var{aggregateTwoErrors:X,codes:{ERR_MULTIPLE_CALLBACK:J},AbortError:H}=sq(),{Symbol:Z}=Dq(),{kDestroyed:K,isDestroyed:B,isFinished:Y,isServerRequest:$}=rq(),z="#kDestroy",V="#kConstruct";function G(E,w,D){if(E){if(E.stack,w&&!w.errored)w.errored=E;if(D&&!D.errored)D.errored=E}}function U(E,w){const D=this._readableState,_=this._writableState,v=_||D;if(_&&_.destroyed||D&&D.destroyed){if(typeof w==="function")w();return this}if(G(E,_,D),_)_.destroyed=!0;if(D)D.destroyed=!0;if(!v.constructed)this.once(z,(R)=>{F(this,X(R,E),w)});else F(this,E,w);return this}function F(E,w,D){let _=!1;function v(R){if(_)return;_=!0;const{_readableState:g,_writableState:S}=E;if(G(R,S,g),S)S.closed=!0;if(g)g.closed=!0;if(typeof D==="function")D(R);if(R)Aq(M,E,R);else Aq(j,E)}try{E._destroy(w||null,v)}catch(R){v(R)}}function M(E,w){L(E,w),j(E)}function j(E){const{_readableState:w,_writableState:D}=E;if(D)D.closeEmitted=!0;if(w)w.closeEmitted=!0;if(D&&D.emitClose||w&&w.emitClose)E.emit("close")}function L(E,w){const D=E?._readableState,_=E?._writableState;if(_?.errorEmitted||D?.errorEmitted)return;if(_)_.errorEmitted=!0;if(D)D.errorEmitted=!0;E?.emit?.("error",w)}function N(){const E=this._readableState,w=this._writableState;if(E)E.constructed=!0,E.closed=!1,E.closeEmitted=!1,E.destroyed=!1,E.errored=null,E.errorEmitted=!1,E.reading=!1,E.ended=E.readable===!1,E.endEmitted=E.readable===!1;if(w)w.constructed=!0,w.destroyed=!1,w.closed=!1,w.closeEmitted=!1,w.errored=null,w.errorEmitted=!1,w.finalCalled=!1,w.prefinished=!1,w.ended=w.writable===!1,w.ending=w.writable===!1,w.finished=w.writable===!1}function W(E,w,D){const _=E?._readableState,v=E?._writableState;if(v&&v.destroyed||_&&_.destroyed)return this;if(_&&_.autoDestroy||v&&v.autoDestroy)E.destroy(w);else if(w){if(Error.captureStackTrace(w),v&&!v.errored)v.errored=w;if(_&&!_.errored)_.errored=w;if(D)Aq(L,E,w);else L(E,w)}}function P(E,w){if(typeof E._construct!=="function")return;const{_readableState:D,_writableState:_}=E;if(D)D.constructed=!1;if(_)_.constructed=!1;if(E.once(V,w),E.listenerCount(V)>1)return;Aq(I,E)}function I(E){let w=!1;function D(_){if(w){W(E,_!==null&&_!==void 0?_:new J);return}w=!0;const{_readableState:v,_writableState:R}=E,g=R||v;if(v)v.constructed=!0;if(R)R.constructed=!0;if(g.destroyed)E.emit(z,_);else if(_)W(E,_,!0);else Aq(x,E)}try{E._construct(D)}catch(_){D(_)}}function x(E){E.emit(V)}function T(E){return E&&E.setHeader&&typeof E.abort==="function"}function A(E){E.emit("close")}function O(E,w){E.emit("error",w),Aq(A,E)}function C(E,w){if(!E||B(E))return;if(!w&&!Y(E))w=new H;if($(E))E.socket=null,E.destroy(w);else if(T(E))E.abort();else if(T(E.req))E.req.abort();else if(typeof E.destroy==="function")E.destroy(w);else if(typeof E.close==="function")E.close();else if(w)Aq(O,E);else Aq(A,E);if(!E.destroyed)E[K]=!0}Q.exports={construct:P,destroyer:C,destroy:U,undestroy:N,errorOrDestroy:W}}}),QQ=cq({"node_modules/readable-stream/lib/internal/streams/legacy.js"(q,Q){var{ArrayIsArray:X,ObjectSetPrototypeOf:J}=Dq(),{EventEmitter:H}=Eq("bun:events_native"),Z;if(Sq)Z=wq;else Z=H;function K(Y){if(!(this instanceof K))return new K(Y);Z.call(this,Y)}J(K.prototype,Z.prototype),J(K,Z),K.prototype.pipe=function(Y,$){const z=this;function V(N){if(Y.writable&&Y.write(N)===!1&&z.pause)z.pause()}z.on("data",V);function G(){if(z.readable&&z.resume)z.resume()}if(Y.on("drain",G),!Y._isStdio&&(!$||$.end!==!1))z.on("end",F),z.on("close",M);let U=!1;function F(){if(U)return;U=!0,Y.end()}function M(){if(U)return;if(U=!0,typeof Y.destroy==="function")Y.destroy()}function j(N){if(L(),Z.listenerCount(this,"error")===0)this.emit("error",N)}B(z,"error",j),B(Y,"error",j);function L(){z.removeListener("data",V),Y.removeListener("drain",G),z.removeListener("end",F),z.removeListener("close",M),z.removeListener("error",j),Y.removeListener("error",j),z.removeListener("end",L),z.removeListener("close",L),Y.removeListener("close",L)}return z.on("end",L),z.on("close",L),Y.on("close",L),Y.emit("pipe",z),Y};function B(Y,$,z){if(typeof Y.prependListener==="function")return Y.prependListener($,z);if(!Y._events||!Y._events[$])Y.on($,z);else if(X(Y._events[$]))Y._events[$].unshift(z);else Y._events[$]=[z,Y._events[$]]}Q.exports={Stream:K,prependListener:B}}}),XQ=cq({"node_modules/readable-stream/lib/internal/streams/add-abort-signal.js"(q,Q){var{AbortError:X,codes:J}=sq(),H=tq(),{ERR_INVALID_ARG_TYPE:Z}=J,K=(Y,$)=>{if(typeof Y!=="object"||!("aborted"in Y))throw new Z($,"AbortSignal",Y)};function B(Y){return!!(Y&&typeof Y.pipe==="function")}Q.exports.addAbortSignal=function Y($,z){if(K($,"signal"),!B(z))throw new Z("stream","stream.Stream",z);return Q.exports.addAbortSignalNoValidate($,z)},Q.exports.addAbortSignalNoValidate=function(Y,$){if(typeof Y!=="object"||!("aborted"in Y))return $;const z=()=>{$.destroy(new X(void 0,{cause:Y.reason}))};if(Y.aborted)z();else Y.addEventListener("abort",z),H($,()=>Y.removeEventListener("abort",z));return $}}}),JQ=cq({"node_modules/readable-stream/lib/internal/streams/state.js"(q,Q){var{MathFloor:X,NumberIsInteger:J}=Dq(),{ERR_INVALID_ARG_VALUE:H}=sq().codes;function Z(Y,$,z){return Y.highWaterMark!=null?Y.highWaterMark:$?Y[z]:null}function K(Y){return Y?16:16384}function B(Y,$,z,V){const G=Z($,V,z);if(G!=null){if(!J(G)||G<0){const U=V?`options.${z}`:"options.highWaterMark";throw new H(U,G)}return X(G)}return K(Y.objectMode)}Q.exports={getHighWaterMark:B,getDefaultHighWaterMark:K}}}),HQ=cq({"node_modules/readable-stream/lib/internal/streams/from.js"(q,Q){var{PromisePrototypeThen:X,SymbolAsyncIterator:J,SymbolIterator:H}=Dq(),{ERR_INVALID_ARG_TYPE:Z,ERR_STREAM_NULL_VALUES:K}=sq().codes;function B(Y,$,z){let V;if(typeof $==="string"||$ instanceof Buffer)return new Y({objectMode:!0,...z,read(){this.push($),this.push(null)}});let G;if($&&$[J])G=!0,V=$[J]();else if($&&$[H])G=!1,V=$[H]();else throw new Z("iterable",["Iterable"],$);const U=new Y({objectMode:!0,highWaterMark:1,...z});let F=!1;U._read=function(){if(!F)F=!0,j()},U._destroy=function(L,N){X(M(L),()=>Aq(N,L),(W)=>Aq(N,W||L))};async function M(L){const N=L!==void 0&&L!==null,W=typeof V.throw==="function";if(N&&W){const{value:P,done:I}=await V.throw(L);if(await P,I)return}if(typeof V.return==="function"){const{value:P}=await V.return();await P}}async function j(){for(;;){try{const{value:L,done:N}=G?await V.next():V.next();if(N)U.push(null);else{const W=L&&typeof L.then==="function"?await L:L;if(W===null)throw F=!1,new K;else if(U.push(W))continue;else F=!1}}catch(L){U.destroy(L)}break}}return U}Q.exports=B}}),ZQ,KQ=cq({"node_modules/readable-stream/lib/internal/streams/readable.js"(q,Q){var{ArrayPrototypeIndexOf:X,NumberIsInteger:J,NumberIsNaN:H,NumberParseInt:Z,ObjectDefineProperties:K,ObjectKeys:B,ObjectSetPrototypeOf:Y,Promise:$,SafeSet:z,SymbolAsyncIterator:V,Symbol:G}=Dq(),U=globalThis[Symbol.for("Bun.lazy")]("bun:stream").ReadableState,{EventEmitter:F}=Eq("bun:events_native"),{Stream:M,prependListener:j}=QQ();function L(Xq){if(!(this instanceof L))return new L(Xq);const Jq=this instanceof vq();if(this._readableState=new U(Xq,this,Jq),Xq){const{read:Hq,destroy:Zq,construct:Kq,signal:Bq}=Xq;if(typeof Hq==="function")this._read=Hq;if(typeof Zq==="function")this._destroy=Zq;if(typeof Kq==="function")this._construct=Kq;if(Bq&&!Jq)P(Bq,this)}M.call(this,Xq),w.construct(this,()=>{if(this._readableState.needReadable)C(this,this._readableState)})}Y(L.prototype,M.prototype),Y(L,M),L.prototype.on=function(Xq,Jq){const Hq=M.prototype.on.call(this,Xq,Jq),Zq=this._readableState;if(Xq==="data")if(Zq.readableListening=this.listenerCount("readable")>0,Zq.flowing!==!1)xq&&Iq("in flowing mode!",this.__id),this.resume();else xq&&Iq("in readable mode!",this.__id);else if(Xq==="readable"){if(xq&&Iq("readable listener added!",this.__id),!Zq.endEmitted&&!Zq.readableListening){if(Zq.readableListening=Zq.needReadable=!0,Zq.flowing=!1,Zq.emittedReadable=!1,xq&&Iq("on readable - state.length, reading, emittedReadable",Zq.length,Zq.reading,Zq.emittedReadable,this.__id),Zq.length)E(this,Zq);else if(!Zq.reading)Aq(n,this)}else if(Zq.endEmitted)xq&&Iq("end already emitted...",this.__id)}return Hq};class N extends L{#q;#Q;#X;#J;constructor(Xq,Jq){const{objectMode:Hq,highWaterMark:Zq,encoding:Kq,signal:Bq}=Xq;super({objectMode:Hq,highWaterMark:Zq,encoding:Kq,signal:Bq});this.#X=[],this.#q=void 0,this.#J=Jq,this.#Q=!1}#H(){var Xq=this.#X,Jq=0,Hq=Xq.length;for(;Jq<Hq;Jq++){const Zq=Xq[Jq];if(Xq[Jq]=void 0,!this.push(Zq,void 0))return this.#X=Xq.slice(Jq+1),!0}if(Hq>0)this.#X=[];return!1}#Z(Xq){Xq.releaseLock(),this.#q=void 0,this.#Q=!0,this.push(null);return}async _read(){xq&&Iq("ReadableFromWeb _read()",this.__id);var Xq=this.#J,Jq=this.#q;if(Xq)Jq=this.#q=Xq.getReader(),this.#J=void 0;else if(this.#H())return;var Hq;try{do{var Zq=!1,Kq;const Bq=Jq.readMany();if(Cq(Bq)){if({done:Zq,value:Kq}=await Bq,this.#Q){this.#X.push(...Kq);return}}else({done:Zq,value:Kq}=Bq);if(Zq){this.#Z(Jq);return}if(!this.push(Kq[0])){this.#X=Kq.slice(1);return}for(let Yq=1,$q=Kq.length;Yq<$q;Yq++)if(!this.push(Kq[Yq])){this.#X=Kq.slice(Yq+1);return}}while(!this.#Q)}catch(Bq){Hq=Bq}finally{if(Hq)throw Hq}}_destroy(Xq,Jq){if(!this.#Q){var Hq=this.#q;if(Hq)this.#q=void 0,Hq.cancel(Xq).finally(()=>{this.#Q=!0,Jq(Xq)});return}try{Jq(Xq)}catch(Zq){globalThis.reportError(Zq)}}}function W(Xq,Jq={}){if(!dq(Xq))throw new _("readableStream","ReadableStream",Xq);k(Jq,"options");const{highWaterMark:Hq,encoding:Zq,objectMode:Kq=!1,signal:Bq}=Jq;if(Zq!==void 0&&!Buffer.isEncoding(Zq))throw new oq(Zq,"options.encoding");return lq(Kq,"options.objectMode"),WQ(L,Xq,Jq)||new N({highWaterMark:Hq,encoding:Zq,objectMode:Kq,signal:Bq},Xq)}Q.exports=L,ZQ=N;var{addAbortSignal:P}=XQ(),I=tq();const{maybeReadMore:x,resume:T,emitReadable:A,onEofChunk:O}=globalThis[Symbol.for("Bun.lazy")]("bun:stream");function C(Xq,Jq){process.nextTick(x,Xq,Jq)}function E(Xq,Jq){xq&&Iq("NativeReadable - emitReadable",Xq.__id),A(Xq,Jq)}var w=qQ(),{aggregateTwoErrors:D,codes:{ERR_INVALID_ARG_TYPE:_,ERR_METHOD_NOT_IMPLEMENTED:v,ERR_OUT_OF_RANGE:R,ERR_STREAM_PUSH_AFTER_EOF:g,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:S}}=sq(),{validateObject:k}=aq(),{StringDecoder:f}=Eq("string_decoder"),y=HQ(),h=()=>{},{errorOrDestroy:p}=w;L.prototype.destroy=w.destroy,L.prototype._undestroy=w.undestroy,L.prototype._destroy=function(Xq,Jq){Jq(Xq)},L.prototype[F.captureRejectionSymbol]=function(Xq){this.destroy(Xq)},L.prototype.push=function(Xq,Jq){return u(this,Xq,Jq,!1)},L.prototype.unshift=function(Xq,Jq){return u(this,Xq,Jq,!0)};function u(Xq,Jq,Hq,Zq){xq&&Iq("readableAddChunk",Jq,Xq.__id);const Kq=Xq._readableState;let Bq;if(!Kq.objectMode){if(typeof Jq==="string"){if(Hq=Hq||Kq.defaultEncoding,Kq.encoding!==Hq)if(Zq&&Kq.encoding)Jq=Buffer.from(Jq,Hq).toString(Kq.encoding);else Jq=Buffer.from(Jq,Hq),Hq=""}else if(Jq instanceof Buffer)Hq="";else if(M._isUint8Array(Jq)){if(Zq||!Kq.decoder)Jq=M._uint8ArrayToBuffer(Jq);Hq=""}else if(Jq!=null)Bq=new _("chunk",["string","Buffer","Uint8Array"],Jq)}if(Bq)p(Xq,Bq);else if(Jq===null)Kq.reading=!1,O(Xq,Kq);else if(Kq.objectMode||Jq&&Jq.length>0)if(Zq)if(Kq.endEmitted)p(Xq,new S);else if(Kq.destroyed||Kq.errored)return!1;else m(Xq,Kq,Jq,!0);else if(Kq.ended)p(Xq,new g);else if(Kq.destroyed||Kq.errored)return!1;else if(Kq.reading=!1,Kq.decoder&&!Hq)if(Jq=Kq.decoder.write(Jq),Kq.objectMode||Jq.length!==0)m(Xq,Kq,Jq,!1);else C(Xq,Kq);else m(Xq,Kq,Jq,!1);else if(!Zq)Kq.reading=!1,C(Xq,Kq);return!Kq.ended&&(Kq.length<Kq.highWaterMark||Kq.length===0)}function m(Xq,Jq,Hq,Zq){if(xq&&Iq("adding chunk",Xq.__id),xq&&Iq("chunk",Hq.toString(),Xq.__id),Jq.flowing&&Jq.length===0&&!Jq.sync&&Xq.listenerCount("data")>0){if(Jq.multiAwaitDrain)Jq.awaitDrainWriters.clear();else Jq.awaitDrainWriters=null;Jq.dataEmitted=!0,Xq.emit("data",Hq)}else{if(Jq.length+=Jq.objectMode?1:Hq.length,Zq)Jq.buffer.unshift(Hq);else Jq.buffer.push(Hq);if(xq&&Iq("needReadable @ addChunk",Jq.needReadable,Xq.__id),Jq.needReadable)E(Xq,Jq)}C(Xq,Jq)}L.prototype.isPaused=function(){const Xq=this._readableState;return Xq.paused===!0||Xq.flowing===!1},L.prototype.setEncoding=function(Xq){const Jq=new f(Xq);this._readableState.decoder=Jq,this._readableState.encoding=this._readableState.decoder.encoding;const Hq=this._readableState.buffer;let Zq="";for(let Kq=Hq.length;Kq>0;Kq--)Zq+=Jq.write(Hq.shift());if(Zq!=="")Hq.push(Zq);return this._readableState.length=Zq.length,this};var b=1073741824;function c(Xq){if(Xq>b)throw new R("size","<= 1GiB",Xq);else Xq--,Xq|=Xq>>>1,Xq|=Xq>>>2,Xq|=Xq>>>4,Xq|=Xq>>>8,Xq|=Xq>>>16,Xq++;return Xq}function d(Xq,Jq){if(Xq<=0||Jq.length===0&&Jq.ended)return 0;if(Jq.objectMode)return 1;if(H(Xq)){if(Jq.flowing&&Jq.length)return Jq.buffer.first().length;return Jq.length}if(Xq<=Jq.length)return Xq;return Jq.ended?Jq.length:0}L.prototype.read=function(Xq){if(xq&&Iq("read - n =",Xq,this.__id),!J(Xq))Xq=Z(Xq,10);const Jq=this._readableState,Hq=Xq;if(Xq>Jq.highWaterMark)Jq.highWaterMark=c(Xq);if(Xq!==0)Jq.emittedReadable=!1;if(Xq===0&&Jq.needReadable&&((Jq.highWaterMark!==0?Jq.length>=Jq.highWaterMark:Jq.length>0)||Jq.ended)){if(xq&&Iq("read: emitReadable or endReadable",Jq.length,Jq.ended,this.__id),Jq.length===0&&Jq.ended)r(this);else E(this,Jq);return null}if(Xq=d(Xq,Jq),Xq===0&&Jq.ended){if(xq&&Iq("read: calling endReadable if length 0 -- length, state.ended",Jq.length,Jq.ended,this.__id),Jq.length===0)r(this);return null}let Zq=Jq.needReadable;if(xq&&Iq("need readable",Zq,this.__id),Jq.length===0||Jq.length-Xq<Jq.highWaterMark)Zq=!0,xq&&Iq("length less than watermark",Zq,this.__id);if(Jq.ended||Jq.reading||Jq.destroyed||Jq.errored||!Jq.constructed)xq&&Iq("state.constructed?",Jq.constructed,this.__id),Zq=!1,xq&&Iq("reading, ended or constructing",Zq,this.__id);else if(Zq){if(xq&&Iq("do read",this.__id),Jq.reading=!0,Jq.sync=!0,Jq.length===0)Jq.needReadable=!0;try{var Kq=this._read(Jq.highWaterMark);if(Cq(Kq)){xq&&Iq("async _read",this.__id);const Yq=Bun.peek(Kq);if(xq&&Iq("peeked promise",Yq,this.__id),Yq!==Kq)Kq=Yq}if(Cq(Kq)&&Kq?.then&&Rq(Kq.then))xq&&Iq("async _read result.then setup",this.__id),Kq.then(h,function(Yq){p(this,Yq)})}catch(Yq){p(this,Yq)}if(Jq.sync=!1,!Jq.reading)Xq=d(Hq,Jq)}xq&&Iq("n @ fromList",Xq,this.__id);let Bq;if(Xq>0)Bq=a(Xq,Jq);else Bq=null;if(xq&&Iq("ret @ read",Bq,this.__id),Bq===null)Jq.needReadable=Jq.length<=Jq.highWaterMark,xq&&Iq("state.length while ret = null",Jq.length,this.__id),Xq=0;else if(Jq.length-=Xq,Jq.multiAwaitDrain)Jq.awaitDrainWriters.clear();else Jq.awaitDrainWriters=null;if(Jq.length===0){if(!Jq.ended)Jq.needReadable=!0;if(Hq!==Xq&&Jq.ended)r(this)}if(Bq!==null&&!Jq.errorEmitted&&!Jq.closeEmitted)Jq.dataEmitted=!0,this.emit("data",Bq);return Bq},L.prototype._read=function(Xq){throw new v("_read()")},L.prototype.pipe=function(Xq,Jq){const Hq=this,Zq=this._readableState;if(Zq.pipes.length===1){if(!Zq.multiAwaitDrain)Zq.multiAwaitDrain=!0,Zq.awaitDrainWriters=new z(Zq.awaitDrainWriters?[Zq.awaitDrainWriters]:[])}Zq.pipes.push(Xq),xq&&Iq("pipe count=%d opts=%j",Zq.pipes.length,Jq,Hq.__id);const Bq=(!Jq||Jq.end!==!1)&&Xq!==process.stdout&&Xq!==process.stderr?$q:Nq;if(Zq.endEmitted)Aq(Bq);else Hq.once("end",Bq);Xq.on("unpipe",Yq);function Yq(Wq,Pq){if(xq&&Iq("onunpipe",Hq.__id),Wq===Hq){if(Pq&&Pq.hasUnpiped===!1)Pq.hasUnpiped=!0,Gq()}}function $q(){xq&&Iq("onend",Hq.__id),Xq.end()}let zq,Vq=!1;function Gq(){if(xq&&Iq("cleanup",Hq.__id),Xq.removeListener("close",jq),Xq.removeListener("finish",Lq),zq)Xq.removeListener("drain",zq);if(Xq.removeListener("error",Mq),Xq.removeListener("unpipe",Yq),Hq.removeListener("end",$q),Hq.removeListener("end",Nq),Hq.removeListener("data",Fq),Vq=!0,zq&&Zq.awaitDrainWriters&&(!Xq._writableState||Xq._writableState.needDrain))zq()}function Uq(){if(!Vq){if(Zq.pipes.length===1&&Zq.pipes[0]===Xq)xq&&Iq("false write response, pause",0,Hq.__id),Zq.awaitDrainWriters=Xq,Zq.multiAwaitDrain=!1;else if(Zq.pipes.length>1&&Zq.pipes.includes(Xq))xq&&Iq("false write response, pause",Zq.awaitDrainWriters.size,Hq.__id),Zq.awaitDrainWriters.add(Xq);Hq.pause()}if(!zq)zq=l(Hq,Xq),Xq.on("drain",zq)}Hq.on("data",Fq);function Fq(Wq){xq&&Iq("ondata",Hq.__id);const Pq=Xq.write(Wq);if(xq&&Iq("dest.write",Pq,Hq.__id),Pq===!1)Uq()}function Mq(Wq){if(Iq("onerror",Wq),Nq(),Xq.removeListener("error",Mq),Xq.listenerCount("error")===0){const Pq=Xq._writableState||Xq._readableState;if(Pq&&!Pq.errorEmitted)p(Xq,Wq);else Xq.emit("error",Wq)}}j(Xq,"error",Mq);function jq(){Xq.removeListener("finish",Lq),Nq()}Xq.once("close",jq);function Lq(){Iq("onfinish"),Xq.removeListener("close",jq),Nq()}Xq.once("finish",Lq);function Nq(){Iq("unpipe"),Hq.unpipe(Xq)}if(Xq.emit("pipe",Hq),Xq.writableNeedDrain===!0){if(Zq.flowing)Uq()}else if(!Zq.flowing)Iq("pipe resume"),Hq.resume();return Xq};function l(Xq,Jq){return function Hq(){const Zq=Xq._readableState;if(Zq.awaitDrainWriters===Jq)Iq("pipeOnDrain",1),Zq.awaitDrainWriters=null;else if(Zq.multiAwaitDrain)Iq("pipeOnDrain",Zq.awaitDrainWriters.size),Zq.awaitDrainWriters.delete(Jq);if((!Zq.awaitDrainWriters||Zq.awaitDrainWriters.size===0)&&Xq.listenerCount("data"))Xq.resume()}}L.prototype.unpipe=function(Xq){const Jq=this._readableState,Hq={hasUnpiped:!1};if(Jq.pipes.length===0)return this;if(!Xq){const Kq=Jq.pipes;Jq.pipes=[],this.pause();for(let Bq=0;Bq<Kq.length;Bq++)Kq[Bq].emit("unpipe",this,{hasUnpiped:!1});return this}const Zq=X(Jq.pipes,Xq);if(Zq===-1)return this;if(Jq.pipes.splice(Zq,1),Jq.pipes.length===0)this.pause();return Xq.emit("unpipe",this,Hq),this},L.prototype.addListener=L.prototype.on,L.prototype.removeListener=function(Xq,Jq){const Hq=M.prototype.removeListener.call(this,Xq,Jq);if(Xq==="readable")Aq(i,this);return Hq},L.prototype.off=L.prototype.removeListener,L.prototype.removeAllListeners=function(Xq){const Jq=M.prototype.removeAllListeners.apply(this,arguments);if(Xq==="readable"||Xq===void 0)Aq(i,this);return Jq};function i(Xq){const Jq=Xq._readableState;if(Jq.readableListening=Xq.listenerCount("readable")>0,Jq.resumeScheduled&&Jq.paused===!1)Jq.flowing=!0;else if(Xq.listenerCount("data")>0)Xq.resume();else if(!Jq.readableListening)Jq.flowing=null}function n(Xq){xq&&Iq("on readable nextTick, calling read(0)",Xq.__id),Xq.read(0)}L.prototype.resume=function(){const Xq=this._readableState;if(!Xq.flowing)xq&&Iq("resume",this.__id),Xq.flowing=!Xq.readableListening,T(this,Xq);return Xq.paused=!1,this},L.prototype.pause=function(){if(xq&&Iq("call pause flowing=%j",this._readableState.flowing,this.__id),this._readableState.flowing!==!1)xq&&Iq("pause",this.__id),this._readableState.flowing=!1,this.emit("pause");return this._readableState.paused=!0,this},L.prototype.wrap=function(Xq){let Jq=!1;Xq.on("data",(Zq)=>{if(!this.push(Zq)&&Xq.pause)Jq=!0,Xq.pause()}),Xq.on("end",()=>{this.push(null)}),Xq.on("error",(Zq)=>{p(this,Zq)}),Xq.on("close",()=>{this.destroy()}),Xq.on("destroy",()=>{this.destroy()}),this._read=()=>{if(Jq&&Xq.resume)Jq=!1,Xq.resume()};const Hq=B(Xq);for(let Zq=1;Zq<Hq.length;Zq++){const Kq=Hq[Zq];if(this[Kq]===void 0&&typeof Xq[Kq]==="function")this[Kq]=Xq[Kq].bind(Xq)}return this},L.prototype[V]=function(){return o(this)},L.prototype.iterator=function(Xq){if(Xq!==void 0)k(Xq,"options");return o(this,Xq)};function o(Xq,Jq){if(typeof Xq.read!=="function")Xq=L.wrap(Xq,{objectMode:!0});const Hq=s(Xq,Jq);return Hq.stream=Xq,Hq}async function*s(Xq,Jq){let Hq=h;function Zq(Yq){if(this===Xq)Hq(),Hq=h;else Hq=Yq}Xq.on("readable",Zq);let Kq;const Bq=I(Xq,{writable:!1},(Yq)=>{Kq=Yq?D(Kq,Yq):null,Hq(),Hq=h});try{while(!0){const Yq=Xq.destroyed?null:Xq.read();if(Yq!==null)yield Yq;else if(Kq)throw Kq;else if(Kq===null)return;else await new $(Zq)}}catch(Yq){throw Kq=D(Kq,Yq),Kq}finally{if((Kq||(Jq===null||Jq===void 0?void 0:Jq.destroyOnReturn)!==!1)&&(Kq===void 0||Xq._readableState.autoDestroy))w.destroyer(Xq,null);else Xq.off("readable",Zq),Bq()}}K(L.prototype,{readable:{get(){const Xq=this._readableState;return!!Xq&&Xq.readable!==!1&&!Xq.destroyed&&!Xq.errorEmitted&&!Xq.endEmitted},set(Xq){if(this._readableState)this._readableState.readable=!!Xq}},readableDidRead:{enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{enumerable:!1,get:function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{enumerable:!1,get:function(){return this._readableState.flowing},set:function(Xq){if(this._readableState)this._readableState.flowing=Xq}},readableLength:{enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{get(){return this._readableState?this._readableState.closed:!1}},destroyed:{enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(Xq){if(!this._readableState)return;this._readableState.destroyed=Xq}},readableEnded:{enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}}),L._fromList=a;function a(Xq,Jq){if(Jq.length===0)return null;let Hq;if(Jq.objectMode)Hq=Jq.buffer.shift();else if(!Xq||Xq>=Jq.length){if(Jq.decoder)Hq=Jq.buffer.join("");else if(Jq.buffer.length===1)Hq=Jq.buffer.first();else Hq=Jq.buffer.concat(Jq.length);Jq.buffer.clear()}else Hq=Jq.buffer.consume(Xq,Jq.decoder);return Hq}function r(Xq){const Jq=Xq._readableState;if(xq&&Iq("endEmitted @ endReadable",Jq.endEmitted,Xq.__id),!Jq.endEmitted)Jq.ended=!0,Aq(t,Jq,Xq)}function t(Xq,Jq){if(xq&&Iq("endReadableNT -- endEmitted, state.length",Xq.endEmitted,Xq.length,Jq.__id),!Xq.errored&&!Xq.closeEmitted&&!Xq.endEmitted&&Xq.length===0){if(Xq.endEmitted=!0,Jq.emit("end"),xq&&Iq("end emitted @ endReadableNT",Jq.__id),Jq.writable&&Jq.allowHalfOpen===!1)Aq(e,Jq);else if(Xq.autoDestroy){const Hq=Jq._writableState;if(!Hq||Hq.autoDestroy&&(Hq.finished||Hq.writable===!1))Jq.destroy()}}}function e(Xq){if(Xq.writable&&!Xq.writableEnded&&!Xq.destroyed)Xq.end()}L.from=function(Xq,Jq){return y(L,Xq,Jq)};var qq={newStreamReadableFromReadableStream:W};function Qq(){if(qq===void 0)qq={};return qq}L.fromWeb=function(Xq,Jq){return Qq().newStreamReadableFromReadableStream(Xq,Jq)},L.toWeb=function(Xq){return Qq().newReadableStreamFromStreamReadable(Xq)},L.wrap=function(Xq,Jq){var Hq,Zq;return new L({objectMode:(Hq=(Zq=Xq.readableObjectMode)!==null&&Zq!==void 0?Zq:Xq.objectMode)!==null&&Hq!==void 0?Hq:!0,...Jq,destroy(Kq,Bq){w.destroyer(Xq,Kq),Bq(Kq)}}).wrap(Xq)}}}),BQ=cq({"node_modules/readable-stream/lib/internal/streams/writable.js"(q,Q){var{ArrayPrototypeSlice:X,Error:J,FunctionPrototypeSymbolHasInstance:H,ObjectDefineProperty:Z,ObjectDefineProperties:K,ObjectSetPrototypeOf:B,StringPrototypeToLowerCase:Y,Symbol:$,SymbolHasInstance:z}=Dq(),{EventEmitter:V}=Eq("bun:events_native"),G=QQ().Stream,U=qQ(),{addAbortSignal:F}=XQ(),{getHighWaterMark:M,getDefaultHighWaterMark:j}=JQ(),{ERR_INVALID_ARG_TYPE:L,ERR_METHOD_NOT_IMPLEMENTED:N,ERR_MULTIPLE_CALLBACK:W,ERR_STREAM_CANNOT_PIPE:P,ERR_STREAM_DESTROYED:I,ERR_STREAM_ALREADY_FINISHED:x,ERR_STREAM_NULL_VALUES:T,ERR_STREAM_WRITE_AFTER_END:A,ERR_UNKNOWN_ENCODING:O}=sq().codes,{errorOrDestroy:C}=U;function E(s={}){const a=this instanceof vq();if(!a&&!H(E,this))return new E(s);if(this._writableState=new _(s,this,a),s){if(typeof s.write==="function")this._write=s.write;if(typeof s.writev==="function")this._writev=s.writev;if(typeof s.destroy==="function")this._destroy=s.destroy;if(typeof s.final==="function")this._final=s.final;if(typeof s.construct==="function")this._construct=s.construct;if(s.signal)F(s.signal,this)}G.call(this,s),U.construct(this,()=>{const r=this._writableState;if(!r.writing)u(this,r);d(this,r)})}B(E.prototype,G.prototype),B(E,G),Q.exports=E;function w(){}var D=$("kOnFinished");function _(s,a,r){if(typeof r!=="boolean")r=a instanceof vq();if(this.objectMode=!!(s&&s.objectMode),r)this.objectMode=this.objectMode||!!(s&&s.writableObjectMode);this.highWaterMark=s?M(this,s,"writableHighWaterMark",r):j(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;const t=!!(s&&s.decodeStrings===!1);this.decodeStrings=!t,this.defaultEncoding=s&&s.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=f.bind(void 0,a),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,v(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!s||s.emitClose!==!1,this.autoDestroy=!s||s.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[D]=[]}function v(s){s.buffered=[],s.bufferedIndex=0,s.allBuffers=!0,s.allNoop=!0}_.prototype.getBuffer=function s(){return X(this.buffered,this.bufferedIndex)},Z(_.prototype,"bufferedRequestCount",{get(){return this.buffered.length-this.bufferedIndex}}),Z(E,z,{value:function(s){if(H(this,s))return!0;if(this!==E)return!1;return s&&s._writableState instanceof _}}),E.prototype.pipe=function(){C(this,new P)};function R(s,a,r,t){const e=s._writableState;if(typeof r==="function")t=r,r=e.defaultEncoding;else{if(!r)r=e.defaultEncoding;else if(r!=="buffer"&&!Buffer.isEncoding(r))throw new O(r);if(typeof t!=="function")t=w}if(a===null)throw new T;else if(!e.objectMode)if(typeof a==="string"){if(e.decodeStrings!==!1)a=Buffer.from(a,r),r="buffer"}else if(a instanceof Buffer)r="buffer";else if(G._isUint8Array(a))a=G._uint8ArrayToBuffer(a),r="buffer";else throw new L("chunk",["string","Buffer","Uint8Array"],a);let qq;if(e.ending)qq=new A;else if(e.destroyed)qq=new I("write");if(qq)return Aq(t,qq),C(s,qq,!0),qq;return e.pendingcb++,g(s,e,a,r,t)}E.prototype.write=function(s,a,r){return R(this,s,a,r)===!0},E.prototype.cork=function(){this._writableState.corked++},E.prototype.uncork=function(){const s=this._writableState;if(s.corked){if(s.corked--,!s.writing)u(this,s)}},E.prototype.setDefaultEncoding=function s(a){if(typeof a==="string")a=Y(a);if(!Buffer.isEncoding(a))throw new O(a);return this._writableState.defaultEncoding=a,this};function g(s,a,r,t,e){const qq=a.objectMode?1:r.length;a.length+=qq;const Qq=a.length<a.highWaterMark;if(!Qq)a.needDrain=!0;if(a.writing||a.corked||a.errored||!a.constructed){if(a.buffered.push({chunk:r,encoding:t,callback:e}),a.allBuffers&&t!=="buffer")a.allBuffers=!1;if(a.allNoop&&e!==w)a.allNoop=!1}else a.writelen=qq,a.writecb=e,a.writing=!0,a.sync=!0,s._write(r,t,a.onwrite),a.sync=!1;return Qq&&!a.errored&&!a.destroyed}function S(s,a,r,t,e,qq,Qq){if(a.writelen=t,a.writecb=Qq,a.writing=!0,a.sync=!0,a.destroyed)a.onwrite(new I("write"));else if(r)s._writev(e,a.onwrite);else s._write(e,qq,a.onwrite);a.sync=!1}function k(s,a,r,t){--a.pendingcb,t(r),p(a),C(s,r)}function f(s,a){const r=s._writableState,t=r.sync,e=r.writecb;if(typeof e!=="function"){C(s,new W);return}if(r.writing=!1,r.writecb=null,r.length-=r.writelen,r.writelen=0,a){if(Error.captureStackTrace(a),!r.errored)r.errored=a;if(s._readableState&&!s._readableState.errored)s._readableState.errored=a;if(t)Aq(k,s,r,a,e);else k(s,r,a,e)}else{if(r.buffered.length>r.bufferedIndex)u(s,r);if(t)if(r.afterWriteTickInfo!==null&&r.afterWriteTickInfo.cb===e)r.afterWriteTickInfo.count++;else r.afterWriteTickInfo={count:1,cb:e,stream:s,state:r},Aq(y,r.afterWriteTickInfo);else h(s,r,1,e)}}function y({stream:s,state:a,count:r,cb:t}){return a.afterWriteTickInfo=null,h(s,a,r,t)}function h(s,a,r,t){if(!a.ending&&!s.destroyed&&a.length===0&&a.needDrain)a.needDrain=!1,s.emit("drain");while(r-- >0)a.pendingcb--,t();if(a.destroyed)p(a);d(s,a)}function p(s){if(s.writing)return;for(let e=s.bufferedIndex;e<s.buffered.length;++e){var a;const{chunk:qq,callback:Qq}=s.buffered[e],Xq=s.objectMode?1:qq.length;s.length-=Xq,Qq((a=s.errored)!==null&&a!==void 0?a:new I("write"))}const r=s[D].splice(0);for(let e=0;e<r.length;e++){var t;r[e]((t=s.errored)!==null&&t!==void 0?t:new I("end"))}v(s)}function u(s,a){if(a.corked||a.bufferProcessing||a.destroyed||!a.constructed)return;const{buffered:r,bufferedIndex:t,objectMode:e}=a,qq=r.length-t;if(!qq)return;let Qq=t;if(a.bufferProcessing=!0,qq>1&&s._writev){a.pendingcb-=qq-1;const Xq=a.allNoop?w:(Hq)=>{for(let Zq=Qq;Zq<r.length;++Zq)r[Zq].callback(Hq)},Jq=a.allNoop&&Qq===0?r:X(r,Qq);Jq.allBuffers=a.allBuffers,S(s,a,!0,a.length,Jq,"",Xq),v(a)}else{do{const{chunk:Xq,encoding:Jq,callback:Hq}=r[Qq];r[Qq++]=null;const Zq=e?1:Xq.length;S(s,a,!1,Zq,Xq,Jq,Hq)}while(Qq<r.length&&!a.writing);if(Qq===r.length)v(a);else if(Qq>256)r.splice(0,Qq),a.bufferedIndex=0;else a.bufferedIndex=Qq}a.bufferProcessing=!1}E.prototype._write=function(s,a,r){if(this._writev)this._writev([{chunk:s,encoding:a}],r);else throw new N("_write()")},E.prototype._writev=null,E.prototype.end=function(s,a,r,t=!1){const e=this._writableState;if(xq&&Iq("end",e,this.__id),typeof s==="function")r=s,s=null,a=null;else if(typeof a==="function")r=a,a=null;let qq;if(s!==null&&s!==void 0){let Qq;if(!t)Qq=R(this,s,a);else Qq=this.write(s,a);if(Qq instanceof J)qq=Qq}if(e.corked)e.corked=1,this.uncork();if(qq)this.emit("error",qq);else if(!e.errored&&!e.ending)e.ending=!0,d(this,e,!0),e.ended=!0;else if(e.finished)qq=new x("end");else if(e.destroyed)qq=new I("end");if(typeof r==="function")if(qq||e.finished)Aq(r,qq);else e[D].push(r);return this};function m(s,a){var r=s.ending&&!s.destroyed&&s.constructed&&s.length===0&&!s.errored&&s.buffered.length===0&&!s.finished&&!s.writing&&!s.errorEmitted&&!s.closeEmitted;return Iq("needFinish",r,a),r}function b(s,a){let r=!1;function t(e){if(r){C(s,e!==null&&e!==void 0?e:W());return}if(r=!0,a.pendingcb--,e){const qq=a[D].splice(0);for(let Qq=0;Qq<qq.length;Qq++)qq[Qq](e);C(s,e,a.sync)}else if(m(a))a.prefinished=!0,s.emit("prefinish"),a.pendingcb++,Aq(l,s,a)}a.sync=!0,a.pendingcb++;try{s._final(t)}catch(e){t(e)}a.sync=!1}function c(s,a){if(!a.prefinished&&!a.finalCalled)if(typeof s._final==="function"&&!a.destroyed)a.finalCalled=!0,b(s,a);else a.prefinished=!0,s.emit("prefinish")}function d(s,a,r){if(xq&&Iq("finishMaybe -- state, sync",a,r,s.__id),!m(a,s.__id))return;if(c(s,a),a.pendingcb===0){if(r)a.pendingcb++,Aq((t,e)=>{if(m(e))l(t,e);else e.pendingcb--},s,a);else if(m(a))a.pendingcb++,l(s,a)}}function l(s,a){a.pendingcb--,a.finished=!0;const r=a[D].splice(0);for(let t=0;t<r.length;t++)r[t]();if(s.emit("finish"),a.autoDestroy){const t=s._readableState;if(!t||t.autoDestroy&&(t.endEmitted||t.readable===!1))s.destroy()}}K(E.prototype,{closed:{get(){return this._writableState?this._writableState.closed:!1}},destroyed:{get(){return this._writableState?this._writableState.destroyed:!1},set(s){if(this._writableState)this._writableState.destroyed=s}},writable:{get(){const s=this._writableState;return!!s&&s.writable!==!1&&!s.destroyed&&!s.errored&&!s.ending&&!s.ended},set(s){if(this._writableState)this._writableState.writable=!!s}},writableFinished:{get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{get(){const s=this._writableState;if(!s)return!1;return!s.destroyed&&!s.ending&&s.needDrain}},writableHighWaterMark:{get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{get(){return this._writableState?this._writableState.corked:0}},writableLength:{get(){return this._writableState&&this._writableState.length}},errored:{enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{enumerable:!1,get:function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});var i=U.destroy;E.prototype.destroy=function(s,a){const r=this._writableState;if(!r.destroyed&&(r.bufferedIndex<r.buffered.length||r[D].length))Aq(p,r);return i.call(this,s,a),this},E.prototype._undestroy=U.undestroy,E.prototype._destroy=function(s,a){a(s)},E.prototype[V.captureRejectionSymbol]=function(s){this.destroy(s)};var n;function o(){if(n===void 0)n={};return n}E.fromWeb=function(s,a){return o().newStreamWritableFromWritableStream(s,a)},E.toWeb=function(s){return o().newWritableStreamFromStreamWritable(s)}}}),YQ=cq({"node_modules/readable-stream/lib/internal/streams/duplexify.js"(q,Q){var X=Eq("buffer"),{isReadable:J,isWritable:H,isIterable:Z,isNodeStream:K,isReadableNodeStream:B,isWritableNodeStream:Y,isDuplexNodeStream:$}=rq(),z=tq(),{AbortError:V,codes:{ERR_INVALID_ARG_TYPE:G,ERR_INVALID_RETURN_VALUE:U}}=sq(),{destroyer:F}=qQ(),M=vq(),j=KQ(),{createDeferredPromise:L}=_q(),N=HQ(),W=globalThis.Blob||X.Blob,P=typeof W!=="undefined"?function C(E){return E instanceof W}:function C(E){return!1},I=globalThis.AbortController||Eq("abort-controller").AbortController,{FunctionPrototypeCall:x}=Dq();class T extends M{constructor(C){super(C);if((C===null||C===void 0?void 0:C.readable)===!1)this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0;if((C===null||C===void 0?void 0:C.writable)===!1)this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0}}Q.exports=function C(E,w){if($(E))return E;if(B(E))return O({readable:E});if(Y(E))return O({writable:E});if(K(E))return O({writable:!1,readable:!1});if(typeof E==="function"){const{value:_,write:v,final:R,destroy:g}=A(E);if(Z(_))return N(T,_,{objectMode:!0,write:v,final:R,destroy:g});const S=_===null||_===void 0?void 0:_.then;if(typeof S==="function"){let k;const f=x(S,_,(y)=>{if(y!=null)throw new U("nully","body",y)},(y)=>{F(k,y)});return k=new T({objectMode:!0,readable:!1,write:v,final(y){R(async()=>{try{await f,Aq(y,null)}catch(h){Aq(y,h)}})},destroy:g})}throw new U("Iterable, AsyncIterable or AsyncFunction",w,_)}if(P(E))return C(E.arrayBuffer());if(Z(E))return N(T,E,{objectMode:!0,writable:!1});if(typeof(E===null||E===void 0?void 0:E.writable)==="object"||typeof(E===null||E===void 0?void 0:E.readable)==="object"){const _=E!==null&&E!==void 0&&E.readable?B(E===null||E===void 0?void 0:E.readable)?E===null||E===void 0?void 0:E.readable:C(E.readable):void 0,v=E!==null&&E!==void 0&&E.writable?Y(E===null||E===void 0?void 0:E.writable)?E===null||E===void 0?void 0:E.writable:C(E.writable):void 0;return O({readable:_,writable:v})}const D=E===null||E===void 0?void 0:E.then;if(typeof D==="function"){let _;return x(D,E,(v)=>{if(v!=null)_.push(v);_.push(null)},(v)=>{F(_,v)}),_=new T({objectMode:!0,writable:!1,read(){}})}throw new G(w,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],E)};function A(C){let{promise:E,resolve:w}=L();const D=new I,_=D.signal;return{value:C(async function*(){while(!0){const R=E;E=null;const{chunk:g,done:S,cb:k}=await R;if(Aq(k),S)return;if(_.aborted)throw new V(void 0,{cause:_.reason});({promise:E,resolve:w}=L()),yield g}}(),{signal:_}),write(R,g,S){const k=w;w=null,k({chunk:R,done:!1,cb:S})},final(R){const g=w;w=null,g({done:!0,cb:R})},destroy(R,g){D.abort(),g(R)}}}function O(C){const E=C.readable&&typeof C.readable.read!=="function"?j.wrap(C.readable):C.readable,w=C.writable;let D=!!J(E),_=!!H(w),v,R,g,S,k;function f(y){const h=S;if(S=null,h)h(y);else if(y)k.destroy(y);else if(!D&&!_)k.destroy()}if(k=new T({readableObjectMode:!!(E!==null&&E!==void 0&&E.readableObjectMode),writableObjectMode:!!(w!==null&&w!==void 0&&w.writableObjectMode),readable:D,writable:_}),_)z(w,(y)=>{if(_=!1,y)F(E,y);f(y)}),k._write=function(y,h,p){if(w.write(y,h))p();else v=p},k._final=function(y){w.end(),R=y},w.on("drain",function(){if(v){const y=v;v=null,y()}}),w.on("finish",function(){if(R){const y=R;R=null,y()}});if(D)z(E,(y)=>{if(D=!1,y)F(E,y);f(y)}),E.on("readable",function(){if(g){const y=g;g=null,y()}}),E.on("end",function(){k.push(null)}),k._read=function(){while(!0){const y=E.read();if(y===null){g=k._read;return}if(!k.push(y))return}};return k._destroy=function(y,h){if(!y&&S!==null)y=new V;if(g=null,v=null,R=null,S===null)h(y);else S=h,F(w,y),F(E,y)},k}}}),vq=cq({"node_modules/readable-stream/lib/internal/streams/duplex.js"(q,Q){var{ObjectDefineProperties:X,ObjectGetOwnPropertyDescriptor:J,ObjectKeys:H,ObjectSetPrototypeOf:Z}=Dq(),K=KQ();function B(G){if(!(this instanceof B))return new B(G);if(K.call(this,G),Tq.call(this,G),G){if(this.allowHalfOpen=G.allowHalfOpen!==!1,G.readable===!1)this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0;if(G.writable===!1)this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0}else this.allowHalfOpen=!0}Q.exports=B,Z(B.prototype,K.prototype),Z(B,K);for(var Y in Tq.prototype)if(!B.prototype[Y])B.prototype[Y]=Tq.prototype[Y];X(B.prototype,{writable:J(Tq.prototype,"writable"),writableHighWaterMark:J(Tq.prototype,"writableHighWaterMark"),writableObjectMode:J(Tq.prototype,"writableObjectMode"),writableBuffer:J(Tq.prototype,"writableBuffer"),writableLength:J(Tq.prototype,"writableLength"),writableFinished:J(Tq.prototype,"writableFinished"),writableCorked:J(Tq.prototype,"writableCorked"),writableEnded:J(Tq.prototype,"writableEnded"),writableNeedDrain:J(Tq.prototype,"writableNeedDrain"),destroyed:{get(){if(this._readableState===void 0||this._writableState===void 0)return!1;return this._readableState.destroyed&&this._writableState.destroyed},set(G){if(this._readableState&&this._writableState)this._readableState.destroyed=G,this._writableState.destroyed=G}}});var $;function z(){if($===void 0)$={};return $}B.fromWeb=function(G,U){return z().newStreamDuplexFromReadableWritablePair(G,U)},B.toWeb=function(G){return z().newReadableWritablePairFromDuplex(G)};var V;B.from=function(G){if(!V)V=YQ();return V(G,"body")}}}),$Q=cq({"node_modules/readable-stream/lib/internal/streams/transform.js"(q,Q){var{ObjectSetPrototypeOf:X,Symbol:J}=Dq(),{ERR_METHOD_NOT_IMPLEMENTED:H}=sq().codes,Z=vq();function K(z){if(!(this instanceof K))return new K(z);if(Z.call(this,z),this._readableState.sync=!1,this[B]=null,z){if(typeof z.transform==="function")this._transform=z.transform;if(typeof z.flush==="function")this._flush=z.flush}this.on("prefinish",$.bind(this))}X(K.prototype,Z.prototype),X(K,Z),Q.exports=K;var B=J("kCallback");function Y(z){if(typeof this._flush==="function"&&!this.destroyed)this._flush((V,G)=>{if(V){if(z)z(V);else this.destroy(V);return}if(G!=null)this.push(G);if(this.push(null),z)z()});else if(this.push(null),z)z()}function $(){if(this._final!==Y)Y.call(this)}K.prototype._final=Y,K.prototype._transform=function(z,V,G){throw new H("_transform()")},K.prototype._write=function(z,V,G){const U=this._readableState,F=this._writableState,M=U.length;this._transform(z,V,(j,L)=>{if(j){G(j);return}if(L!=null)this.push(L);if(F.ended||M===U.length||U.length<U.highWaterMark||U.highWaterMark===0||U.length===0)G();else this[B]=G})},K.prototype._read=function(){if(this[B]){const z=this[B];this[B]=null,z()}}}}),zQ=cq({"node_modules/readable-stream/lib/internal/streams/passthrough.js"(q,Q){var{ObjectSetPrototypeOf:X}=Dq(),J=$Q();function H(Z){if(!(this instanceof H))return new H(Z);J.call(this,Z)}X(H.prototype,J.prototype),X(H,J),H.prototype._transform=function(Z,K,B){B(null,Z)},Q.exports=H}}),VQ=cq({"node_modules/readable-stream/lib/internal/streams/pipeline.js"(q,Q){var{ArrayIsArray:X,Promise:J,SymbolAsyncIterator:H}=Dq(),Z=tq(),{once:K}=_q(),B=qQ(),Y=vq(),{aggregateTwoErrors:$,codes:{ERR_INVALID_ARG_TYPE:z,ERR_INVALID_RETURN_VALUE:V,ERR_MISSING_ARGS:G,ERR_STREAM_DESTROYED:U},AbortError:F}=sq(),{validateFunction:M,validateAbortSignal:j}=aq(),{isIterable:L,isReadable:N,isReadableNodeStream:W,isNodeStream:P}=rq(),I=globalThis.AbortController||Eq("abort-controller").AbortController,x,T;function A(R,g,S){let k=!1;R.on("close",()=>{k=!0});const f=Z(R,{readable:g,writable:S},(y)=>{k=!y});return{destroy:(y)=>{if(k)return;k=!0,B.destroyer(R,y||new U("pipe"))},cleanup:f}}function O(R){return M(R[R.length-1],"streams[stream.length - 1]"),R.pop()}function C(R){if(L(R))return R;else if(W(R))return E(R);throw new z("val",["Readable","Iterable","AsyncIterable"],R)}async function*E(R){if(!T)T=KQ();yield*T.prototype[H].call(R)}async function w(R,g,S,{end:k}){let f,y=null;const h=(m)=>{if(m)f=m;if(y){const b=y;y=null,b()}},p=()=>new J((m,b)=>{if(f)b(f);else y=()=>{if(f)b(f);else m()}});g.on("drain",h);const u=Z(g,{readable:!1},h);try{if(g.writableNeedDrain)await p();for await(let m of R)if(!g.write(m))await p();if(k)g.end();await p(),S()}catch(m){S(f!==m?$(f,m):m)}finally{u(),g.off("drain",h)}}function D(...R){return _(R,K(O(R)))}function _(R,g,S){if(R.length===1&&X(R[0]))R=R[0];if(R.length<2)throw new G("streams");const k=new I,f=k.signal,y=S===null||S===void 0?void 0:S.signal,h=[];j(y,"options.signal");function p(){l(new F)}y===null||y===void 0||y.addEventListener("abort",p);let u,m;const b=[];let c=0;function d(o){l(o,--c===0)}function l(o,s){if(o&&(!u||u.code==="ERR_STREAM_PREMATURE_CLOSE"))u=o;if(!u&&!s)return;while(b.length)b.shift()(u);if(y===null||y===void 0||y.removeEventListener("abort",p),k.abort(),s){if(!u)h.forEach((a)=>a());Aq(g,u,m)}}let i;for(let o=0;o<R.length;o++){const s=R[o],a=o<R.length-1,r=o>0,t=a||(S===null||S===void 0?void 0:S.end)!==!1,e=o===R.length-1;if(P(s)){let qq=function(Qq){if(Qq&&Qq.name!=="AbortError"&&Qq.code!=="ERR_STREAM_PREMATURE_CLOSE")d(Qq)};if(t){const{destroy:Qq,cleanup:Xq}=A(s,a,r);if(b.push(Qq),N(s)&&e)h.push(Xq)}if(s.on("error",qq),N(s)&&e)h.push(()=>{s.removeListener("error",qq)})}if(o===0)if(typeof s==="function"){if(i=s({signal:f}),!L(i))throw new V("Iterable, AsyncIterable or Stream","source",i)}else if(L(s)||W(s))i=s;else i=Y.from(s);else if(typeof s==="function")if(i=C(i),i=s(i,{signal:f}),a){if(!L(i,!0))throw new V("AsyncIterable",`transform[${o-1}]`,i)}else{var n;if(!x)x=zQ();const qq=new x({objectMode:!0}),Qq=(n=i)===null||n===void 0?void 0:n.then;if(typeof Qq==="function")c++,Qq.call(i,(Hq)=>{if(m=Hq,Hq!=null)qq.write(Hq);if(t)qq.end();Aq(d)},(Hq)=>{qq.destroy(Hq),Aq(d,Hq)});else if(L(i,!0))c++,w(i,qq,d,{end:t});else throw new V("AsyncIterable or Promise","destination",i);i=qq;const{destroy:Xq,cleanup:Jq}=A(i,!1,!0);if(b.push(Xq),e)h.push(Jq)}else if(P(s)){if(W(i)){c+=2;const qq=v(i,s,d,{end:t});if(N(s)&&e)h.push(qq)}else if(L(i))c++,w(i,s,d,{end:t});else throw new z("val",["Readable","Iterable","AsyncIterable"],i);i=s}else i=Y.from(s)}if(f!==null&&f!==void 0&&f.aborted||y!==null&&y!==void 0&&y.aborted)Aq(p);return i}function v(R,g,S,{end:k}){if(R.pipe(g,{end:k}),k)R.once("end",()=>g.end());else S();return Z(R,{readable:!0,writable:!1},(f)=>{const y=R._readableState;if(f&&f.code==="ERR_STREAM_PREMATURE_CLOSE"&&y&&y.ended&&!y.errored&&!y.errorEmitted)R.once("end",S).once("error",S);else S(f)}),Z(g,{readable:!1,writable:!0},S)}Q.exports={pipelineImpl:_,pipeline:D}}}),GQ=cq({"node_modules/readable-stream/lib/internal/streams/compose.js"(q,Q){var{pipeline:X}=VQ(),J=vq(),{destroyer:H}=qQ(),{isNodeStream:Z,isReadable:K,isWritable:B}=rq(),{AbortError:Y,codes:{ERR_INVALID_ARG_VALUE:$,ERR_MISSING_ARGS:z}}=sq();Q.exports=function V(...G){if(G.length===0)throw new z("streams");if(G.length===1)return J.from(G[0]);const U=[...G];if(typeof G[0]==="function")G[0]=J.from(G[0]);if(typeof G[G.length-1]==="function"){const A=G.length-1;G[A]=J.from(G[A])}for(let A=0;A<G.length;++A){if(!Z(G[A]))continue;if(A<G.length-1&&!K(G[A]))throw new $(`streams[${A}]`,U[A],"must be readable");if(A>0&&!B(G[A]))throw new $(`streams[${A}]`,U[A],"must be writable")}let F,M,j,L,N;function W(A){const O=L;if(L=null,O)O(A);else if(A)N.destroy(A);else if(!T&&!x)N.destroy()}const P=G[0],I=X(G,W),x=!!B(P),T=!!K(I);if(N=new J({writableObjectMode:!!(P!==null&&P!==void 0&&P.writableObjectMode),readableObjectMode:!!(I!==null&&I!==void 0&&I.writableObjectMode),writable:x,readable:T}),x)N._write=function(A,O,C){if(P.write(A,O))C();else F=C},N._final=function(A){P.end(),M=A},P.on("drain",function(){if(F){const A=F;F=null,A()}}),I.on("finish",function(){if(M){const A=M;M=null,A()}});if(T)I.on("readable",function(){if(j){const A=j;j=null,A()}}),I.on("end",function(){N.push(null)}),N._read=function(){while(!0){const A=I.read();if(A===null){j=N._read;return}if(!N.push(A))return}};return N._destroy=function(A,O){if(!A&&L!==null)A=new Y;if(j=null,F=null,M=null,L===null)O(A);else L=O,H(I,A)},N}}}),UQ=cq({"node_modules/readable-stream/lib/stream/promises.js"(q,Q){var{ArrayPrototypePop:X,Promise:J}=Dq(),{isIterable:H,isNodeStream:Z}=rq(),{pipelineImpl:K}=VQ(),{finished:B}=tq();function Y(...$){return new J((z,V)=>{let G,U;const F=$[$.length-1];if(F&&typeof F==="object"&&!Z(F)&&!H(F)){const M=X($);G=M.signal,U=M.end}K($,(M,j)=>{if(M)V(M);else z(j)},{signal:G,end:U})})}Q.exports={finished:B,pipeline:Y}}}),FQ=cq({"node_modules/readable-stream/lib/stream.js"(q,Q){var{ObjectDefineProperty:X,ObjectKeys:J,ReflectApply:H}=Dq(),{promisify:{custom:Z}}=_q(),{streamReturningOperators:K,promiseReturningOperators:B}=eq(),{codes:{ERR_ILLEGAL_CONSTRUCTOR:Y}}=sq(),$=GQ(),{pipeline:z}=VQ(),{destroyer:V}=qQ(),G=tq(),U=UQ(),F=rq(),M=Q.exports=QQ().Stream;M.isDisturbed=F.isDisturbed,M.isErrored=F.isErrored,M.isWritable=F.isWritable,M.isReadable=F.isReadable,M.Readable=KQ();for(let L of J(K)){let N=function(...P){if(new.target)throw Y();return M.Readable.from(H(W,this,P))};const W=K[L];X(N,"name",{value:W.name}),X(N,"length",{value:W.length}),X(M.Readable.prototype,L,{value:N,enumerable:!1,configurable:!0,writable:!0})}for(let L of J(B)){let N=function(...P){if(new.target)throw Y();return H(W,this,P)};const W=B[L];X(N,"name",{value:W.name}),X(N,"length",{value:W.length}),X(M.Readable.prototype,L,{value:N,enumerable:!1,configurable:!0,writable:!0})}M.Writable=BQ(),M.Duplex=vq(),M.Transform=$Q(),M.PassThrough=zQ(),M.pipeline=z;var{addAbortSignal:j}=XQ();M.addAbortSignal=j,M.finished=G,M.destroy=V,M.compose=$,X(M,"promises",{configurable:!0,enumerable:!0,get(){return U}}),X(z,Z,{enumerable:!0,get(){return U.pipeline}}),X(G,Z,{enumerable:!0,get(){return U.finished}}),M.Stream=M,M._isUint8Array=function L(N){return N instanceof Uint8Array},M._uint8ArrayToBuffer=function L(N){return new Buffer(N.buffer,N.byteOffset,N.byteLength)}}}),MQ=cq({"node_modules/readable-stream/lib/ours/index.js"(q,Q){const X=FQ(),J=UQ(),H=X.Readable.destroy;Q.exports=X,Q.exports._uint8ArrayToBuffer=X._uint8ArrayToBuffer,Q.exports._isUint8Array=X._isUint8Array,Q.exports.isDisturbed=X.isDisturbed,Q.exports.isErrored=X.isErrored,Q.exports.isWritable=X.isWritable,Q.exports.isReadable=X.isReadable,Q.exports.Readable=X.Readable,Q.exports.Writable=X.Writable,Q.exports.Duplex=X.Duplex,Q.exports.Transform=X.Transform,Q.exports.PassThrough=X.PassThrough,Q.exports.addAbortSignal=X.addAbortSignal,Q.exports.finished=X.finished,Q.exports.destroy=X.destroy,Q.exports.destroy=H,Q.exports.pipeline=X.pipeline,Q.exports.compose=X.compose,Q.exports._getNativeReadableStreamPrototype=NQ,Q.exports.NativeWritable=pQ,Oq.defineProperty(X,"promises",{configurable:!0,enumerable:!0,get(){return J}}),Q.exports.Stream=X.Stream,Q.exports.default=Q.exports}}),LQ={0:void 0,1:void 0,2:void 0,3:void 0,4:void 0,5:void 0},Tq=BQ(),pQ=class q extends Tq{#q;#Q;#X=!0;_construct;_destroy;_final;constructor(Q,X={}){super(X);this._construct=this.#J,this._destroy=this.#Z,this._final=this.#K,this.#q=Q}#J(Q){this._writableState.constructed=!0,this.constructed=!0,Q()}#H(){if(typeof this.#q==="object")if(typeof this.#q.write==="function")this.#Q=this.#q;else throw new Error("Invalid FileSink");else this.#Q=Bun.file(this.#q).writer()}write(Q,X,J,H=this.#X){if(!H)return this.#X=!1,super.write(Q,X,J);if(!this.#Q)this.#H();var Z=this.#Q,K=Z.write(Q);if(Cq(K))return K.then(()=>{this.emit("drain"),Z.flush(!0)}),!1;if(Z.flush(!0),J)J(null,Q.byteLength);return!0}end(Q,X,J,H=this.#X){return super.end(Q,X,J,H)}#Z(Q,X){if(this._writableState.destroyed=!0,X)X(Q)}#K(Q){if(this.#Q)this.#Q.end();if(Q)Q()}ref(){if(!this.#Q)this.#H();this.#Q.ref()}unref(){if(!this.#Q)return;this.#Q.unref()}},PQ=MQ();PQ[Symbol.for("CommonJS")]=0;PQ[Symbol.for("::bunternal::")]={_ReadableFromWeb:ZQ};var lQ=PQ,IQ=PQ._uint8ArrayToBuffer,xQ=PQ._isUint8Array,TQ=PQ.isDisturbed,AQ=PQ.isErrored,OQ=PQ.isWritable,CQ=PQ.isReadable,EQ=PQ.Readable,Tq=PQ.Writable,wQ=PQ.Duplex,DQ=PQ.Transform,_Q=PQ.PassThrough,vQ=PQ.addAbortSignal,RQ=PQ.finished,gQ=PQ.destroy,SQ=PQ.pipeline,kQ=PQ.compose,fQ=PQ.Stream,yQ=PQ["eos"]=tq,hQ=PQ._getNativeReadableStreamPrototype,pQ=PQ.NativeWritable,uQ=fQ.promise;export{uQ as promises,SQ as pipeline,OQ as isWritable,CQ as isReadable,AQ as isErrored,TQ as isDisturbed,RQ as finished,yQ as eos,gQ as destroy,lQ as default,kQ as compose,vQ as addAbortSignal,IQ as _uint8ArrayToBuffer,xQ as _isUint8Array,hQ as _getNativeReadableStreamPrototype,Tq as Writable,DQ as Transform,fQ as Stream,EQ as Readable,_Q as PassThrough,pQ as NativeWritable,wQ as Duplex};
