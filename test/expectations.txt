# Documentation: http://trac.webkit.org/wiki/TestExpectations
# Format: [modifier] test-name [[ expectations ]] [# comment]

# Tests that are broken
test/cli/create/create-jsx.test.ts [ FAIL ] # false > react spa (no tailwind) > build
test/bundler/native-plugin.test.ts [ FAIL ] # prints name when plugin crashes
test/cli/run/run-crash-handler.test.ts [ FAIL ] # automatic crash reporter > segfault should report

# Tests that are flaky
test/js/bun/spawn/spawn-maxbuf.test.ts [ FLAKY ]

# Tests skipped due to different log/line outputs
[ ASAN ] test/js/bun/util/reportError.test.ts [ SKIP ] # log line mismatch
[ ASAN ] test/js/node/child_process/child_process.test.ts [ SKIP ] # Unexpected identifier "WARNING"
[ ASAN ] test/js/bun/shell/bunshell.test.ts [ SKIP ] # bunshell > quiet > basic
[ ASAN ] test/bundler/cli.test.ts [ SKIP ] # debug logs

# Tests failed due to ASAN: attempting free on address which was not malloc()-ed
[ ASAN ] test/js/node/worker_threads/worker_threads.test.ts [ CRASH ] # After: threadId module and worker property is consistent
[ ASAN ] test/js/node/worker_threads/worker_destruction.test.ts [ CRASH ] # After: bun closes cleanly when Bun.connect is used in a Worker that is terminating
[ ASAN ] test/integration/next-pages/test/dev-server-ssr-100.test.ts [ CRASH ]
[ ASAN ] test/integration/next-pages/test/next-build.test.ts [ CRASH ]
[ ASAN ] test/js/third_party/next-auth/next-auth.test.ts [ CRASH ]
[ ASAN ] test/js/node/watch/fs.watch.test.ts [ CRASH ]

# Tests failed due to ASAN: SEGV on unknown address
[ ASAN ] test/integration/next-pages/test/dev-server.test.ts [ CRASH ]

# Tests failed due to ASAN: use-after-poison
[ ASAN ] test/js/node/test/parallel/test-worker-unref-from-message-during-exit.js [ CRASH ]
[ ASAN ] test/napi/napi.test.ts [ CRASH ] # can throw an exception from an async_complete_callback
[ ASAN ] test/js/node/http/node-http-uaf.test.ts [ CRASH ] # should not crash on abort (node-http-uaf-fixture.ts)

# Tests failed due to ASAN: unknown-crash
[ ASAN ] test/js/sql/tls-sql.test.ts [ CRASH ] # After: Throws on illegal transactions

# Tests timed out due to ASAN
[ ASAN ] test/js/bun/spawn/spawn.test.ts [ TIMEOUT ]
[ ASAN ] test/cli/inspect/inspect.test.ts [ TIMEOUT ]

# Tests failed due to memory leaks
[ ASAN ] test/js/node/url/pathToFileURL.test.ts [ LEAK ] # pathToFileURL doesn't leak memory
[ ASAN ] test/js/node/fs/abort-signal-leak-read-write-file.test.ts [ LEAK ] # should not leak memory with already aborted signals
[ ASAN ] test/js/web/streams/streams-leak.test.ts [ LEAK ] # Absolute memory usage remains relatively constant when reading and writing to a pipe
[ ASAN ] test/js/web/fetch/fetch-leak.test.ts [ LEAK ]
[ ASAN ] test/cli/run/require-cache.test.ts [ LEAK ] # files transpiled and loaded don't leak file paths > via require()
[ ASAN ] test/js/bun/http/req-url-leak.test.ts [ LEAK ] # req.url doesn't leak memory
[ ASAN ] test/js/bun/io/bun-write-leak.test.ts [ LEAK ] # Bun.write should not leak the output data
